<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>定时器进度条</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }
    .loading {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 100;
        background: #fff;
    }
    .pic {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        margin: auto;
        border: 1px solid red;
        font-size: 30px;
        text-align: center;
        line-height: 100;
    }
    .loading .pic span {
        display: block;
        width: 80px;
        height: 80px;
        position: absolute;
        top: 10px;
        left: 10px;
        /*background: #066;*/
        
        border-radius: 50%;
        box-shadow: 0 3px 0 #666;
        -webkit-animation: rotate 1s infinite linear;
        animation: rotate 1s infinite linear;
    }
    @-webkit-keyframes rotate {
        0% {
            -webkit-transform: rotate(0deg);
        }
        100% {
            -webkit-transform: rotate(360deg);
        }
    }
    @keyframes rotate {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
    </style>
</head>

<body>
    <script type="text/javascript" src="d:/workspace/jquery-2.0.3/jquery-2.0.3/jquery.js"></script>
    <script type="text/javascript">
    $(function() {
        // var img = new Image();

        // img.onload = function  () {

        // }

        // img.src = 'xxx.png';

        var img = $('img');
        var num = 0;

        img.each(function(i) {
            var oImg = new Image();
            oImg.onload = null;
            oImg.onload = function() {
                num++;
                $('.loading b').html(parseInt(num / $('img').size() * 100) + '%');

                if (num >= i) {
                    $('.loading').fadeOut();
                }

            }
            oImg.src = img[i].src;
        })
    })
    </script>
    <div class="loading">
        <div class="pic">
            <span></span>
            <b>0</b>
        </div>
    </div>
    <img src="http://pic27.nipic.com/20130323/12013739_171719485183_2.gif">
    <img src="http://img4.duitang.com/uploads/item/201211/24/20121124112047_KUFxK.gif">
    <img src="http://pic27.nipic.com/20130323/12013739_171719485183_2.gif">
    <img src="http://img4.duitang.com/uploads/item/201211/24/20121124112047_KUFxK.gif">
    <img src="http://pic27.nipic.com/20130323/12013739_171719485183_2.gif">
    <img src="http://img4.duitang.com/uploads/item/201211/24/20121124112047_KUFxK.gif">
</body>

</html>
