(function(z){
var zu=function(a){return 1==a.nodeType&&!z.Pe(a)};z.Au=function(a,b){this.node=a;this.offset=b};z.Bu=function(a){return a.length||a.childNodes.length};z.Cu=function(a,b){return a.Pc&&b?z.y.indexOf(a.Pc,b):-1};z.Du=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&zu(g))break;a=g;b=z.Bu(a)}else{if(d&&zu(f))break;a=f;b=0}}else{if(d&&zu(a.lastChild))break;a=a.lastChild;b=z.Bu(a)}else break}return new z.Au(a,b)};
var Eu=function(a,b,c){c=0>c?z.Cu(a,a.qc):c;var d=z.Yh(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Zh(a,c);if(g&&a.YC(g)){a.zA(c);break}f++;c=b.call(a,c,d)}};z.Fu=function(a,b){var c=a.parentNode,d=z.y.indexOf(c.childNodes,a)+(b?0:1),c=z.Du(c,d,b,!0);z.Ro(c.node,c.offset).select()};var Gu=function(a){Eu(a,function(a,c){a--;return 0>a?c-1:a},a.Ra)};var Hu=function(a){Eu(a,function(a,c){return(a+1)%c},a.Ra)};var Iu=function(a){Eu(a,function(a,c){a--;return 0>a?c-1:a},0)};
z.Ju=function(a){Eu(a,function(a,c){return(a+1)%c},z.Yh(a)-1)};z.Ku=function(a){return z.Zh(a,a.Ra)};var Lu=function(a,b){var c=b.m(),c=c.id||(c.id=b.ae());a.xg||(a.xg={});a.xg[c]=b};var Mu=function(a,b){var c=a.v(),d=a.dc();b?c.g(d,"focus",a.Ed).g(d,"blur",a.Wc).g(a.Ur(),"key",a.ec):c.na(d,"focus",a.Ed).na(d,"blur",a.Wc).na(a.Ur(),"key",a.ec)};var Nu=function(a,b){a&&(a.tabIndex=b?0:-1)};
z.Ou=function(a,b){if(z.Gk(a))a.selectionStart=b,a.selectionEnd=b;else if(z.C){b=z.Ik(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};var Pu=function(a){this.type="anon_change";this.nb=a};var Qu=function(a){return a.gj.length?a.gj.pop():a.Bn()};z.Ru=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.ye(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};z.Z=function(a,b){return z.aa[a]=b};z.Su=function(a,b){a.lo=b||null};
z.Tu=function(a,b){a.Zy=null==b||b instanceof z.Sg?b:new z.Sg(b,void 0,void 0,void 0);a.T()&&a.da()};var Uu=function(a){a.ready(function(){var a=this.La;this.Cd?z.Ou(a,a.value.length):a.Ba.lastChild?z.Fu(a.Ba.lastChild):a.Vf();this.el&&(this.el.scrollTop=this.el.scrollHeight)})};var Vu=function(a){return a.Cd?a.La:a.La.m()};var Wu=function(a,b){a.params=b};var Xu=function(a){a.zy=!0;a.FD=z.Ah(a.m()).height;z.Zt+=a.FD;z.y.forEach(z.Uo,function(a){a&&!a.zy&&a.kl&&a.lp()})};
var Yu=function(a,b){a.Nw=b};z.Zu=function(a,b,c){z.S.call(this,c);this.N=b||z.sn.U();this.Hb=a||this.N.ox()};var $u=function(a){var b={};z.y.forEach(a.data.gb(),function(a){b[a]=this.data.get(a)},a);return b};var av=function(a){a.Ub()&&a.fire()};var bv=function(a,b){return a.ge.get(b)};var cv=function(a,b,c){var d=z.Ys;d.ca.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ca.na(this,"update",g))})};
var dv=function(a,b,c){b.v().g(a,"update",function(a){var f;z.Bc(b)?f=b.hasListener("nearbottom",void 0):(f=z.Lc(b),f=!!f&&f.hasListener("nearbottom",void 0));f&&c(a.target.size)&&b.dispatchEvent("nearbottom")})};
var ev=function(a,b,c){function d(){var b=new z.V(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.As.oa);b.on("success",function(){var c=z.fe(b);c&&!c.r&&f.dispatchEvent(new Pu(a))});b.ajax(d,g)}var f=z.sj,g={title:"\u786e\u8ba4\u4f7f\u7528\u533f\u540d\u8eab\u4efd\uff1f",content:'\x3cp\x3e\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u540e\uff0c\u4f60\u5c06\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e\u4e0d\u80fd\u5728\u8be5\u95ee\u9898\u4e0b\u8bc4\u8bba\uff08\u4f60\u4e4b\u524d\u7684\u8bc4\u8bba\u5c06\u88ab\u9690\u85cf\uff09\x3c/li\x3e\x3cli\x3e\u4e0d\u80fd\u9080\u8bf7\u522b\u4eba\u56de\u7b54\u8be5\u95ee\u9898\x3c/li\x3e\x3c/ul\x3e'},
h={title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\u3001\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"};z.Gi(a?g:h,function(a){a&&d();b&&b(a)})};var fv=function(a){return null!=a};var gv=function(){this.aB="";this.eK=hv};z.iv=function(a){return!/[^\t\n\r ]/.test(a)};z.jv=function(a,b,c){this.XG=a;this.aT=!!c;a&&!b&&this.next()};
var kv=function(a){return a instanceof gv&&a.constructor===gv&&a.eK===hv?a.aB:"type_error:Const"};z.lv=function(a){return 1==a.nodeType||3==a.nodeType&&!z.iv(a.nodeValue)};z.mv=function(a){try{return a.next()}catch(b){return null}};var nv=function(a,b,c){z.ba(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.jv.call(this,a.childNodes[c],!0,b)};var ov=function(){this.NH="";this.hK=pv};var qv=function(){this.jm="";this.dK=rv};var sv=function(a){return 1==a.length?"0"+a:a};
var tv=function(a,b,c,d,f,g){z.sc.call(this,a);this.event=c;this.Dr=g};var uv=function(a,b){return a>b};var vv=function(a,b){return a<b};var wv=function(a){return a.left||0};var xv=function(a){return a.left+a.width-1};var yv=function(a){return a.top+a.height-1};var zv=function(a,b){var c=a.al;return Math.abs(b.y-(c.top+(c.height-1)/2))};
var Av=function(a,b){var c=window.$.extend({all:!1},Av.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};var Bv=function(a,b,c){var d=z.jh(a);b instanceof z.te&&(c=b.y,b=b.x);z.dh(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};var Cv=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:z.bf(a.nextSibling,!0)};
var Dv=function(a){function b(a){if(z.fa(a))z.y.forEach(a,b);else{if(!(a instanceof z.jd)){var g=null;a.fy&&(g=a.ql());a=z.md(z.Fa(a.Ml?a.pj():String(a)),g)}d+=z.ld(a);a=a.ql();0==c?c=a:0!=a&&c!=a&&(c=null)}}var c=0,d="";z.y.forEach(arguments,b);return z.md(d,c)};z.Ev=function(a){for(var b;b=a&&1==a.nodeType?z.mv(z.I.filter(new nv(a,!1),z.lv)):null;)a=b;return a};
var Fv=function(a,b,c){z.Gn.call(this,a,0,c?"\u6dfb\u52a0\u7236\u8bdd\u9898":"\u6dfb\u52a0\u5b50\u8bdd\u9898");this.Dy=c;this.Cf=b;this.Ds="";this.bI="/topic/parent/remove"};var Gv=function(){z.H.call(this);this.Rc=[];this.bl=[];this.zw={};this.S=new z.dd(this);this.pP=this.YF=!1;this.vB=!0};var Hv=function(a,b,c){b.aE=c;b.Xi=void 0;a.Rc.push(b)};var Iv=function(a,b){for(var c=0,d=a.Rc.length;c<d;c++){var f=a.Rc[c];f.al=z.th(f)}c=0;for(d=a.bl.length;c<d;c++)f=a.bl[c],f!=b&&(f.al=z.th(f))};
var Jv=function(a){z.ic(a.Lb);a.Gc&&z.Q(a.Gc);a.Za&&"none"==a.Za.style.display&&(a.xt.insertBefore(a.Za,a.Hz),a.Za.style.display="");a.jw&&a.Za?z.Mg(a.Za,a.jw||[]):a.Za&&(a.Za.style.visibility="visible");for(var b=0,c=a.Rc.length;b<c;b++){var d=a.Rc[b];d.Xi&&z.Lg(d,d.Xi)}};var Kv=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};
var Lv=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({yJ:Av},z.tt,b||{});if(!c.yJ(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.AC?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var Mv=function(a,b){b.all=!0;return Av(a,b)};
var Nv=function(a,b,c,d){var f=null;d&&(c&&(c=window.$.proxy(c,d)),f&&(f=window.$.proxy(f,d)));window.$.get("/node/"+a,{params:b},function(a){a&&a.r?f&&f(a):c&&c(a)})};var Ov=function(a){var b=a.match(Pv);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var Qv=function(a){if(!Rv.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Sv,"#$1$1$2$2$3$3"));return a.toLowerCase()};
var Tv=function(a){var b=a.body;a=a.documentElement;return new z.te(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};z.Uv=function(a){z.Ro(z.Ev(a),0).select()};z.Vv=function(a,b){z.C&&z.Te(a);a.innerHTML=b};z.Wv=function(a,b){var c=z.vf(a);if(a.getElementsByTagName)for(var d in z.At)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"\u00a0"==c||z.iv(c)};z.Xv=function(a){if(a=z.Tn(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(c){}};
var Yv=function(a){z.Gn.call(this);this.He="\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\u3001\u533b\u5b66\u3001\u6cd5\u5f8b\u3001\u6570\u5b66...";this.data=a||[]};var Zv=function(a){if(a.Sf)(0,window.$)(a.Sf).on("click",".del",window.$.proxy(function(a){var c=(0,window.$)(a.target).parents(".item");c.data("active")?(z.We(this.$m,c[0],0),z.Wm(c[0])):z.Q(c[0]);z.y.forEach(this.data,function(a,b){a+""===c.data("url-token")+""&&this.data.splice(b,1)},this);this.Rk();this.dispatchEvent("remove")},a))};
var $v=function(a){if(a.$m)(0,window.$)(a.$m).on("click",".add",window.$.proxy(function(a){a=(0,window.$)(a.target).parents(".item");z.We(this.Sf,a[0],0);z.Wm(a[0]);this.Rk();this.dispatchEvent("add")},a))};var aw=function(a){z.Gn.call(this,a,0);this.Ds="";this.RC="/topic/ignore"};var bw=function(){z.Gn.call(this,null,null,"\u641c\u7d22\u8bdd\u9898");this.He="";this.data=[z.Ds[0]]};
var cw=function(a){if(a){var b=a.getBoundingClientRect(),c=b.bottom,b=b.top;c<z.Fe().height&&0>b&&(0,window.setTimeout)(function(){var b=a.getBoundingClientRect().bottom,f=Tv(window.document);window.scrollTo(f.x,f.y+b-c)})}};
var dw=function(a){function b(a){return window.$.isNumeric(a)?a+" ":a}var c;c=c||+new Date;if(0>=c-a)return"\u521a\u521a";a=Math.floor((c-a)/1E3);c=Math.floor(a/31536E3);if(1<=c)return b(c)+"\u5e74\u524d";c=Math.floor(a/2592E3);if(1<=c)return b(c)+"\u6708\u524d";c=Math.floor(a/604800);if(1<=c)return b(c)+"\u5468\u524d";c=Math.floor(a/86400);if(1<=c)return b(c)+"\u5929\u524d";c=Math.floor(a/3600);if(1<=c)return b(c)+"\u5c0f\u65f6\u524d";c=Math.floor(a/60);if(1<=c)return b(c)+"\u5206\u949f\u524d";c=
Math.floor(a);return b(c)+"\u79d2\u524d"};var ew=function(){var a=z.Y;return 1===a||0===a?"\u533f\u540d\u7528\u6237":['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'" title\x3d"'+a[0]+'" class\x3d"','zm-item-link-avatar"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+a[2]+'" /\x3e',"\x3c/a\x3e"].join("")};
var fw=function(a,b){return z.fa(a)?['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'"',b?' class\x3d"'+b+'"':"",' title\x3d"',a[0],'"\x3e',a[0],"\x3c/a\x3e"].join(""):"\u533f\u540d\u7528\u6237"};var gw=function(a){if(0===a||1===a)return"\u533f\u540d\u7528\u6237";var b=z.P("a",{href:"/people/"+a[1],title:a[0]},a[0]);b.setAttribute("data-tip","p$t$"+a[1]);return b};var hw=function(a){return z.P("a",{href:"/topic/"+a[1],title:a[0],"class":""},a[0])};
var iw=function(a){if(0===a||1===a)return z.P("span");if(z.fa(a)){var b=z.P("a",{href:"/people/"+a[1],title:a[0],"class":"zm-item-link-avatar"},z.P("img",{src:a[2],"class":"zm-list-avatar"}));b.setAttribute("data-tip","p$t$"+a[1]);return b}};var jw=function(a){return 1===a?!0:z.fa(a)?a[3]===z.Y[3]:!1};var kw=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};var lw=function(a,b){return window.$.get("/"+a+"/"+b+"/sharetext")};
var mw=function(a,b){return window.$.post("/question/askpeople",{qid:a,uid:b,op:"remove"})};var nw=function(a,b,c,d,f){z.ql.call(this,a,[b],[c],d,f)};var ow=function(a,b,c,d,f){z.ql.call(this,a,[b],[c],d,f)};var pw=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");z.ql.apply(this,arguments)};
var qw=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Rv.test(c))return b.rs=Qv(c),b.type="hex",b;c=Ov(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=sv(d.toString(16));a=sv(a.toString(16));c=sv(c.toString(16));b.rs="#"+d+a+c;b.type="rgb";return b}if(rw&&(c=rw[a.toLowerCase()]))return b.rs=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var sw=function(a){var b=window.$.extend({},{title:"\u4fe1\u606f",II:"\u52a0\u8f7d\u4e2d",buttons:[],onload:z.m},a),c=z.P("div",{className:"modal-dialog-async-loading",innerHTML:(b.II||"\u52a0\u8f7d\u4e2d")+'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e'}),d=z.Gi(b);d.aa().appendChild(c);b.cw&&b.cw.then(function(a){z.Q(c);d.Vd||(a&&d.ka(a),d.da(),b.onload(d.aa(),d))});return d};
var tw=function(a){var b=z.ye(a),c=z.C&&a.currentStyle;if(c&&z.Cf(z.L(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=z.Bh(a,c.width,"width","pixelWidth"),a=z.Bh(a,c.height,"height","pixelHeight"),new z.ve(b,a);c=z.Ah(a);b=z.Dh(a);a=z.lh(a);return new z.ve(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};var uw=function(a,b){var c=a.style[z.cb(b)];return"undefined"!==typeof c?c:a.style[z.Xg(a,b)]||""};
var vw=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.B;default:return 166>a.keyCode||183<a.keyCode}};var ww=function(a,b,c){return Math.min(Math.max(a,b),c)};
var xw=function(a){if(!yw.test("input"))throw Error("Invalid tag name \x3cinput\x3e.");if("INPUT"in z.os)throw Error("Tag name \x3cinput\x3e is not allowed for SafeHtml.");var b=null,c="\x3cinput";if(a)for(var d in a){if(!yw.test(d))throw Error('Invalid attribute name "'+d+'".');var f=a[d];if(null!=f){var g;g=d;if(f instanceof gv)f=kv(f);else if("style"==g.toLowerCase()){if(!z.ja(f))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof f+" given: "+f);
if(!(f instanceof z.hd)){var h="",l=void 0;for(l in f){if(!/^[-_a-zA-Z0-9]+$/.test(l))throw Error("Name allows only [-_a-zA-Z0-9], got: "+l);var n=f[l];if(null!=n){if(n instanceof gv)n=kv(n);else if(zw.test(n)){for(var p=!0,w=!0,F=0;F<n.length;F++){var J=n.charAt(F);"'"==J&&w?p=!p:'"'==J&&p&&(w=!w)}p&&w||(n="zClosurez")}else n="zClosurez";h+=l+":"+n+";"}}f=h?(new z.hd).ro(h):z.ms}f=f instanceof z.hd&&f.constructor===z.hd&&f.cK===z.id?f.Vz:"type_error:SafeStyle"}else{if(/^on/i.test(g))throw Error('Attribute "'+
g+'" requires goog.string.Const value, "'+f+'" given.');if(g.toLowerCase()in z.ns)if(f instanceof ov)f=f instanceof ov&&f.constructor===ov&&f.hK===pv?f.NH:"type_error:TrustedResourceUrl";else if(f instanceof qv)f=f instanceof qv&&f.constructor===qv&&f.dK===rv?f.jm:"type_error:SafeUrl";else throw Error('Attribute "'+g+'" on tag "input" requires goog.html.SafeUrl or goog.string.Const value, "'+f+'" given.');}f.Ml&&(f=f.pj());g=g+'\x3d"'+z.Fa(String(f))+'"';c+=" "+g}}d=void 0;null!=d?z.fa(d)||(d=[d]):
d=[];!0===z.ls.input?c+="\x3e":(b=Dv(d),c+="\x3e"+z.ld(b)+"\x3c/input\x3e",b=b.ql());(a=a&&a.dir)&&(b=/^(ltr|rtl|auto)$/i.test(a)?0:null);return z.md(c,b)};var Aw=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};z.Bw=function(a){return a.replace(/^[\s\xa0]+/,"")};var Cw=function(){throw Error("unimplemented abstract method");};var Dw=function(a){z.H.call(this);this.view=this.name=null;z.A.extend(this.options={},this.defaults,a||{})};
var Ew=function(a,b){function c(b){Dw.call(this,b);this.name=a}z.v(c,Dw);z.qa(c.prototype,b);Fw[a]=c};var Gw=function(a,b){var c=Fw[a];if(!c)throw Error("Cannot find constructor");return new c(b)};var Hw=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{});this.source=this.J.source;this.promise=window.$.Deferred().resolve();this.Kd={}};var Iw=function(a,b,c){a.va&&z.y.forEach(a.Fb(),b,c);a.v().g(a,"itemcreated",function(a){b.call(c,a.item)})};
var Jw=function(a){a.Rd&&(z.Q(a.Rd),a.Rd=null);a.dispatchEvent("complete")};var Kw=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,p,w,F){if("%"==p)return"%";var J=c.shift();if("undefined"==typeof J)throw Error("[goog.string.format] Not enough arguments");arguments[0]=J;return Lw[p].apply(null,arguments)})};
var Mw=function(a){Hw.call(this,a)};var Nw=function(){};var Ow=function(a,b,c){z.Ej.call(this,a,c||Nw.U(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.O=1};var Pw=function(){this.Sv=[]};var Qw=function(a,b){var c=a.Sv[b];if(!c){switch(b){case 0:c=a.R()+"-highlight";break;case 1:c=a.R()+"-checkbox";break;case 2:c=a.R()+"-content"}a.Sv[b]=c}return c};var Rw=function(a,b,c){a=Qw(a,2);return c.B("DIV",a,b)};
var Sw=function(a,b){var c=a.aa(b);if(c){var c=c.firstChild,d=Qw(a,1);return!!c&&z.df(c)&&z.Ig(c,d)}return!1};var Tw=function(a,b,c,d){z.wj(a,c,b.ai());z.xj(a,b,c);d!=Sw(a,c)&&(z.Ng(c,"goog-option",d),c=a.aa(c),d?(a=Qw(a,1),c.insertBefore(b.M().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};var Uw=function(a,b,c,d){z.Ej.call(this,a,d||Pw.U(),c);this.Ea(b)};var Vw=function(){};
z.Ww=function(a,b){z.Ej.call(this,null,a||Vw.U(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.O=1};var Xw=function(a){this.Jq=a||"menu"};var Yw=function(a){z.Ww.call(this,Vw.U(),a)};var Zw=function(a,b){z.Zu.call(this,z.wt,b||Xw.U(),a);this.Re(!1)};var $w=function(a,b,c,d){z.Hq.call(this,a,b);this.Go=c?5:0;this.Kz=d||void 0};var ax=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var bx=function(a,b,c,d){$w.call(this,a,b,c||d);(c||d)&&this.zm(65|(d?32:132))};var cx=function(){};
var dx=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.Ya)(f))a.removeChild(c);else{c.nodeValue=b?z.Bw(f):z.Da(f);break}}else break;c=d}};var ex=function(){};var fx=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};
var gx=function(a,b,c,d,f){z.Lj.call(this,a,c||ex.U(),d);this.Rb(64,!0);this.Wl=new bx(null,5);b&&this.mh(b);this.JG=null;this.ma=new z.$c(500);!z.ts&&!z.Fi||z.E("533.17.9")||(this.Ms=!0);this.hQ=f||Xw.U()};var hx=function(a){a.JG=new z.Sg(7,0,7,0)};var ix=function(a){a.Wl.zm&&a.Wl.zm(33)};
var jx=function(a){if(a.ia.va){var b=a.Wl;a.Wl.element=a.jS||a.m();var c=a.ia.m();a.ia.T()||(c.style.visibility="hidden",z.R(c,!0));!a.zt&&a.Wl.Vn&&a.Wl.Vn()&32&&(a.zt=z.rh(c));b.da(c,b.Jf^1,a.JG,a.zt);a.ia.T()||(z.R(c,!1),c.style.visibility="visible")}};var kx=function(a,b,c){var d=a.v();c=c?d.g:d.na;c.call(d,b,"action",a.co);c.call(d,b,"close",a.Gx);c.call(d,b,"highlight",a.Nx);c.call(d,b,"unhighlight",a.Ux)};var lx=function(a,b){var c=a.v();(b?c.g:c.na).call(c,a.m(),"keydown",a.ON)};
var mx=function(a,b){var c=a.m(),d=z.Dg(b,"activedescendant"),d=z.ye(b).getElementById(d)||b;if(!d.id){var f=z.Rh.U();d.id=z.Sh(f)}z.Eg(c,d);z.Bg(c,"owns",d.id)};var nx=function(){z.H.call(this)};var ox=function(a,b,c){z.S.call(this);this.type=a;this.id=b;this.zv=c||px[a]||"other_report"};var qx=function(a,b){if(a.type&&a.id&&!(0,window.$)(b).hasClass("goog-menu-button")){var c=new gx("report",new Zw);c.hk=!0;c.bc=z.as;c.w(b);z.gc(c,a);a.IG=c;a.v().wa(c.m(),["mouseover","focus"],z.zi(a.VO))}};
var rx=function(a,b){window.$.get("/report/reported",{type:"question",id:a.id},window.$.proxy(function(a){if(a.r)z.U(a.msg);else if(a.reported)z.U(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5");else{a=new sx(this.type,this.id);var d=(0,z.Gp)(a.BE,{each:z.y.forEach,options:b,headnote:'\x3ca href\x3d"/question/19806261" class\x3d"zg-link-gray"\x3e\u77e5\u4e4e\u63d0\u95ee\u89c4\u8303\x3c/a\x3e'});a.Nk("\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539",d);a.Sq(b)}},a))};
var sx=function(a,b){z.H.call(this);this.type=a;this.id=b};var tx=function(){z.H.call(this);this.uf="zm-pm-item"};var ux=function(a){var b=new z.V(!0);b.on("success",function(){var a=z.fe(b);a.r?z.U(a.msg):window.location.reload()});b.ajax("/inbox/delete","type\x3dthread\x26token\x3d"+a)};var vx=function(){z.H.call(this);this.uf="zm-pm-item"};var wx=function(a){if(a.Fb().length){var b=new Mw;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a.at)}};
var xx=function(a,b){z.Gi("\u5220\u9664\u79c1\u4fe1","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u5c01\u79c1\u4fe1\u5417\uff1f",function(a){a&&yx(this,b)},a)};var yx=function(a,b){var c=new z.V(!0);a.v().wa(c,"success",function(){var a=z.fe(c);a.r?z.U(a.msg):window.location.reload()});c.ajax("/inbox/delete","type\x3dsingle\x26token\x3d"+b)};var zx=function(a,b,c){z.S.call(this);this.offset=this.ph=0;this.ET=c;this.BM=a;this.url=b||window.location.href;this.Sg="zm-item";this.params={}};
var Ax=function(a,b){a.url=b};var Bx=function(a,b){b?a.zk.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\u6b63\u5728\u52a0\u8f7d').prop("disabled",!0):a.zk.html("\u66f4\u591a").prop("disabled",!1)};var Cx=function(a,b){a.ns=b};var Dx=function(a){var b=a.Fb();a.offset=a.mz?a.mz(b):b.length;a.ns?(b=a.ns(),z.R(a.fc,b)):a.fc&&("-1"===a.zk.attr("data-next")||!b||10>b.length?a.zk.hide():a.zk.removeClass("hidden").show())};
var Ex=function(a,b,c,d){c=c||z.m;if(!a.Bh||"pending"!==a.Bh.state()){var f=a.JH(window.$.extend(a.params,{offset:a.offset,start:a.ph}));"live"!==f.start&&z.X.sa({type:"topstory_feed_more"});a.Bh=window.$.post(a.url,f).done(c).done(window.$.proxy(function(a){if(d)return d.call(this,a);this.AB&&!b?this.IA?this.Xg(a):(this.Gt=a,Bx(this,!1)):this.Xg(a)},a));1!==a.dn&&Bx(a,!0);return a.Bh}};var Fx=function(a){a.dispatchEvent({data:{zo:a.zo,zB:a.zB},type:"afterload"})};
var Gx=function(a){var b=a.Fb(),c;if(a.ET)if(a.fc&&(c=a.fc.getAttribute("data-next")),c)a.ph=c;else if(b=z.y.Yc(b))a.ph=a.EH(b)};var Hx=function(a,b){z.y.forEach(b,function(a){var b=this.Zj(a);this.dispatchEvent({data:{item:a,GP:b},type:"itemcreated"})},a)};var Ix=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var Jx=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ba(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.y.extend(b,Jx(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.y.extend(b,Jx(a[d]));else{var g=Ix(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.y.extend(b,Jx(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var Kx=function(){this.Jn="";this.kh=[]};
var Lx=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.Jn=d.join("")};var Mx=function(a){this.uv={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new Nx(a[c]);b.push(d)}this.ri=b}};
var Nx=function(a){var b=Ox[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.OF=a;this.cQ=c;this.TI={};Ox[a]=this};
var Px=function(a,b){var c=b.uid,d=a.TI[c];if("undefined"!=typeof d)return d;var f=a.cQ,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.xL[g]&&(h=!1);return a.TI[c]=h};var Qx=function(a){var b=z.ka(a),c=Rx[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ka(d);var f={};if(a.className)for(var g=z.Gg(a),h=0;h<g.length;h++)f[g[h]]=1;d.xL=f;c.unshift(d)}while(a=a.parentNode);this.YG=c;this.uid=z.ka(this);Rx[b]=this};
z.Sx=function(){z.H.call(this);this.kc=this.yq()};var Tx=function(a,b,c,d,f){this.rE=a;this.SA=b;this.Tq=c;this.uE=d;this.Tw=f||{}};var Ux=function(a,b){this.YU=a;this.CD=b};
var Vx=function(a,b,c,d){var f=[];a.Tq&&a.SA&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Tq&&f.push("height:",a.uE?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.CD&&f.push(c.CD);z.B&&a.SA&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.Et&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.rE,'" style\x3d"min-width:0;');z.B&&a.Tq&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.SA?"100%":"auto"),a.uE?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.Zg&&f.push(";outline:hidden");for(var g in a.Tw)f.push(";"+g+":"+a.Tw[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var Wx=function(a,b){z.H.call(this);this.Mg=this.id=a;this.mb=null;this.Kd={};this.zj={};for(var c in z.Xx)this.zj[c]=[];this.Uk="";this.qk={};this.qk[Yx]=1;this.qk[z.Zx]=1;this.xr=new z.hl(this.YD,$x,this);this.vr={};for(var d in ay)this.vr[ay[d]]=0;z.B&&(this.ve=new z.hl(this.ao,by,this));this.lc=new z.dd(this);this.ZU=[];this.Oj=z.cy;this.em=z.L(b||window.document);this.Kc=this.em.m(this.id);this.SM=z.Mt;this.Fk=this.em.Wa()};
var dy=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in ey;return(a.ctrlKey||a.metaKey)&&a.keyCode in fy||b};var gy=function(a,b){a.Oj=2;a.Ba=b;a.mb=z.L(b);b.setAttribute("g_editable","true");z.Ag(b,"textbox")};
var hy=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.B&&b.metaKey&&!z.E(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=dy(b)?!0:!(!z.B||b.ctrlKey||b.metaKey||z.B&&!b.charCode));a.Ax=c;a.Ax&&a.Th();return!0};var iy=function(a,b,c){var d={};a=a.Kt(8,b||"",d);z.Wg(c,d);z.Vv(c,a)};
var jy=function(a,b){if(!b.altKey){var c=z.Ac?b.metaKey:b.ctrlKey;if(c||ky[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.Ac&&z.B&&"`"==d&&" "==b.xb.key&&(d=" "),a.yo(5,b,d,c)&&b.preventDefault())}}};var ly=function(a){var b;return a.tc()&&(b=a.mb)?(a=b.Wa())&&a.frameElement:null};z.my=function(a){return(a=a.mb&&a.mb.Wa())&&z.No(a)};
z.ny=function(a,b,c){if(!oy(a,"selectionchange")){var d=z.my(a),d=d&&d.Ob();a.tf=!!d&&z.ff(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",VW:b&&b.type});a.yo(4,b,c)}};z.py=function(a,b,c){b&&(a.ve&&av(a.ve),a.qk[Yx]=1);c&&(z.qy(a),a.qk[z.Zx]=1)};var ry=function(a,b,c){!b&&a.ve&&av(a.ve);a.qk[Yx]=0;a.qk[z.Zx]=0;b&&a.ao();c&&a.YD()};var oy=function(a,b){return!!a.qk[b]||a.vr[b]&&500>=(0,z.x)()-a.vr[b]};z.qy=function(a){a.ve&&av(a.ve);av(a.xr)};
var sy=function(a){z.yf(a.target,"A")&&a.preventDefault()};z.ty=function(a){var b=a.m();if(b){var c=z.Ev(b);b==c?z.Ro(b,0).select():z.Fu(c,!0);z.ny(a)}};var uy=function(a){if(!z.ba(a.Ay)&&(a.Ay=!1,z.C&&a.tc())){for(var b=a.em.Wa();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.Ay="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.Ay};z.vy=function(a,b){Wx.call(this,a,b)};
var wy=function(a){if(a.Gp?0:a.Gp=!0){var b=ly(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(uw(b,"width"),10)!=h&&(f=z.Dh(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Ao()&&(0,window.parseInt)(uw(b,"height"),10)!=g&&(f||(f=z.Dh(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Gp=!1;d&&a.dispatchEvent("ifrsz")}};var xy=function(a){a.m()&&(wy(a),a.Ao()||a.QA())};
var yy=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Mc=new zy(b)};var zy=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var Ay=function(){z.H.call(this)};var By=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.U(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.U("\u64cd\u4f5c\u6210\u529f\uff01"),c&&c(a))}})};
var Cy=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.FM);return window.$.post("/manage",c).then(function(a){return z.xa("\u7528\u6237\u5df2\u88ab\u8b66\u544a %s \u6b21\uff0c\u7981\u8a00 %s \u6b21",a.warn_num,a.ban_num)})};var Dy=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{});this.Ym=new z.pd;this.re=null};
var Ey=function(a,b){var c=a.J,d=new z.Xq(c.trigger,!1,null,b);d.Fp=c.IT;d.ho=c.FO;d.lh(a.gn);z.G(d,"trigger",function(a){d.setPosition(new z.Hq(a.anchor,1))});z.G(d,"beforeshow",function(a){this.re=a.target.anchor;this.ea()},!1,a);d.className=c.mK;a.KO=d};var Fy=function(a,b){var c=a.J.FP,d=z.Ze(a.gn),f=z.y.find(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.T.has(f,c))return!1;z.y.forEach(d,function(a){z.T.remove(a,c)});z.T.add(f,c);return!0};
var Gy=function(a,b,c,d){a.Ym.set(b,{name:b,V:c,Ri:d||z.m})};z.Hy=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{})};var Iy=function(a){var b=a.J,c=a.h;Jy(c);b=Ky(c,b.wF);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};var Ly=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var My=function(a,b){return Ly(a,b,function(a){return Ny(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};
var Ny=function(a){return"A"===a.nodeName};var Jy=function(a){var b=z.mf(a,function(b){return 3===b.nodeType&&!My(b,a)}),c,d=z.No(),f=d&&z.Vn(d);z.y.forEach(b,function(a){var b=a.nodeValue,d=Oy(b);d!==b&&(b=z.Ne(d),f===a&&(c=b.lastChild),z.Xe(b,a))});c&&z.Fu(c)};
var Ky=function(a,b){var c=z.y.filter(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.y.contains(Py,a.protocol))b=z.sf(a),z.va(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.y.map(c,function(c){return Qy(c.href).done(function(f){Ry(a,c,f,b)})})};
var Ry=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.No();if(d){var f=d.Y(),w=d.ua(),F=d.ha(),J=d.Ka();z.ff(b,f)&&(f=a,w=0);z.ff(b,F)&&(F=a,J=0);c(function(){f===a&&F===a?z.Fu(a):z.yo(f,w,F,J).select()})}else c(z.m)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",Sy(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.lf(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Xe(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var Sy=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" \u7684\u9875\u9762"};var Oy=function(a){return a.replace(Ty,function(a){z.va(a,"http")||(a="http://"+a);return a.link(a)})};
var Uy=function(a){var b=new Dy({});Gy(b,"link","\u94fe\u63a5",function(a){z.lf(a,a.href)});Gy(b,"text","\u6587\u672c",function(a){z.lf(a,a.getAttribute("data-title"))});b.w(a);var c=b.tx();z.Tu(c,new z.Sg(2,0,0,0));z.Su(c,new z.Sg(2,0,0,0));var d=b.v();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.sf(a);c===a.href?Fy(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),Fy(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&Ny(b))return!1});
var f;d.g(c,"show",function(a){f=a.target.anchor;z.T.add(f,"hover")}).g(c,"hide",function(){f&&(z.T.remove(f,"hover"),f=null)});return b};
var Vy=function(a,b,c){z.S.call(this);this.id=a;this.type=b;this.Ba=null;this.Ad=this.Ct=!1;this.fe="\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba\u2026";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.fe+"\x3c/p\x3e";this.Kj="";this.Ia=-1;this.wG=window.$.Deferred().resolve();this.Uz=this.ct=null;this.jD="zm-comment-box";this.vh=null;a=Wy[b];if(!a)throw Error("API not found");this.wg=window.$.extend({},Wy._default_,a);this.yn="";z.A.extend(this.J={},this.defaults,c||{})};
var Xy=function(a,b){return z.nm(a,function(){return{ya:{question:"question_comment_"+b,answer:"question_answer_comment_"+b}[this.type]||!0,gd:!0}},function(){return this.yn})};var Yy=function(a,b,c){var d=z.N(a.jD,b);c&&(a.vh=c);d?a.w(d):(a.Ct=!0,a.ea(b))};var Zy=function(a){z.A.forEach({uC:".load-more",wn:".zm-comment-list",pD:".zm-comment-form",Ba:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var $y=function(a){a.Ba&&a.Ba.setAttribute("aria-label",a.fe);if(z.yp){var b=a.Ba;b.setAttribute("contentEditable",!0);var c=a.cl={m:function(){return b},nl:function(){return z.kn(b)?"":b.innerHTML},Md:function(a,c){b.innerHTML=c},Vf:function(){z.Uv(b)}};a.Gs(c);a.Hs(c)}else az(a);a.v().g(a.Ba,["change","keyup"],function(a){27!==a.keyCode&&(z.Wv(this.Ba)?this.Kj="":this.Kj=this.fb())});bz(a)};
var az=function(a){var b=z.P("textarea",{placeholder:a.fe,"class":"zm-comment-textarea"});z.Xe(b,a.Ba);new z.pn(b,22);a.Ba=b;a.cl={m:function(){return b},nl:function(){return b.value},Md:function(){b.value="";b.style.height=z.eh(22,!0)},Vf:function(){b.focus()}}};
var cz=function(a){var b=a.cl,c=b.m();if(b.nl()!==a.placeholder){b.Md(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Md(!1,this.Kj||"");this.Ba.lastChild?z.Fu(this.Ba.lastChild):b.Vf();z.Tc(c,d,f,!1,this)};z.G(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.ff(a.Ba,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.Ba.blur()}};var dz=function(a){a.focus();a=z.Qo(a);a.collapse();a.select()};
var ez=function(a){var b;(b=z.N("zm-comment-reply-hack"))?(b=z.Ne(z.Ru(b)),z.T.mv(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.Ve(b,a)):(b="",z.Y.ya()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.Y.ml("is")+'"\x3e'),b=z.Ne('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"\u5199\u4e0b\u4f60\u7684\u56de\u590d"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e\u8bc4\u8bba\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var fz=function(a){var b=window.location.hash.slice(1).split("-");if(b="comment"===b[0]&&b[1])a=gz(a,b),z.Wm(a),Lv(a)};var gz=function(a,b){return z.y.find(hz(a),function(a){return a.getAttribute("data-id")===b})};var hz=function(a){return(0,window.$)(a.wn).children(".zm-item-comment").get()};
var iz=function(a){a.v().g(a.h,"click",a.Ma).g(a.Ba,"keydown",a.ZQ).g(z.sj,"anon_change",a.qj).g(a.cl.m(),["click","focus"],z.pa(a.iu,!0)).g(a.cl.m(),"focus",z.pa(a.Di,"add_comment_start"));a.Ia=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.uf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.Ei&&a.uC&&(a.Uz=kw().then(window.$.proxy(a.vG,a)))};var jz=function(a){0<a.Sa()?(a.Kj=a.fb(),a.iu(!1),cz(a)):a.vh?a.collapse():a.iu();a.Mf()};
var kz=function(a){if(a.vh){var b=(0,window.$)(a.vh);a.$(a.DC).show().css("left",b.position().left+b.width()/2)}};var lz=function(a){if("pending"!==a.wG.state()){a.Eb();a.h.innerHTML=a.An();a.expand();var b=a.wg.ol(a.id,a.J.tG).done((0,z.r)(a.MS,a));return a.wG=b}};
var bz=function(a){z.Y.ya()?z.Y.active||mz(a,'\x3cdiv class\x3d"activate-mask-tip-comment"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):mz(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',
null)};var mz=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.Ba).hide().after(d).after(b)):b.insertAfter(a.Ba);a=(0,z.r)(Xy(z.m,"box"),a);b.on("click",a);d.on("click",a)};var nz=function(a){Zy(a);$y(a);cz(a);iz(a);oz(a);kz(a)};var oz=function(a){var b=a.J,c=!a.Sa();z.T.enable(a.h,b.Bw,c);c&&a.Ba&&b.autofocus&&a.Ba.focus();a.dispatchEvent("change")};
var pz=function(a,b,c){if(!a.km||"pending"!==a.km.state()){var d;z.ja(b)&&(d=b.TS,b=b.content);b=z.Ea(b);var f=new z.pd;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.wg.add(f.vu());b.done(window.$.proxy(a.hN,a)).done(c);a.km=b;a.Kj=a.fb();a.Di("add_comment_submit")}};var qz=function(a,b){var c=z.Af(b,a.J.uf);(new Ay).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.r)(function(){z.Q(c);--this.Ia;oz(this)},a))};
var rz=function(a,b){var c=z.Af(b,a.J.uf),d=c.getAttribute("data-id"),f="\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\u540c\u65f6\u5c06\u6b64\u4eba\u5c4f\u853d\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility",
"visible")}));var h=z.Gi("\u5220\u9664\u8bc4\u8bba",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),sz(this,d,Number(a),z.pa(z.Q,c)))},a)};var tz=function(a,b,c){a.wg.remove(b).done((0,z.r)(function(){z.ia(c)&&c();--this.Ia;oz(this)},a))};var sz=function(a,b,c,d){a.wg.UK(b,c).done((0,z.r)(function(){z.ia(d)&&d();--this.Ia;oz(this)},a))};
var uz=function(a){if(!a.jl&&!z.Zr.ob){var b=z.Af(a.h,"zm-item-meta");if(b){var c=z.N("zm-meta-panel",b);c&&(a.jl=new z.$o(null,b),a.jl.tag="comment",a.jl.w(c))}}};var vz=function(a){var b={appkey:"3063806388"};a&&(b.title=a);window.open("http://service.weibo.com/share/share.php?"+window.$.param(b),"_blank","width\x3d615,height\x3d505")||(window.location.href="http://service.weibo.com/share/share.php?"+window.$.param(b))};var wz=function(a,b,c,d){(new xz(b,c,d)).w(a)};
var yz=function(a){lw("answer",a).done(function(a){vz(a.msg.sina)})};var xz=function(a,b,c){z.S.call(this);this.vd=a;this.yB=b;this.BT=c};
var zz=function(a){var b=a.HG=new Zw,c=[{label:z.Ne('\x3cspan class\x3d"ico z-ico-weibo-share"\x3e\x3c/span\x3e\u65b0\u6d6a\u5fae\u535a'),value:0},{label:z.Ne('\x3cspan class\x3d"ico z-ico-wechat-share"\x3e\x3c/span\x3e\u5fae\u4fe1\u626b\u4e00\u626b\x3cimg class\x3d"qrcode-image js-qrcode-image"\x3e'),value:1}];!z.Y.zO||"answer"!==a.vd&&"post"!==a.vd||c.push({label:z.Ne('\x3cspan class\x3d"ico z-ico-daily-share"\x3e\x3c/span\x3e\u77e5\u4e4e\u65e5\u62a5'),value:2});window.$.each(c,function(a,c){var g=
new Uw(c.label,c.value);b.Ga(g)});z.Zh(b,1).Ya(!1);c=new gx("share",b);c.bc=z.as;c.w(a.m());z.gc(c,a);a.v().g(b,"show",z.nm(function(){z.X.sa({type:"ga_click_share"+this.vd+"_box"})})).g(b,"action",a.gN);(0,window.$)(b.m()).addClass("share-menu")};
var Az=function(a){var b=new z.Ai(null,!1);z.ui(b,null);b.ef=!0;b.jb("\u63a8\u8350\u5230\u77e5\u4e4e\u65e5\u62a5");b.F(!0);b.ka('\x3cdiv class\x3d"js-title question-title"\x3e\x3c/div\x3e\x3cform class\x3d"js-form clearfix"\x3e\x3ctextarea class\x3d"js-content recommend-reason" placeholder\x3d"\u63a8\u8350\u7406\u7531\u3001\u5907\u6ce8\u6216\u5176\u4ed6\uff08\u9009\u586b\uff09"\x3e\x3c/textarea\x3e\x3cbutton class\x3d"js-submit zg-btn-blue submit-button"\x3e\u63a8\u8350\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"js-close close-button"\x3e\u53d6\u6d88\x3c/button\x3e\x3c/form\x3e');var c=
(0,window.$)(b.m());c.addClass("daily-recommend-dialog");a.mk.then(function(a){(0,window.$)(".js-title",c).text(a.msg.daily)});var d=(0,window.$)(".js-submit",c);d.click(z.ck(d,function(){var d={via:"daily",url_token:a.yB,content:(0,window.$)(".js-content",c).val()};return window.$.post("/"+a.vd+"/share",d,function(a){b.F(!1);a.r?z.U(a.msg):z.U("\u5206\u4eab\u6210\u529f!")})}));(0,window.$)(".js-close",c).click(function(){b.F(!1)})};var Bz=function(a){z.S.call(this);this.entryType=a};
var Cz=function(a,b){return z.nm(a,b,function(){return this.Tn()})};var Dz=function(a){a=(0,window.$)(a);var b={};(0,window.$)("meta[itemprop]",a).each(function(){var a=(0,window.$)(this);b[a.attr("itemprop")]=a.attr("content")});return b};var Ez=function(a){var b=(0,window.$)('.js-report, a[name\x3d"report"]',a.m()),c=a.entryType,d=a.Nb;b.each(function(a,b){var h=(0,window.$)(b),l=new ox(c,d);h.hasClass("goog-menuitem")?h.click(function(){l.EI()}):(qx(l,b),z.gc(l,this))})};
var Fz=function(a,b){this.Ko=this.Td=1;this.$g=b||4;this.items=a||[];this.cD=[];Gz(this)};var Hz=function(a,b,c){b=(b-1)*a.$g;return a.items.slice(b,b+c)};var Iz=function(a,b){var c=Hz(a,a.Td+1,1)[0];if(a.fo()&&c){var d=a.remove(b);a.remove(c);a.items.splice(d,0,c);return c}};var Gz=function(a){a.Ko=Math.ceil(a.items.length/a.$g)};var Jz=function(a){Bz.call(this,a)};
var Kz=function(a){a=(0,window.$)(a.m());var b=(0,window.$)(".js-list",a);(0,window.$)(".js-hidden-list",a);var c=(0,window.$)(".pager",a),d=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html((0,window.$)(".js-hidden-list").html()).children().add(b.children())),f=new Fz(d,4);f.Jc(function(a){c.find(".next").toggleClass("disabled",!a.fo);c.find(".prev").toggleClass("disabled",!a.os)});(0,window.$)(".pager",a).on("click",".next:not(.disabled)",function(){f.next();b.html(Hz(f,f.Td,f.$g))}).on("click",
".prev:not(.disabled)",function(){f.prev();b.html(Hz(f,f.Td,f.$g))});a.on("click","[data-follow]",function(a){var b=(0,window.$)(a.target).closest(".item"),c=Iz(f,b[0]);c&&b.fadeOut(function(){b.replaceWith(c)})})};var Lz=function(a){Bz.call(this,a)};var Mz=function(){Bz.call(this,"question")};var Nz=function(a){cv(a.h,function(){Oz("question",this.Hg,"touch")},a)};var Pz=function(){Bz.call(this,"answer")};var Qz=function(a){return z.N("zm-item-answer",a)||z.N("entry-body",a)};
var Rz=function(a,b){(0,window.$)(".feed-question-detail-item",a.h).toggleClass("question-detail-expanded",b)};var Sz=function(){Bz.call(this,"column")};var Tz=function(a,b,c){z.S.call(this);this.Nb=a;this.entryType=b||"answer";this.Sh=null;this.J=window.$.extend({},this.defaults,c||{})};var Uz=function(a,b,c){var d=+a.LB.text(),f=0;(0,window.isNaN)(d)||(c===Vz.pe?f=1:b===Vz.pe&&(f=-1),a.LB.text(d+f))};
var Wz=function(a){var b={};b[Vz.pe]="vote_up";b[Vz.rg]="vote_down";b[Vz.eC]="vote_neutral";a.Sh=("post"===a.entryType?Xz.GB:Yz.GB)(a.Nb,b[a.O]);return a.Sh};
var Zz=function(a){var b=a.O,c=a.J,d=b===Vz.pe,b=b===Vz.rg,f=d?"\u53d6\u6d88\u8d5e\u540c":"\u8d5e\u540c",g=b?"\u53d6\u6d88\u53cd\u5bf9":"\u53cd\u5bf9\uff0c\u4e0d\u4f1a\u663e\u793a\u4f60\u7684\u59d3\u540d";a.av.toggleClass(c.Ht,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.Tu.toggleClass(c.Ht,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};
var $z=function(a){z.S.call(this);this.iq="votebar-mobile";this.vw="votebar-mobile-dialog";this.HB=a;this.AJ=z.P("span","_votebar-holder")};var aA=function(a){var b=a.HB;z.Xe(a.AJ,b.m());z.T.add(b.m(),a.iq);a.v().g(b,"action",function(){this.Db&&(0,window.setTimeout)((0,z.r)(function(){this.Db.F(!1)},this),150)})};var bA=function(){Bz.call(this,"post")};
var cA=function(a){var b=a.ou=new dA;a.L(b);z.gc(a,b);a.v().g(b,"expand",function(){this.Ua(!0)});b.w(a.h);b.Dd()&&a.v().wa(b,"expand",a.$y);cv(a.h,a.Qj,a)};var eA=function(a){var b=z.N("zm-item-vote-info",a.h);if(b){var c=new fA(a.Nb,a.entryType);z.gc(a,c);c.w(b);a.sb&&a.v().g(a.sb,"change",function(){gA(c)}).g(c,"change",function(){var a=z.N("zm-item-vote-count",this.h),b=(0,window.$)(".zm-votebar .count",this.h)[0];a&&z.Om(a,c.Sa());b&&z.Om(b,c.Sa())})}};var hA=function(){Bz.call(this,"roundtable")};
var iA=function(a){var b=a.getAttribute("data-type");return(b={ac:Jz,p:bA,a:Pz,q:Mz,r:hA,c:Sz}[b])?new b:Qz(a)?new Pz:new z.S};var jA=function(a,b,c){zx.call(this,a,b,c)};var kA=function(){z.H.call(this);this.Aa=null;this.pa=0;this.Sy=[];this.$s=[];this.lB="\u6700\u591a\u8f93\u5165 20 \u5b57";this.tw="\u6700\u591a\u8f93\u5165 256 \u5b57"};var lA=function(a,b,c){a.Aa||(a.Aa=new z.Ai(null,!1),z.ui(a.Aa,null),a.Aa.jb(b||""),c&&(a.Aa.aa().innerHTML=c),a.v().g(a.Aa,"afterhide",a.Mf))};
var mA=function(a,b,c){var d=z.M("zh-fav-list-item-place-holder");d&&z.R(d,!1);a.Wz=b[5]?"":z.P("span","zm-fav-list-item-lock",[z.P("i","icon icon-lock")]);d=z.P("span","zm-favo-list-item-title");z.lf(d,b[1]);d=z.P("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.Wz,d,z.P("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e \u6761\u7b54\u6848 \x3cspan class\x3d"zg-bull"\x3e\u2022\x3c/span\x3e '+b[4]+" \u4eba\u5173\u6ce8"})]);a.Wz&&a.Wz.setAttribute("data-tip",
"s$t$\u79c1\u5bc6\u6536\u85cf\u5939");d.setAttribute("data-lid",b[0]);z.y.contains(a.$s,b[0])&&z.T.add(d,"zm-favo-list-item-link-active");b=z.N("zm-favo-list-item-link",a.Ug);c&&b?z.Ue(d,b):a.Ug.appendChild(d)};var nA=function(a,b){if(a.pa!==b&&a.Ug){var c=z.Ce("zm-favo-list-item-link",a.Ug);z.y.forEach(c,function(a){z.T.remove(a,"zm-favo-list-item-link-active")},a)}a.pa=b};
var oA=function(a,b,c,d){var f=z.M("zh-fav-head-title"),g=z.M("zh-fav-head-description-source");b=b||(f?z.sf(f):"");c=c||(g?z.sf(g):"");a.GD=d||z.Es;pA(a);a.ic();qA(a,1);z.R(a.YA,!1);a.dr.innerHTML="\u53d6\u6d88";a.jv.innerHTML="\u4fdd\u5b58";a.Aa.jb("\u7f16\u8f91\u6536\u85cf\u5939");a.Mj.value=z.Qa(b);a.Tl.value=z.Qa(c);a.GD[1]?(z.R(a.uS,!1),z.R(a.rS,!1),z.R(a.IP,!1)):a.xP.setAttribute("checked",!0);a.ZO=rA(a);a.Aa.F(!0);a.Ql=!0};
var sA=function(a){var b=z.Ce("zm-favo-list-item-link",a.Ug);z.y.forEach(b,function(a){var b=a.getAttribute("data-lid");z.T.remove(a,"zm-favo-list-item-link-active");z.y.contains(this.$s,+b)&&z.T.add(a,"zm-favo-list-item-link-active")},a)};var pA=function(a){a.tM?sA(a):a.B()};
var qA=function(a,b){var c=!!b;a.Aa.jb(0===b?"\u6dfb\u52a0\u5230\u6536\u85cf\u5939":"\u521b\u5efa\u65b0\u6536\u85cf\u5939");z.R(a.RP,!c);z.R(a.ix,c);(0,window.$)(a.Jw).text("").hide();new z.Kl(a.Mj,a.lB);new z.Kl(a.Tl,a.tw);if(1===b)(0,window.$)(a.ix).on("change.FavoDiag","input, textarea, select",function(){a.gf()});else(0,window.$)(a.ix).off("change.FavoDiag"),a.Mf()};
var rA=function(a){var b=new z.dn,c=z.Rm(a.Mj.value),d=z.Fa(a.Tl.value===a.tw?"":a.Tl.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.yP.checked?1:0);return b};var tA=function(a){a.Aa.F(!1);a.dispatchEvent(uA);z.X.sa({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Ug).length}})};
var vA=function(a,b,c,d){(0,window.$)(c).addClass("btn-pending").text(d?"\u4fdd\u5b58\u4e2d":"\u521b\u5efa\u4e2d");a.v().wa(b,"complete",function(){(0,window.$)(c).removeClass("btn-pending").text(d?"\u4fdd\u5b58":"\u786e\u8ba4\u521b\u5efa")})};var wA=function(a,b,c){c=c||(b?"\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5":"\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");(0,window.$)(a).text(c).show()};
var xA=function(a){var b=a.type;if(!z.ba(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return z.ba(a.value)?a.value:null}};var yA=function(a,b){var c=a.elements[b];if(c){if(c.type)return xA(c);for(var d=0;d<c.length;d++){var f=xA(c[d]);if(f)return f}}return null};
var zA=function(a,b,c){var d=new z.V(!0);d.addEventListener("complete",function(){var a;try{a=z.fe(this)}catch(d){}a&&!a.r&&z.ia(b)?b.call(this,a):z.ia(c)&&c.call(this,a.msg)});d.ajax("/people/edit","data\x3d"+(0,window.encodeURIComponent)(z.Ad(a)))};var AA=function(a,b){z.H.call(this);this.h=a;var c=z.df(this.h)?this.h:this.h?this.h.body:null;this.AP=!!c&&z.xh(c);this.qG=z.G(this.h,z.B?"DOMMouseScroll":"mousewheel",this,b)};var BA=function(a,b){return z.D&&(z.Ac||z.es)&&0!=a%b?a:a/b};
var CA=function(a,b,c,d){z.vc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var DA=function(){z.H.call(this)};var EA=function(a,b){return null==a.pk?b:a.Oo+Math.round((b-a.Oo)/a.pk)*a.pk};var FA=function(a,b){z.S.call(this,a);this.rC=null;this.zb=new DA;this.JP=b||z.bs;z.G(this.zb,"change",this.iF,!1,this)};
var GA=function(a,b){b?(a.v().g(a.je,"beforedrag",a.Zr).g(a.Tf,"beforedrag",a.Zr).g(a.je,["start","end"],a.ls).g(a.Tf,["start","end"],a.ls).g(a.vb,"key",a.nf).g(a.m(),"click",a.hs).g(a.m(),"mousedown",a.hs),a.XF&&HA(a,!0)):(a.v().na(a.je,"beforedrag",a.Zr).na(a.Tf,"beforedrag",a.Zr).na(a.je,["start","end"],a.ls).na(a.Tf,["start","end"],a.ls).na(a.vb,"key",a.nf).na(a.m(),"click",a.hs).na(a.m(),"mousedown",a.hs),a.XF&&HA(a,!1))};
var IA=function(a,b){var c=z.mh(b,a.m());return"vertical"==a.Hb?c.y:a.Zd&&a.Gd()?a.m().clientWidth-c.x:c.x};var JA=function(a,b){var c=a.Hc(),d=a.Uc();if("vertical"==a.Hb){var f=a.ab.offsetHeight,g=a.m().clientHeight-f,f=IA(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.ab.offsetWidth;g=a.m().clientWidth-f;f=IA(a,b)-f/2;return(d-c)*f/g+c};var KA=function(a,b){if(b==a.ab)return a.zb.W();if(b==a.Bd)return a.zb.W()+a.zb.Yh();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var LA=function(a,b){Math.abs(b)<a.Xn()&&(b=(0,z.ps)(b)*a.Xn());var c=KA(a,a.ab)+b,d=KA(a,a.Bd)+b,c=ww(c,a.Hc(),a.Uc()-a.kt),d=ww(d,a.Hc()+a.kt,a.Uc());MA(a,c,d-c)};var NA=function(a,b,c){var d=EA(a.zb,c);c=b==a.ab?d:a.zb.W();b=b==a.Bd?d:a.zb.W()+a.zb.Yh();c>=a.Hc()&&b>=c+a.kt&&a.Uc()>=b&&MA(a,c,b-c)};var MA=function(a,b,c){a.Hc()<=b&&b<=a.Uc()-c&&a.kt<=c&&c<=a.Uc()-b&&(b!=a.W()||c!=a.Yh())&&(a.zb.nt=!0,a.zb.du(0),a.zb.Ea(b),a.zb.du(c),a.zb.nt=!1,a.iF())};
var OA=function(a,b){return b<=a.zb.W()+a.zb.Yh()/2?a.ab:a.Bd};var PA=function(a){if(a.ab&&!a.Ks){var b=QA(a,KA(a,a.ab)),c=QA(a,KA(a,a.Bd));if("vertical"==a.Hb)a.ab.style.top=b.y+"px",a.Bd.style.top=c.y+"px",a.Wb&&(b=RA(c.y,b.y,a.ab.offsetHeight),a.Wb.style.top=b.offset+"px",a.Wb.style.height=b.size+"px");else{var d=a.Zd&&a.Gd()?"right":"left";a.ab.style[d]=b.x+"px";a.Bd.style[d]=c.x+"px";a.Wb&&(b=RA(b.x,c.x,a.ab.offsetWidth),a.Wb.style[d]=b.offset+"px",a.Wb.style.width=b.size+"px")}}};
var RA=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var QA=function(a,b){var c=new z.te;if(a.ab){var d=a.Hc(),f=a.Uc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Hb?(d=a.m().clientHeight-a.ab.offsetHeight,f=Math.round(f*d),c.x=SA(a,a.ab),c.y=d-f):(d=Math.round(f*(a.m().clientWidth-a.ab.offsetWidth)),c.x=d,c.y=a.ab.offsetTop)}return c};
var TA=function(a,b){b=ww(b,a.Hc(),a.Uc());a.Ks&&a.pr.stop(!0);var c=new z.Bq,d,f=OA(a,b),g=a.W(),h=a.Yh(),l=KA(a,f),n=QA(a,l);d=a.Xn();Math.abs(b-l)<d&&(b=ww(l+(b>l?d:-d),a.Hc(),a.Uc()));NA(a,f,b);l=QA(a,KA(a,f));d="vertical"==a.Hb?[SA(a,f),l.y]:[l.x,f.offsetTop];n=new pw(f,[n.x,n.y],d,100);n.Pf(a.Zd);c.add(n);a.Wb&&UA(a,f,g,h,l,c);a.rC&&(f=a.rC.oW(g,b,100),z.y.forEach(f,function(a){c.add(a)}));a.pr=c;a.v().g(c,"end",a.DM);a.Ks=!0;c.play(!1)};
var UA=function(a,b,c,d,f,g){var h=QA(a,c),l=QA(a,c+d);c=h;d=l;b==a.ab?c=f:d=f;"vertical"==a.Hb?(b=RA(l.y,h.y,a.ab.offsetHeight),h=RA(d.y,c.y,a.ab.offsetHeight),f=new pw(a.Wb,[SA(a,a.Wb),b.offset],[SA(a,a.Wb),h.offset],100),b=new nw(a.Wb,b.size,h.size,100)):(b=RA(h.x,l.x,a.ab.offsetWidth),h=RA(c.x,d.x,a.ab.offsetWidth),f=new pw(a.Wb,[b.offset,a.Wb.offsetTop],[h.offset,a.Wb.offsetTop],100),b=new ow(a.Wb,b.size,h.size,100));f.Pf(a.Zd);b.Pf(a.Zd);g.add(f);g.add(b)};
var VA=function(a){var b=a.m();b&&(z.Bg(b,"valuemin",a.Hc()),z.Bg(b,"valuemax",a.Uc()),z.Bg(b,"valuenow",a.W()),z.Bg(b,"valuetext",a.JP(a.W())||""))};var HA=function(a,b){b?(a.Tj||(a.Tj=new AA(a.m())),a.v().g(a.Tj,"mousewheel",a.dF)):a.v().na(a.Tj,"mousewheel",a.dF)};var SA=function(a,b){return a.Zd?z.Hh(b):b.offsetLeft};var WA=function(a,b){FA.call(this,a,b);this.zb.du(0)};var XA=function(a){z.S.call(this);this.options=window.$.extend({},this.defaults,a)};
var YA=function(a,b){a.zoom=b;ZA(a,a.Ke.jq/2+a.Ke.x,a.Ke.Yn/2+a.Ke.y)};var ZA=function(a,b,c){var d=a.zoom;a.Ke={jq:a.options.og/d,Yn:a.options.ng/d,x:b-a.options.og/d/2,y:c-a.options.ng/d/2};$A(a)};var $A=function(a){var b=a.zoom,c=ww(a.options.Rm-a.Ke.x*b,a.options.og+a.options.Rm-a.vs*b,a.options.Rm),d=ww(a.options.Sm-a.Ke.y*b,a.options.ng+a.options.Sm-a.us*b,a.options.Sm),f={width:b*a.vs,height:b*a.us,left:c,top:d};a.Vm.css(f);a.Vu.css(f);a.Ke.x=(a.options.Rm-c)/b;a.Ke.y=(a.options.Sm-d)/b};
var aB=function(a,b,c){z.S.call(this);this.Nq=a||bB;this.lE=b;this.jI=c||"l"};var cB=function(){return!!window.FileReader};
var dB=function(a){a.Ll=a.dy=a.wj="";if(a.bf)a.bf.da();else{a.bf=new z.Ai(null,!1);a.bf.jb("\u4fee\u6539\u56fe\u7247");var b=z.Ns.Xe,c=z.Ns.tg,d=new z.xi;d.set(b,"\u53d6\u6d88",!1,!0).set(c,"\u786e\u5b9a",!0);z.ui(a.bf,d);a.v().g(a.bf,z.wi,function(a){if(a.key===c){if(cB()){var b=this.hw;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.og);a.attr("height",b.options.ng);var d=a[0];(0,window.$)(window.document.body).append(d);var l=a[0].getContext("2d"),n=b.Ke;l.drawImage(b.ws,
n.x,n.y,n.jq,n.Yn,0,0,b.options.og,b.options.ng);b=d.toDataURL("image/png");a.remove();a=b}else a=this.hw.Ke;this.wj=a;eB(this);this.bf.F(!1);return!1}})}fB(a.bf.aa());a.bf.F(!0);z.T.add(a.bf.h,"avatar-edit-dialog")};var gB=function(a){var b=a.input.cloneNode();z.Xe(b,a.input);a.input=b;a.v().g(a.input,"change",a.Jc)};
var eB=function(a){if(a.wj&&(cB()||a.dy)){a.dispatchEvent("beforepost");var b={type:a.Nq,dest_id:a.Nq===bB?z.Y[3]:a.lE,return_size:a.jI};if(cB()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",hB(a.wj.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.wB,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.BD,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.wj.x),y:Math.round(a.wj.y),height:Math.round(a.wj.Yn),width:Math.round(a.wj.jq),hashval:a.dy}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.wB+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var fB=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\u6b63\u5728\u4e0a\u4f20...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var hB=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),l=0;l<g.length;l++)h[l]=g.charCodeAt(l);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
var iB=function(a){z.S.call(this);this.bS=a};var jB=function(a){return z.y.every(a.ne,function(a){return!!a.value})};var kB=function(a,b,c,d,f){this.nd=a=new z.el(a,!f);c=new z.Bl(c);d=new z.Jk(null,null,!!d,300);z.wk.call(this,a,c,d);d.Z=this;d.Gk(b);(d=b.getAttribute("placeholder"))&&new z.Kl(b,d)};var lB=function(){z.S.call(this)};
var mB=function(a){var b=z.N("profile-edit-avatar-btn"),c=(0,window.$)(".zm-profile-details-editform-avatar .avatar",a.h);if(b){a.Av=new aB(bB);var d=a.Av;d.w(b);a.v().g(a.Av,"beforepost",function(){c.parent().append((0,window.$)('\x3cdiv class\x3d"avatar-edit-preview-loading"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e'))});a.v().g(a.Av,"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:d.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),
z.U("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),c.attr({src:d.ml("l"),srcset:d.ml("xl")+" 2x"}))})})}};var nB=function(){z.H.call(this);this.FH={}};var oB=function(){this.Zi="editing";z.S.call(this)};var pB=function(a,b,c){z.Zr.ob&&null==window.navigator.userAgent.match(/iPad/i)||(a=(0,window.$)(".item",a.K).index(b),b.siblings().eq(a-a%2).height(c?"auto":b.height()))};var qB=function(){z.S.call(this)};var rB=function(){z.S.call(this)};
var sB=function(){z.H.call(this);this.Sg="zm-item";this.hT=!0};var tB=function(a,b){a.v().g(b,"next",a.refresh)};var uB=function(){this.ex=["zg-btn-follow","zg-btn-unfollow"];this.gx="people"};z.vB=function(a){z.H.call(this);this.ma=null;this.h=a;a=z.C||z.D&&!z.E("531")&&"TEXTAREA"==a.tagName;this.S=new z.dd(this);this.S.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var wB=function(a){null!=a.ma&&(z.cd(a.ma),a.ma=null)};var xB=function(a){a=new z.vc(a.xb);a.type="input";return a};
var yB=function(a,b,c,d){z.H.call(this);this.Uh=a;this.fE=b;this.ht=c;this.rM=d||zB;a.removeAttribute("maxlength");this.sy=new z.vB(a);z.G(this.sy,"input",this.sz,!1,this);this.Rk()};var AB=function(a){z.H.call(this);this.Aa=null;this.oa=a;this.Vt=0;this.PH=""};var BB=function(a,b){var c=z.Ce("zm-menu-item-link",a.wH);z.y.forEach(c,function(a,c){var g=!z.y.contains(b,c);z.R(a,g)},a)};var CB=function(){z.H.call(this)};
var DB=function(a){a.v().g(a.il,"change",function(){var a=this.il.value;this.$z.value="no"===a?"":EB.cv[+a][1]}).g(a.vn,"click",function(a){"cancel"===a.target.name?this.Aa.F(!1):this.$z.value&&"no"!==this.il.value&&(this.ax=new z.V(!0),this.v().g(this.ax,"complete",function(){var a=z.fe(this.ax);a&&!a.r?(this.Mi.innerHTML="\u5df2\u7ecf\u6807\u8bb0",this.Aa.F(!1)):z.U(a.msg)}),a=z.Rm(this.$z.value),this.ax.ajax("/answer/flag","answer_id\x3d"+this.lK+"\x26flag\x3d"+this.il.value+"\x26reason\x3d"+(0,window.encodeURIComponent)(a)))})};
var FB=function(a){function b(){var b;GB||(GB=new CB,GB.init());b=GB;b.Mi=a;b.lK=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;HB||(HB=new AB,HB.init());c=HB;c.Mi=a;c.oa=a.id.split("-")[1];"redirect"===b?c.show():(z.Li("/question/unredirect",null,"POST","qid\x3d"+c.oa+"\x26rqid\x3d"+c.Vt),c.Mi.innerHTML="\u91cd\u5b9a\u5411\u5df2\u64a4\u9500",c.Mi.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=
(new z.Yk).add("revision",g).add("reason",f),w=new z.V(!0);w.on("success",function(){var a=z.fe(w);a.r?z.U(a.msg):(c.F(!1),a.msg?window.location.href=a.msg:window.location.reload())});w.ajax("/revert",f.toString())}var c=z.Gi("\u64a4\u9500",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0" placeholder\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),
!1}),d=z.N("content",c.aa());new z.Kl(d);new z.pn(d,48);new yB(d,null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};var IB=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){FB(this)})};var JB=function(){z.S.call(this)};
var KB=function(a){var b=z.M("zh-profile-ask-list");if(b){var c=new Mw({use:["autoload","locationSource"],nh:!1});a.L(c);c.w(b);if(a=z.N("zm-profile-section-list"))b=new sB,b.xi("zm-profile-section-item"),tB(b,c),b.init(a)}};var LB=function(a){var b=(0,window.$)("#zh-profile-log-list").get(0);if(b){var c=new Mw;c.use("locationSource",{At:!0});a.L(c);c.w(b);IB(b);(0,window.$)(b).on("click",'a[name\x3d"report"]',function(){(new ox("activity",(0,window.$)(this).data("id"))).submit();return!1})}};
var MB=function(a){var b=(0,window.$)("#zh-profile-fav-list \x3e .zh-general-list").get(0);if(b){var c=new Mw({use:["autoload","nodeSource"],nh:!1});a.L(c);c.w(b)}};
var NB=function(a){var b=z.M("zh-profile-topic-list");if(b){var c=new Mw({use:["autoload","locationSource"]});a.L(c);a.v().g(c,"itemcreated",function(a){a=a.item;var b=a.getAttribute("data-tid").split("-")[1];if(z.Y.Me===z.Tp[3]){var c=new z.up(!0,"/topic/bio/update","bio");c.Du=!0;c.params=["tid\x3d"+b];c.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u4f60\u5728\u8be5\u8bdd\u9898\u7684\u7ecf\u9a8c\x3c/a\x3e';c.w(a)}});c.w(b);if(a=z.N("zm-profile-section-list"))b=new sB,b.xi("zm-profile-section-item"),
tB(b,c),b.init(a)}};var OB=function(a){var b=(0,window.$)("#zh-profile-column-list \x3e .zh-general-list").get(0);if(b){var c=new Mw({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var PB=function(a){var b=(0,window.$)("#zh-profile-follows-list \x3e .zh-general-list").get(0);if(b){var c=new Mw({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var QB=function(a){var b=(0,window.$)("#zh-profile-follows-list-old").get(0);if(b){var c=new Mw({use:["autoload","locationSource"]});a.L(c);c.w(b)}};
var RB=function(a){var b=(0,window.$)("#zh-profile-answer-list \x3e .zh-general-list").get(0)||(0,window.$)("#zh-profile-answer-list").get(0);if(b){var c=new Mw({nh:!1});a.L(c);c.use("childConstructor",{Vk:Pz}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category","profile").fill("label","profile_answers_list")});if(a=z.N("zm-profile-section-list"))b=new sB,tB(b,c),b.init(a)}};
var SB=function(a){var b=z.M("zh-profile-page-force-to-rename");(a.hx=b)&&a.v().g(b,"click",a.oU)};var TB=function(a){var b=z.M("zh-profile-activity-wrap");b&&a.v().g(b,"click",function(a){if((a=a.target)&&"focus"===a.name){var b=a.getAttribute("data-type");(0,z.cu)(a,b,null,["zm-profile-follow-link-gray","zm-profile-unfollow-link-gray"])}})};
var UB=function(a){var b=z.M("zh-profile-activity-page-list");if(b){var c=new Mw({use:["expandLimit"],nh:!0});c.use("locationSource",{url:"/people/"+z.Tp[1]+"/activities",Sl:10,param:function(a){return{start:z.y.Yc(a).getAttribute("data-time")}}});c.use("childConstructor",{factory:iA});a.L(c);c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category","profile").fill("label","profile_feed")})}};
var VB=function(){var a=z.N("zm-profile-header-operation");a&&(new uB).w(a);(a=z.N("zm-profile-header"))&&(new qB).w(a)};
var WB=function(a){var b=z.N("zm-profile-answer-sort");b&&(a.Fh=new Zw,a.Fh.Ga(a.LK=new Uw("\u6309\u65f6\u95f4\u6392\u5e8f")),a.Fh.Ga(a.MK=new Uw("\u6309\u6295\u7968\u6392\u5e8f")),a.Fh.Ga(a.KK=new Uw("\u95ee"+z.Y[0]+"\u7684\u95ee\u9898")),a.Fh.ea(b),a.Fh.F(!1),a.v().g(b,"click",function(a){this.Fh.F(!0);a.stopPropagation();this.v().wa(window.document,"click",function(){this.Fh.F(!1)})}),a.v().g(a.Fh,"action",a.kO))};
var XB=function(a,b){var c=new z.V(!0);a.v().wa(c,"complete",function(){window.location.reload()});c.ajax("/people/"+z.Tp[1]+"/block","action\x3d"+(b?"add":"cancel"))};var YB=function(){var a=z.M("zm-profile-details-editform");a&&(new lB).w(a)};var ZB=function(a){var b=z.N("zm-profile-fav-wrap");b&&a.v().g(b,"click",a.HM)};
var $B=function(a){a.pA=z.M("zh-profile-search-form");if(a.pA){aC(a);a.ik=a.pA.getAttribute("data_type");a.v().g(a.pA,"submit",a.search);z.G(window,"popstate",function(a){a=a.state;var b;a&&a.q&&(b=z.M("zh-profile-search-query"),b.value=(0,window.decodeURIComponent)(a.q),bC(this,a.type),this.search(void 0,!1),b.focus())},!1,a);var b=(new z.Sk(window.location)).Vc().get("pq"),c=(new z.Sk(window.location)).Vc().get("type");c||(c="all");if(b&&c){var d=z.M("zh-profile-search-info");d&&z.R(d,!0);bC(a,
c);z.M("zh-profile-search-query").value=b;a.search(void 0,void 0,!1)}}};var aC=function(a){var b=z.M("zh-profile-search-type");b&&a.v().g(b,"click",a.rR)};var bC=function(a,b){var c=z.Ce("zm-profile-search-type-item");if(c)for(var d=0;d<c.length;d++)z.T.remove(c[d],"current"),c[d].name===b&&z.T.add(c[d],"current");a.ik=b};var cC=function(){var a=z.M("zh-profile-edit-expert");a&&(new dC).w(a)};
var eC=function(a){var b=z.N("profile-expert-tip");b&&a.v().g(b,"click",function(a){var d=a.target;"enable"!==d.name&&"close"!==d.name||window.$.post("/node/ProfileExpertTopicsV2",{method:d.name},function(a){a&&a.r||("enable"===d.name?window.location.href="/people/edit/expert":z.Pm(b,!0))})});(0,window.$)(".zm-profile-section-wrap.skilled-topics").each(function(){(new oB).w(this)});(0,window.$)(".zm-profile-module.skilled-topics").each(function(){(new oB).w(this)});(0,window.$)(".zm-profile-module.active-topics").each(function(){(new oB).w(this)})};
var dC=function(){z.S.call(this)};var fC=function(){z.S.call(this)};var gC=function(a){var b=window.$.Deferred();z.Gi("\u53d6\u6d88\u5c4f\u853d",a,function(a){a?b.resolve():b.reject()});return b.promise()};
var hC=function(a){var b=(0,window.$)(".blocked-users",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);gC("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\uff1a\u5173\u6ce8\u4f60\u3001\u7ed9\u4f60\u53d1\u79c1\u4fe1\u3001\u5411\u4f60\u63d0\u95ee\u3001\u8bc4\u8bba\u4f60\u7684\u7b54\u6848\u3001\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002").then(function(){return window.$.post("/settings/unblockuser",{uid:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});
b.children().length||window.location.reload()})})};
var iC=function(a){var b=(0,window.$)(".blocked-columns",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);gC("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u770b\u5230\u6765\u81ea\u8be5\u4e13\u680f\u7684\u6587\u7ae0\u3002").then(function(){return window.$.post("/settings/unblockcolumn",{id:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});b.children().length||window.location.reload()})})};
var jC=function(){z.S.call(this)};
var kC=function(){function a(a,b){var c={method:"save",params:{settings:a}};window.$.extend(c.params,f);window.$.post("/node/NotiEmailSettingsV2",c,function(a){var c;a.r?c="error":(b&&b(),c="success");var d=(0,window.$)(".settings-msg-"+c);d.length?d.show():(d=(0,window.$)('\x3cdiv class\x3d"settings-msg-'+c+'"\x3e'+a.msg+"\x3c/div\x3e"),d.appendTo((0,window.$)("body")));d.delay(1E3).fadeOut()})}var b=z.kj.hasEmail,c=z.kj.mailActivated,d=!1,f=z.kj.settings_unsubscribe_formdata;f||(d=!c);(0,window.$)('.settings-receive input[type\x3d"radio"]').on("change",
function(){if(this.checked){var b=(0,window.$)(this),c={type:b.closest(".settings-item").data("type"),noti:b.val()};"no"===c.noti?a(c,function(){b.closest(".settings-receive").next(".settings-mail").addClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!0)}):a(c,function(){b.closest(".settings-receive").next(".settings-mail").removeClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!1)})}});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("click",function(a){d&&
(a.preventDefault(),a="\u6fc0\u6d3b",b||(a="\u7ed1\u5b9a"),z.Gi({title:"\u63d0\u793a",content:"\u5f00\u542f\u901a\u77e5\u90ae\u4ef6\u524d\uff0c\u8bf7\u5148"+a+"\u90ae\u7bb1\u3002",buttons:["\u53d6\u6d88","\u53bb"+a+"\u90ae\u7bb1"]},function(a){a&&window.open("/settings/account")}))});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("change",function(){if(!d){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),mail:this.checked};a(b)}});(0,window.$)("#settings-fast-answer").on("change",
function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),fast:this.checked};a(b)});(0,window.$)(".settings-msg-disappear").delay(3E3).fadeOut()};
var lC=function(){var a=(0,window.$)(".js-ajax-form");a.submit(function(b){var d=(0,window.$)(b.target);b=d.attr("action")||window.location.href;window.$.post(b,d.serialize()).done(function(b){z.Rr(z.A.Oa(b),5E3);d.hasClass("unsubscribe")&&(a.remove(),(0,window.$)(".settings-section").remove())});return!1});(0,window.$)(".js-unsubscribe-other-reason").on("change",function(a){(0,window.$)(a.target).parent().siblings().find(".zg-form-text-input").toggle()});var b=(0,window.$)(".feedback-form");b.submit(function(){var a=
b.attr("action");window.$.post(a,b.serialize()).done(function(){b.before('\x3cdiv style\x3d"font-size:13px;color:black;margin-bottom:20px"\x3e\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01\x3c/div\x3e\x3ca href\x3d"/"\x3e\x26laquo; \u8fd4\u56de\u77e5\u4e4e\x3c/a\x3e');b.remove()});return!1})};
var mC=function(){var a=(0,window.$)("#js-form-account-password");a.length&&((0,window.$)("input[placeholder]",a).each(function(){new z.Kl(this)}),a.validate({messages:{np:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65b0\u5bc6\u7801\u672a\u586b\u5199'},op:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65e7\u5bc6\u7801\u672a\u586b\u5199'},rp:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u786e\u8ba4\u5bc6\u7801\u672a\u586b\u5199'}},errorClass:"validate-error"}))};
var nC=function(){(0,window.$)("#weibopageenable").on("change",function(a){window.$.post("/node/SettingsWeiboPageV2",{method:a.target.checked?"enable":"disable"}).done(function(a){a.r?z.U(a.msg):z.Rr([!1,"\u4fdd\u5b58\u6210\u529f"])});return!1})};var oC=function(){var a=z.M("zh-setting-page-black-list-wrap");a&&(new fC).w(a)};
var pC=function(){var a=(0,window.$)("#js-settings-account-form");if(a.length){var b=(0,window.$)("#url_token"),c=(0,window.$)("#js-url-preview .token");b.on("input change keyup",function(){c.text(window.$.trim(this.value))});qC(a);var b=new z.tr,d=(0,window.$)(".rename-tab",a);b.w(d.get(0));var f=function(){(0,window.$)("input[placeholder]:visible",d).placeholder()};b.on("select",f);var g=(0,window.$)(".rename-button",a),a=z.nm(function(){g.remove();d.removeClass("hidden");f()},{ya:!0,gd:!0});g.one("click",
a);"#rename-section"===window.location.hash&&a()}};var qC=function(a){(0,window.$)(".zg-form-text-input",a).each(function(){function a(){this.value!==this.defaultValue&&(d.hide(),c.off("change input keyup",a))}var c=(0,window.$)(this),d=c.next(".validate-error");if(d.length)c.on("change input keyup",a)})};var rC=function(a,b,c,d,f){zx.call(this,a,b,f);this.cx=c||"people";this.OM=d||["zg-follow","zg-unfollow"]};
var sC=function(a,b,c,d){z.H.call(this);this.h=a;this.cx=b||"people";this.NM=c||["zg-btn-follow","zg-btn-unfollow"];this.text=d||["\u5173\u6ce8","\u53d6\u6d88\u5173\u6ce8"]};var tC=function(a){z.H.call(this);this.url=a||"/topic"};
var uC=function(a,b,c){var d=c[0],f="";"topic"!==d[0]&&d[3]&&(f='data-parent\x3d"'+d[3]+'"');b.html('\x3ca href\x3d"'+("topic"===d[0]?"/topic/"+d[2]+"/organize/entire":"javascript:;")+'" data-token\x3d"'+d[2]+'" '+f+' name\x3d"'+d[0]+'"\x3e'+d[1]+"\x3c/a\x3e\x3cul class\x3d'zm-topic-organize-list'\x3e\x3c/ul\x3e");"topic"!==c[0][0]&&b.addClass("zm-topic-organize-loadmore");b=(0,window.$)("ul",(0,window.$)(b));if(1<c.length)for(c=c[1],d=0;d<c.length;d++){var f=c[d],g=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");
b.append(g);uC(a,g,f)}};
var vC=function(a){var b={Yp:!1,YW:!1};return function(c){if(!1===c)return!1;c={};z.A.extend(c,b,a||{});if(c.Yp&&!z.Y.ps)return z.Ki("\u63d0\u793a\u4fe1\u606f",'\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'),!1;if(c.lm&&!z.As.yM)return z.Ki("\u63d0\u793a\u4fe1\u606f",'\x3cp\x3e\u521b\u5efa\u8f83\u4e45\u6216\u5df2\u6709\u8f83\u591a\u8ba8\u8bba\u7684\u95ee\u9898\u9650\u5236\u516c\u5171\u7f16\u8f91\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u95ee\u9898\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e\x3c/p\x3e'),!1}};
var wC=function(a,b,c){z.up.call(this,a,b,c)};var xC=function(){z.S.call(this);var a=z.Ds;this.Cf=a[0][3];this.oB=a[0];this.kn=a[4];this.By=a[5];this.Zg="topic"};var yC=function(){var a=z.M("zh-topic-log-list");a&&((new rC(a,null,null,null,!0)).init(),(0,window.$)(a).on("click",'a[name\x3d"revert"]',z.mb(function(a){!1!==a&&FB(this)},vC({Yp:!0}))).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new ox("activity",(0,window.$)(this).data("id"))).submit();return!1}))};
var zC=function(a){if(z.M("zh-topic-admin-page-wrap")){var b=z.M("zh-topic-del-btn");b&&a.v().g(b,"click",a.NQ)}};var AC=function(a,b){var c=z.Ae("li",null,a.rv);z.y.forEach(c,function(a){a.getAttribute("data-token")===b[1]&&z.R(a,!1)})};var BC=function(a){var b=z.M("zh-topic-followers-list-wrap");b&&(a=["/topic",(0,window.encodeURI)(a.oB[1]),"followers"].join("/"),b=new rC(b,a,null,["zg-btn-follow","zg-btn-unfollow"],!0),b.xi("zm-person-item"),b.init())};
var CC=function(a){var b=z.M("zh-topic-side-head");if(b){var c=z.N("zu-entry-focus-button",b);c&&a.v().g(c,"click",function(){(0,z.cu)(c,"topic","",["zg-btn-green","zg-btn-white"])});a.bg=z.M("zh-topic-operation-menu");a.bg&&a.v().g(a.bg,"click",a.JA)}if(b=z.M("zh-current-topic-bio")){var d=new z.up(!0,"/topic/bio/update","bio");Wu(d,["tid\x3d"+a.Cf]);d.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u4f60\u5728 '+a.oB[0]+" \u8bdd\u9898\u4e2d\u7684\u7ecf\u9a8c\x3c/a\x3e";d.TD=!0;d.w(b)}};
var DC=function(a){z.Qe(a,z.Ne('\x3ca href\x3d"/question/23261456" class\x3d"zg-link-gray-normal"\x3e\x3ci class\x3d"icon-info" style\x3d"vertical-align: -3px; margin-right: 6px"\x3e\x3c/i\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'))};
var EC=function(a){if(z.M("zh-topic-organize-page-wrap")){var b=z.M("zh-topic-organize-parent-editor");if(b)if(z.Y.ps){var c=new Fv(null,a.Cf,!0);c.qt=!0;c.w(b);c.addEventListener("remove_tag",function(a){(a=a.data&&a.data.id)&&(0,window.$)("#wedge-"+a).remove()})}else DC(b);if(b=z.M("zh-topic-organize-child-editor"))z.Y.ps?(c=new Fv(null,a.Cf,!1),c.qt=!0,c.w(b),(0,window.$)("a.entire-link").insertAfter(c.Ln).show()):DC(b);(0,window.$)("#zm-topic-manage-relation").on("change",'[type\x3d"checkbox"]',
function(){var a=(0,window.$)(this).closest("li").attr("id").split("-")[1];window.$.post("/topic/update",{action:"set_topic_edge",parent_topic_id:a,topic_id:z.Ds[0][3],edge:this.checked^0}).done(function(a){a&&a.msg&&z.U(a.msg)})});a.qv=z.M("zh-topic-alias-input");new z.Kl(a.qv,"\u8f93\u5165\u8bdd\u9898\u522b\u540d");a.rv=z.M("zh-topic-alias-list");a.v().g(z.M("zh-topic-alias-container"),"click",a.ER);if(b=z.M("zh-topic-merge"))a.Qa=new bw,a.Qa.w(b);(b=z.M("zh-topic-merge-btn"))&&a.v().g(b,"click",
a.dR)}};var FC=function(){var a=z.M("zh-topic-organize-page-children");a&&(new tC("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+"/organize/entire")).w(a)};var GC=function(a){var b=z.M("zh-topic-side-related-topics");b&&(a.FS=b,a.dA=new z.V(!1),a.v().g(a.dA,"complete",a.mR),a.dA.ajax("/topic/related?tid\x3d"+a.Cf))};
var HC=function(a){if(z.Hr)(0,window.$)("div.topic-avatar").addClass("disabled");else{var b=z.N("zm-entry-head-avatar-edit-button");if(b){var c=new aB(2,z.Ds[0][3]);c.w(b);var d=z.N("zm-avatar-editor-preview");z.G(c,"beforepost",function(){(0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading topic'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e").appendTo(d.parentNode)});z.G(c,"success",function(){window.$.post("/topic/"+z.Ds[0][1]+"/avatar",{avatar_path:c.getData().url}).then(function(a){a&&a.r?
z.U(a.msg):d&&(d.src=c.getData().url)}).always(function(){(0,window.$)(".avatar-edit-preview-loading").remove()})});a.v().g(c,"beforeopen",z.mb(vC({Yp:!0}),z.nm(z.m,!0)))}}};var IC=function(a){JC(a);KC(a);a.Xa&&a.v().g(a.Xa,"afterload",function(b){z.X.sa({type:"ga_click_topic_more",data:b.data,target:a.Xa.fc})})};
var JC=function(a){var b=z.M("zh-topic-feed-list");if(b){var c=new Mw;a.L(c);c.use("locationSource",{Sl:0,offset:function(a){return z.y.Yc(a).getAttribute("data-score")}});c.use("childConstructor",{factory:iA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category",this.Zg).fill("label","topic_activity")})}};
var KC=function(a){var b=z.M("zh-topic-top-page-list");if(b){var c=new Mw({nh:!1});a.L(c);c.use("childConstructor",{factory:iA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category",this.Zg).fill("label","topic_activity")})}};
var LC=function(a){function b(a){a&&a.msg&&z.U(a.msg)}a.Cs=z.M("zh-topic-info-add");a.Cs&&a.v().g(a.Cs,"submit",a.YQ);a.IF=z.N("zm-topic-info-content-main",a.h);a.IF&&a.v().g(a.IF,"click",a.WQ);(0,window.$)("#zh-topic-manage-info-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/"+z.Ds[0][1]+"/information/manage",{info:(0,window.$)(this).val(),action:"change"}).done(b)});(0,window.$)("#zh-topic-manage-relation-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/update",
{action:"set_topic_weaknode",topic_id:z.Ds[0][3],weak:(0,window.$)(this).val()}).done(b)});(0,window.$)("#zh-topic-manage-lock-form").on("change",'[type\x3d"checkbox"]',function(){window.$.post("/topic/lock",{url_token:z.Ds[0][1],lock_type:this.name,lock_value:(0,window.$)(this).is(":checked")?1:0}).done(b)})};var MC=function(a){z.S.call(this,a)};
var NC=function(a,b,c){var d,f,g=[];for(d in c)f=c[d],z.ga(f)?z.y.forEach(f,(0,z.r)(function(a){g.push(xw({type:"hidden",name:d,value:String(a)}))},a)):g.push(xw({type:"hidden",name:d,value:String(f)}));z.se(b,Dv(g))};var OC=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"day"})})};var PC=function(a){return window.$.get("/node/ExploreHotFavlistsInnerV2",{params:JSON.stringify({offset:a})})};
var QC=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"month"})})};var RC=function(){z.H.call(this)};var SC=function(){z.S.call(this);var a=z.Es||[0,0];this.Ys=a[0];this.visible=!!a[1];this.Zg="collection"};
var TC=function(a){var b=z.M("zh-list-answer-wrap");if(b){(0,window.$)(b).on("click","a[name\x3dunfavo]",window.$.proxy(a.vO,a));var c=new Mw({nh:!1});a.L(c);c.use("childConstructor",{Vk:Pz}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category",this.Zg).fill("label","collection_answer")})}};
var UC=function(a){var b=z.M("zh-list-side-head");if(b){var c=z.N("zu-entry-focus-button",b);c&&a.v().g(c,"click",function(){(0,z.cu)(c,"favlist","",["zg-btn-green","zg-btn-white"])});a.bg=z.M("zh-list-operation-menu");a.bg&&a.v().g(a.bg,"click",a.JA)}(b=z.M("zh-single-answer-author-info"))&&(new sC(b)).init();(b=z.M("zh-list-create-new-list"))&&a.v().g(b,"click",a.HT);(b=z.M("zh-fav-list-side-bar-creator"))&&(new sC(b)).init();(b=z.M("zh-fav-list-side-bar-report"))&&qx(new ox("favlist",a.Ys),b)};
var VC=function(a){z.Gi("\u5220\u9664\u6536\u85cf\u5939","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6536\u85cf\u5939\u5417\uff1f",function(a){a&&(a=new z.dn,a.add("favlist_id",this.Ys),a.add("_xsrf",(new z.xg(window.document)).get("_xsrf")),(new MC).post($u(a),"/collection/delete"))},a)};
var WC=function(a){a.qa||(a.qa=new Vy(a.Ys,"favlist"),a.L(a.qa),a.v().g(a.qa,"click!",function(a){"comment"===a.namespace&&(a.Mc.fill("category",this.Zg).fill("label","collection"),a.Mc.action=a.Mc.action.replace("favlist","collection"))}),Yy(a.qa,a.Vb,(0,window.$)(".toggle-comment",a.Vb)[0]))};var XC=function(a){a.pJ=new z.V(!0);a.v().g(a.pJ,"complete",function(){window.location.reload()});a.pJ.ajax("/collection/update","favlist_id\x3d"+a.Ys+"\x26is_public\x3d1")};
var YC=function(a){ZC||(this.On=a,this.Ah=(0,window.$)(this.On.m()),(0,window.setTimeout)((0,z.r)(this.Gb,this)))};var $C=function(a){(0,window.setTimeout)(function(){window.$.ajax({type:"POST",url:"/zreactor/deliver",data:JSON.stringify(a),contentType:"application/json",processData:!1})},50)};
var aD=function(a){var b=bD[a.Ah.data("type")];cv(a.Ah[0],function(){cD(a,"display")},a.On);a.On.v().g(a.On,"expand",function(c){c.target instanceof Bz&&cD(a,"expand_"+b)}).g(a.On,"collapse",function(c){c.target instanceof Bz&&cD(a,"collapse_"+b)});a.Ah.on("click",'a[name\x3d"nohelp"]',function(){var b=!!(0,window.$)(this).data("revert");cD(a,b?"unhelpful":"revert_unhelpful");(0,window.$)(this).data("revert",!b)});window.$.each({".actioncard-body .more":"view_all",".actioncard-body .next:not(.disabled)":"next_page",
".actioncard-body .prev:not(.disabled)":"prev_page",".actioncard-body .items a":"open_topic",'.zg-follow[data-follow^\x3d"t:"], .zg-btn-follow[data-follow^\x3d"t:"]':"follow_topic",'.zg-unfollow[data-follow^\x3d"t:"], .zg-btn-unfollow[data-follow^\x3d"t:"]':"unfollow_topic",'a.zg-follow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"follow_"+dD[b],'a.zg-unfollow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"unfollow_"+dD[b],"a.toggle-comment":"expand_comments",'a[name\x3d"addnew"]':"comment",
".content h2 a":"open_"+eD[b],"a.ignore:not(.close)":"uninterest","a.revert":"revert_uninterest","a.ignore.close":"confirm_uninterest","button.up.pressed":"vote_up_"+b,"button.down.pressed":"vote_down_"+b,"button.up:not(.pressed)":"revert_vote_up_"+b,"button.down:not(.pressed)":"revert_vote_down_"+b,'a[name\x3d"favo"]':"collect_answer",'a[name\x3d"thanks"]':"thanks",'a[name\x3d"share"]':"share",'a[name\x3d"report"], .js-report':"report","a.answer-date-link":"open_answer"},function(b,d){a.Ah.on("click",
b,function(){cD(a,d)})})};var cD=function(a,b){var c=window.$.extend({},fD(a),{action_type:b,time:(0,z.x)()});c.object_id&&("display"===b?a.kS(c):$C(c))};var fD=function(a){var b=a.QB,c=window.$.extend({},b.data("meta"),{create:a.Ah.find(".source .time").data("timestamp"),offset:(0,window.$)(".feed-item").index(a.Ah)+1});return{mid:z.kj.ga_vars.user_hash,object_type:bD[a.Ah.data("type")],object_id:b.data("id"),object_meta:c,context:gD,others:""}};var hD=function(a,b,c){zx.call(this,a,b,c)};
var iD=function(a){z.$h(a,function(a){(0,window.$)(a.m()).remove()})};var jD=function(){this.interval=3E4};var kD=function(){var a=jD.U();lD(a)};var lD=function(a,b){if(!a.bd||b)b&&(0,window.clearInterval)(a.bd),a.bd=(0,window.setInterval)((0,z.r)(function(){mD(this)},a),a.interval)};var nD=function(){var a=jD.U();mD(a,!0)};var mD=function(a,b){(0,window.$)(".feed-item-hook .time").each(function(){(0,window.$)(this).text(dw((0,window.$)(this).data("timestamp")))});b&&lD(a,b)};
var oD=function(){z.S.call(this);this.Fy={};this.pt=[];this.sP="old"===(0,window.$)("#feed-ver").val();this.cG=!!(0,window.$)("#is-topstory").length;this.DP=!!(0,window.$)("#is-topstory2").length;this.qE=this.sP?"zm-item":"feed-item-hook";window._gaq=window._gaq||[];this.cG?window._gaq.push(["_setCustomVar",5,"is_topstory",!0,3]):window._gaq.push(["_setCustomVar",5,"is_topstory",!1,3])};
var pD=function(a){a.Xa=new hD(a.h,null,!0);if((0,window.$)(a.h).data("delayed"))z.sj.on("guider2:topicselected",(0,z.r)(a.Xa.Ul,a.Xa));a.getParent()&&a.getParent().L(a.Xa);Ax(a.Xa,"/node/"+(0,window.$)(a.h).data("init").nodename);a.Xa.xi("feed-item-hook");a.v().g(a.Xa,"itemcreated",function(a){qD(this,a.data.GP)}).g(a.Xa,"afterload",function(a){z.X.sa({type:"ga_click_feed_more",data:a.data})}).g(a.Xa,"ignore",function(a){rD(this,a.key,a.value)});a.Xa.init()};
var sD=function(a){a.K.on("click",".js-change-some",function(){z.fn("feed","intrests-change");var b=(0,window.$)(this),c=(0,window.$)(this).parent().parent();window.$.post("/node/HomeExtraFeedList",{method:"next",params:{}}).done(function(d){!d.r&&d.msg&&(0<d.msg.length?(c.find(".feed-item-hook").remove(),c.append(d.msg).find(".feed-item-hook").each(function(){a.Xa.Zj(this)})):b.replaceWith('\x3cspan class\x3d"zg-right zg-gray"\x3e\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\x3c/span\x3e'))})})};
var tD=function(a){a.K.on("click",".js-more-similar",function(){(0,window.$)(this).parent().slideUp("fast").nextUntil(":not(.hidden)").slideDown("fast")})};var qD=function(a,b){var c=z.Sh(z.Rh.U());a.Fy[c]=b;(0,window.$)(b.h).attr("data-fid",c)};var rD=function(a,b,c){z.A.forEach(a.Fy,function(a){a.Hr[b]===c&&(0,window.$)(a.h).fadeOut(150)})};var uD=function(){z.S.call(this)};var vD=function(){z.S.call(this)};var wD=function(){z.H.call(this);this.Zx=[];this.ND=[]};
var xD=function(a){for(var b=[],c=0;3>c;c++){var d=a.ND.shift();d&&b.push(d)}3===b.length?(a.bt.innerHTML=b.join(""),yD(a)):zD(a)};var yD=function(a){var b=z.Ce("suggest-item",a.bt);z.y.forEach(b,function(a){this.Zx.push(a.id.split("-")[1])},a)};var zD=function(a){a.bt.innerHTML='\x3cimg class\x3d"bubble-loading" src\x3d"'+z.Zr.XA+'/img/noti-loading.gif"\x3e';window.$.post("/lookup/suggest_member",{ids:a.Zx.join(",")}).done((0,z.r)(a.LQ,a))};
var AD=function(a){z.H.call(this);this.Gz=a;this.K=(0,window.$)(this.Gz.html);this.Gg=this.K[0];this.position=this.Gz.position||"top"};var BD=function(a){a=a.getBoundingClientRect();a.width||(a.width=a.right-a.left,a.height=a.bottom-a.top);return a};
var CD=function(){function a(){(0,window.setTimeout)(function(){b.Eo&&b.da()})}if(z.kj.is_registered_via_web&&!z.kj.is_answerer_prompt_dismissed){var b,c;z.Ur.g("expand",function(d){var f=d.target;if(f instanceof Pz){if(b)return a();c&&"pending"===c.state()||(c=window.$.post("/node/Guide2",{method:"unfold_answer_in_feed"}).then(function(a){(a=(0,window.$)(a.msg).html())&&(b=DD(a,f))}))}});z.Ur.g("collapse",function(c){c.target instanceof Pz&&b&&a()})}};
var ED=function(a){var b=(0,window.$)("#tmpl-guidev2-answerer-tip").html();b&&DD(b,a)};
var DD=function(a,b){var c=new AD({html:a}),d=(0,window.$)(b.m()).find(".zm-item-answer-author-wrap").find("a:not(.zm-item-link-avatar)"),f=z.pa(z.W,"popup_guide");if(d.length)return c.g("show",function(){function a(){b.Tr()===c.target&&c.hide("hoverUserCard")}var b=z.hr.U().V,c=this;b&&(b.g("beforeshow",a),c.wa("hide",function(){b.na("beforeshow",a)}))}),c.g("show",function(){window.$.post("/node/Guide2",{method:"dismiss_answerer_prompt"});f("popup_guide_view_people_appear","popup_guide_view_people_appear")}),
c.g("hide",function(a){function b(a){f(a,"popup_guide_view_people_fade")}switch(a.reason){case "click":b("click_popup_guide_view_people_close");break;case "outOfView":b("move_out_popup_guide_view_people")}b("popup_guide_view_people_fade")}),c.show(d),c};var FD=function(){z.S.call(this)};var GD=function(a){var b=z.M("js-home-feed-list");if(b){var c=new oD;a.L(c);c.w(b)}};
var HD=function(){var a=(0,window.$)("#js-global-notify");if(a.length){var b=new z.To;b.w(a[0]);Xu(b);(0,window.$)(".zu-global-notify-close",a).click(function(){var c=(0,window.$)(this).data("id");window.$.post("/notice/read",{nid:c});b.H();a.remove()})}};
var ID=function(){var a=(0,window.$)(".user-guiding-box");0!==a.length&&((0,window.$)(".reactive-button",a).click(function(){(new z.dk).F(!0)}),(0,window.$)(".js-close-guidingbox",a).click(function(){a.remove();window.$.post("/node/HomeGuideV2",{method:"ignore_guiding_box"})}),(0,window.$)(".js-close-activationbox",a).click(function(){a.remove();window.$.post("/node/HomeGuideV2",{method:"ignore_activation_box"})}))};
var JD=function(){z.ii.call(this,null,!1);this.SC="zh-lightbox-showing";this.iU="zh-lightbox-thumb";this.Gb()};var KD=function(a,b,c){Uw.call(this,a,b,c);this.zi(!0)};z.LD=function(){};z.MD=function(){this.Jq="toolbar"};var ND=function(){};z.OD=function(a,b,c){z.Lj.call(this,a,b||ND.U(),c)};var PD=function(){};var QD=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};
var RD=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(Rv.test("#"==b.charAt(0)?b:"#"+b)||Ov(b).length||rw&&rw[b.toLowerCase()]);c=c?qw(b).rs:null;a.firstChild.style.borderBottomColor=c||(z.C?"":"transparent")}};var SD=function(a,b,c,d){z.Rn.call(this,a,b,c,null,d)};z.TD=function(){};var UD=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var l=[],n=0;n<c.width;n++){var p=b&&b[h++];l.push(VD(a,p,d))}f.push(WD(a,l,d))}return a.fw(f,d)};
var WD=function(a,b,c){a=c.B("TR",a.R()+"-row",b);z.Ag(a,"row");return a};var VD=function(a,b,c){a=c.B("TD",{"class":a.R()+"-cell",id:a.R()+"-cell-"+XD++},b);z.Ag(a,"gridcell");z.Bg(a,"selected",!1);if(!z.sf(a)&&!z.Fg(a)){var d;b=new SD(a);for(c="";!c&&(d=z.I.VG(b));)1==d.nodeType&&(c=z.Fg(d)||d.title);(d=c)&&z.Bg(a,"label",d)}return a};var YD=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.Ig(c,a.R()+"-cell"))return c.firstChild;c=c.parentNode}return null};
var ZD=function(a){z.H.call(this);this.Hd=[];$D(this,a)};var $D=function(a,b){b&&(z.y.forEach(b,function(a){this.wm(a,!1)},a),z.y.extend(a.Hd,b))};z.aE=function(a,b,c){z.Ej.call(this,a,b||z.TD.U(),c);this.Pi&=-89;this.En=new bE;this.En.Ap(this);this.Ly=-1};z.cE=function(a,b){if(a.m())throw Error("Component already rendered");a.Cc=z.ha(b)?new z.ve(b,void 0):b;dE(a)};var eE=function(a){var b=a.fb();return b&&b[a.Ra]};var fE=function(a,b){var c=a.fb();a.Ib(c?z.y.indexOf(c,b):-1)};
var gE=function(a,b,c){if(a.m()){var d=a.fb();if(d&&0<=b&&b<d.length){var f;f=(f=eE(a))?f.parentNode:null;a.En.m()!=f&&(a.En.h=f);f=a.En;f.Bc(c);!!(f.O&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.Ng(b,a.N.R()+"-cell-hover",c),c?z.Bg(a.h,"activedescendant",b.id):b.id==z.Dg(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var dE=function(a){var b=a.fb();if(b)if(a.Cc&&a.Cc.width){if(b=Math.ceil(b.length/a.Cc.width),!z.ha(a.Cc.height)||a.Cc.height<b)a.Cc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.Cc=new z.ve(b,b);else a.Cc=new z.ve(0,0)};var bE=function(){z.Ej.call(this,null);this.qh|=2};var hE=function(a,b,c){this.gr=a||[];z.aE.call(this,null,b||z.TD.U(),c);this.gr=this.gr;this.rt=this.Rs=null;this.ka(iE(this))};
var iE=function(a){return z.y.map(a.gr,function(a,c){var d=this.M().B("DIV",{"class":this.N.R()+"-colorswatch",style:"background-color:"+a}),f;this.Rs&&this.Rs[c]?f=this.Rs[c]:"#"==a.charAt(0)?(f=Qv(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var jE=function(a){if(a)try{return qw(a).rs}catch(b){}return null};var kE=function(a,b,c,d){gx.call(this,a,b,c||PD.U(),d)};
var lE=function(a){var b=new Zw(a);z.A.forEach(mE,function(c){c=new hE(c,null,a);z.cE(c,8);b.L(c,!0)});return b};var nE=function(){};var oE=function(){};var pE=function(a,b,c,d){kE.call(this,a,b,c||oE.U(),d)};var qE=function(a,b,c,d){gx.call(this,a,b,c||nE.U(),d)};var rE=function(a,b,c,d,f){gx.call(this,a,b,c,d,f||new Xw("listbox"));this.rw=this.fb();this.ry=null;this.Bp("listbox")};var sE=function(a,b){a.rw=b;tE(a)};var uE=function(a,b){a.la=new ZD;b&&z.$h(b,function(a){vE(a);this.la.Ga(a)},a);wE(a)};
var wE=function(a){a.la&&a.v().g(a.la,"select",a.uj)};var tE=function(a){var b=a.mf();a.ka(b?b.Jg():a.rw);var c=a.N.aa(a.m());c&&a.M().isElement(c)&&(null==a.ry&&(a.ry=z.Fg(c)),b=(b=b?b.m():null)?z.Fg(b):a.ry,z.Bg(c,"label",b),xE(a))};var xE=function(a){var b=a.N;if(b&&(b=b.aa(a.m()))){var c=a.h;b.id||(b.id=z.Sh(z.Rh.U()));z.Ag(b,"option");z.Bg(c,"activedescendant",b.id);a.la&&(c=a.la.Fb(),z.Bg(b,"setsize",yE(c)),a=a.la.lj(),z.Bg(b,"posinset",0<=a?yE(z.y.slice(c,0,a+1)):0))}};
var yE=function(a){return z.y.count(a,function(a){return a instanceof Uw})};var vE=function(a){a.Bp(a instanceof Uw?"option":"separator")};var zE=function(a,b,c,d){rE.call(this,a,b,c||nE.U(),d)};var AE=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};
var BE=function(a,b){z.y.forEach(b,function(b){var d=b.caption;b=b.value;var f=AE(b),d=new KD(d,b,a.M());z.Vh(d,f);a.Ga(d);d.aa().style.fontFamily=b})};var CE=function(a){z.y.forEach(DE,function(b){var c=b.value;b=new KD(b.caption,c,a.M());a.Ga(b);b=b.aa();b.style.fontSize=(EE[c]||10)+"px";b.firstChild.style.height="1.1em"})};var FE=function(a){z.y.forEach(GE,function(b){var c=b.caption;b=b.Ca;var d=a.M(),c=new KD(d.B("DIV",null,c),b,d);z.Vh(c,b);a.Ga(c)})};
z.HE=function(a,b,c,d,f,g){c=new z.OD(IE(c,d,g),f,g);z.Vh(c,a);c.rc(b);return c};z.JE=function(a,b,c,d,f,g){a=z.HE(a,b,c,d,f,g);a.Rb(16,!0);return a};var KE=function(a,b,c,d,f,g){f=new zE(null,null,f,g);d&&z.y.forEach(d.split(/\s+/),f.Eh,f);f.Eh("goog-toolbar-select");sE(f,c);z.Vh(f,a);f.rc(b);return f};var LE=function(a,b,c,d,f,g){c=new pE(IE(c,d,g),null,f,g);z.Vh(c,a);c.rc(b);return c};var IE=function(a,b,c){a&&""!=a||!z.B||z.E("1.9a")||(a="\u00a0");return(c||z.L()).B("DIV",b?{"class":b}:null,a)};
var ME=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in NE&&(c=NE[b]);c.length&&BE(a,c);BE(a,OE)};var PE=function(a,b,c,d,f,g){var h=z.HE(a,b,c,d,f,g);h.Fi=function(a){h.Ya(a)};return h};var QE=function(a,b){var c=b;try{if(z.C)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.W()&&a.Ea(c)}catch(g){}};
z.RE=function(a){z.Sx.call(this);this.ca=new z.dd(this);this.AF=z.P("div",{style:"display:none"});this.h=this.yc=null;this.J={};z.A.extend(this.J,this.defaults,a||{})};var SE=function(a){if(a.Wp){var b=(0,window.$)(a.Wp);b.stop().text("\u8349\u7a3f\u5df2\u7ecf\u4fdd\u5b58").fadeTo(600,.5).delay(3E3).fadeOut(600,function(){b.text("")})}};
var TE=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.kE||(a.IO=window.history.length),a.kE=!0,UE(a,"writing"),a.FJ=z.Df(z.L((z.t||window).document)),z.Xe(a.AF,a.J.tk),a.yc.appendChild(a.J.tk),z.T.add(window.document.body,a.J.jx),a.Cb=z.N(a.J.qU,a.h),a.Cb.appendChild(a.Wp),VE(a),(0,z.Ya)(z.sf(a.G.Ba))||a.G.Vf(),a.dispatchEvent("enterFullScreen"))};
var WE=function(a){!z.Fi&&a.kE&&a.IO!==window.history.length?window.history.back():UE(a,"");a.Cb.removeChild(a.Wp);a.zI(!1);a.h.onscroll=null;a.ca.na(window.document,"keydown",a.Yo);z.Xe(a.J.tk,a.AF);z.T.remove(window.document.body,a.J.jx);window.scrollTo(a.FJ.x,a.FJ.y);a.dispatchEvent("exitFullScreen")};var UE=function(a,b){a.ca.na(window,"hashchange",a.hH);window.location.hash=b||"";(0,window.setTimeout)((0,z.r)(function(){this.ca.g(window,"hashchange",this.hH)},a))};
var VE=function(a){var b=a.h;b.scrollTop=0;var c=a.Cb.getBoundingClientRect().top;b.onscroll=z.mb((0,z.r)(a.zI,a),function(){return b.scrollTop>c});a.ca.g(window.document,"keydown",a.Yo)};var XE=function(a,b,c){Uw.call(this,a,b,c);this.xp(!0)};var YE=function(a,b){z.H.call(this);this.oa=a;this.Jb=b;this.data=z.As};var ZE=function(a,b){return a?b?new XE(a):new Uw(a):new Yw};
var $E=function(a){a.nm.innerHTML="";z.R(a.nm,!1);a.Do=!1;a.dm.xm("\u95ee\u9898\u91cd\u5b9a\u5411");z.Li("/question/unredirect",null,"POST","qid\x3d"+a.oa+"\x26rqid\x3d"+a.Vt)};var aF=function(a){z.up.call(this,!0,"/topic/bio/update","bio");this.pB=a[0];this.params=["tid\x3d"+this.pB[3]];this.content=a[1];this.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u63cf\u8ff0\u4f60\u5173\u4e8e '+this.pB[0]+" \u7684\u7ecf\u9a8c\x3c/a\x3e";this.Du=!0};
var bF=function(a,b){z.H.call(this);this.aP=b;this.Zk=a;this.items=[];this.Qy=!1};var cF=function(){dF||(dF=new bF(z.Cs,!1));return dF};var eF=function(a){a.locked=!0;var b=new z.V(!0);a.v().g(b,"success",function(a){this.jQ=!0;this.locked=!1;a=z.fe(a.target);a.r||(this.Zk=a.msg,fF(this))});b.ajax("/question/"+a.$H+"/bios",null,"GET")};
var fF=function(a){if(!a.locked)if(!a.jQ&&a.Qy)eF(a);else{if(!a.Aa){a.Aa=new z.Ai;a.Aa.jb("\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c");z.ui(a.Aa,null);z.pi(a.Aa,!1);var b=a.Aa.aa();b.innerHTML='\x3cdiv class\x3d"zg-section-title"\x3e\u4fee\u6539\u6bcf\u4e2a\u8bdd\u9898\u65c1\u8fb9\u9760\u8fd1\u4f60\u540d\u5b57\u7684\u7b80\u4ecb\uff1a\x3c/div\x3e';a.ea(b)}a.Aa.F(!0)}};
var gF=function(a,b){z.S.call(this);this.wb=a;this.Pr=Vu(this.wb);this.isContentEditable=this.wb.isContentEditable();this.kU=30;this.bd=new z.$c(1E3*this.kU);this.oa=z.As?z.As.oa:0;this.VF=b||!1};var hF=function(a){iF(a,"\u4fdd\u5b58\u4e2d\u2026");a.Ew();a.eP()};var jF=function(a){a.bd.stop()};var kF=function(a){a.jB&&((0,window.clearInterval)(a.jB),a.jB=null)};var lF=function(a,b){var c=dw(b||(0,z.x)());/^\d/.test(c)&&(c=" "+c);iF(a,"\u5df2\u5b58\u4e8e"+c)};
var iF=function(a,b,c){var d=(0,window.$)(a.KF);c?d.addClass("warning"):d.removeClass("warning");z.R(a.Bs,!0);z.lf(a.KF,b)};var mF=function(a){nF(a);var b={qid:a.oa,timestamp:(0,z.x)()};(0,window.setTimeout)(function(){window.$.post("/draft/delete",b)},500)};var nF=function(a){a.mG&&(a.mG.abort(),a.yr());kF(a);z.R(a.Bs,!1);a.dispatchEvent("clearContent")};
var oF=function(a){return(0,window.$)('\x3cdiv class\x3d"copyright-notification"\x3e\x3cdiv class\x3d"user-image-container"\x3e\x3cimg class\x3d"user-image" src\x3d"'+(a||"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip right noty-tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow arrow"\x3e \x3c/div\x3e\x3cdiv class\x3d"tooltip-inner inner"\x3e \u5982\u9700\u8f6c\u8f7d\uff0c\u8bf7\u901a\u8fc7\u79c1\u4fe1\u6216\u8bc4\u8bba\u8054\u7cfb\u6211 \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var pF=function(a,b){var c=-1,d=-1,f=qF();a.on("mousedown",function(a){3===a.which&&(c=a.pageX,d=a.pageY)});a.on("copy",function(g){var h=z.No(),l=Math.floor(22*Math.random()+44);if(h&&h.mc()&&(0,z.Ya)(h.mc()).length>l){g.preventDefault();(0,window.$)(".user-image",f).attr("src",b);g=h.yl();var h=h.rl(),l=z.jh(window).y,n=z.Fe(window).height,p=ww(l+45+15,Math.min(g.y,h.y)+l,l+n-15),w=ww(l+45+15,Math.max(g.y,h.y)+l,l+n-15);z.Zr.ob?(n=(z.Fe(window).width-265)/2,g=z.gs?h.y>g.y?h.y+l+10:g.y+l-10:-1!==
d?d+3:p+(w-p)/2-15):(n=-1!==c?c+3:a.offset().left+a.width()/2-15,g=-1!==d?d+3:p+(w-p)/2-15);f.css({position:"absolute",left:n,top:g}).finish().fadeIn(300).delay(2E3).fadeOut(300)}d=c=-1})};
var rF=function(a,b){z.S.call(this);this.oT=(0,window.$)(a).children();this.contents=[];this.Cg=0;this.Cr=[];this.className=b||"";this.JC=!1;this.delay=0;this.Mq=null;z.y.forEach(this.oT,function(a){a=(0,window.$)(a).addClass("carousel-inner-content");this.contents.push(a);this.Cr.push((0,window.$)("\x3cdiv\x3e\x3c/div\x3e").addClass("carousel-dot"))},this)};
var sF=function(a,b){if(0>b||b>=a.contents.length)return!1;a.Mq&&((0,window.clearTimeout)(a.Mq),a.Mq=null);a.Cr[a.Cg].removeClass("carousel-dot-selected");a.contents[a.Cg].hide();a.Cr[b].addClass("carousel-dot-selected");a.contents[b].show();a.Cg=b;tF(a);return!0};var tF=function(a){var b=a.Cg;a.JC&&(a.Mq=(0,window.setTimeout)(function(){b===a.Cg&&(b===a.contents.length-1?sF(a,0):a.next())},a.delay))};
var uF=function(){function a(){function a(){return new z.Kb(function(a){l.onAnimationEnd(function(){a()},400)})}function b(a){return z.y.reduce(a,function(a,b){return a.then(b)},new z.Kb(z.Mb,void 0))}if(!d){d=!0;var c=(0,window.$)("#copyright-demo-region1"),f=(0,window.$)("#copyright-demo-region2"),g=(0,window.$)("#copyright-demo-region3"),h=(0,window.$)("#copyright-demo-region4"),l=(0,window.$)("#copyright-demo-indicator");(0,window.$)(".frame2-region").removeClass("copyright-demo-region-selected");
b([function(){l.show().addClass("indicator-move1");c.addClass("copyright-demo-region1-select-animation");return a()},function(){c.removeClass("copyright-demo-region1-select-animation").addClass("copyright-demo-region-selected");l.removeClass("indicator-move1").addClass("indicator-move2");return a()},function(){f.addClass("copyright-demo-region-selected");l.removeClass("indicator-move2").addClass("indicator-move3");return a()},function(){g.addClass("copyright-demo-region-selected");l.removeClass("indicator-move3").addClass("indicator-move4");
return a()}]).then(function(){h.addClass("copyright-demo-region-selected");l.removeClass("indicator-move4");d=!1})}}function b(){var a=(0,window.$)(".copyright-demo-pointer"),b=(0,window.$)(".copyright-demo-noty");a.css("opacity","0");b.css("opacity","0");a.addClass("copyright-demo-pointer-show-animation");b.addClass("copyright-demo-noty-show-animation");(0,window.setTimeout)(function(){a.removeClass("copyright-demo-pointer-show-animation");b.removeClass("copyright-demo-noty-show-animation");a.css("opacity",
"1");b.css("opacity","1")},1100)}var c=oF(z.Y[2]).addClass("copyright-demo-noty"),d=!1,f=(0,window.$)((0,window.$)("#copyright-demo-template").html());(0,window.$)("#copyright-demo-frame3",f).append(c);var g=new rF(f,"copyright-demo");g.g("rightShow",function(c){1===c.offset?a():2===c.offset&&b()});var c=(0,window.$)('\x3cdiv id\x3d"copyright-demo-helper" style\x3d"display: none; position: absolute;"\x3e\x3cp class\x3d"copyright-demo-helper-intro"\x3e \u52fe\u9009\u540e\uff0c\u6211\u4eec\u5c06\u9650\u5236\u5176\u4ed6\u7528\u6237\u7684\u590d\u5236\u64cd\u4f5c\uff0c\u5e76\u7ed9\u4e88\u63d0\u9192 \x3c/p\x3e\x3cp class\x3d"copyright-demo-helper-btn"\x3e \u67e5\u770b\u6f14\u793a \x3c/p\x3e\x3c/div\x3e'),
h=new z.Xq({I:"data-copyright-demo"});h.Fp=250;h.ho=750;h.lh(c[0]);h.g("trigger",function(a){h.setPosition(new z.Hq(a.anchor,4))});var l=new z.Ai;g.ea(l.aa());l.jb("\u7981\u6b62\u8f6c\u8f7d\u6f14\u793a");z.Di(l,462);(0,window.$)(".copyright-demo-helper-btn").click(function(){h.F(!1);sF(g,0);g.JC=!0;g.delay=3E3;tF(g);l.F(!0)})};
var vF=function(a,b,c){z.xp.call(this,!1);this.nb=!!a;this.lr=!0;this.uJ=b;this.Sb="\x26nbsp;";this.kn=c;this.Cu=this.Cw=this.AE=this.enabled=!0;if(z.Y.active||!z.Y.ya())this.Wy='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e\u5199\u56de\u7b54\u2026\x3c/span\x3e'};var wF=function(a,b){a.kn=b?b:z.Y[4];if(a.Is&&window.$.trim(b)){var c=b;20<c.length&&(c=c.substring(0,17)+"...");a.dL.innerHTML="\uff0c"+z.Fa(c)+'\x3ca name\x3d"edit_bio" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e'}};
var xF=function(a,b,c){b=(0,window.$)(b);(0,window.$)(a.xc).hide();c=(0,window.$)(c);(0,window.$)(a.$i).append(b).after(c);(z.Ei||a.Cd)&&b.addClass("activate-mask-tip-answer-simple");a=z.nm(z.m,{ya:"question_answer_add_start",gd:!0},"#draft");b.on("click",a);c.on("click",a)};
var yF=function(a){a.wk?a.wk.show():(a.wk=(0,window.$)('\x3cdiv class\x3d"question-tip-box-bottom"\x3e\u786e\u5b9a\u60f3\u8981\u56de\u7b54\u4f60\u81ea\u5df1\u63d0\u51fa\u7684\u95ee\u9898\u5417\uff1f\x3cbr\x3e\u5982\u679c\u9700\u8981\u5bf9\u95ee\u9898\u505a\u51fa\u66f4\u591a\u7684\u89e3\u91ca\u548c\u8bf4\u660e\uff0c\u8bf7\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0\u3002 \u5982\u679c\u9700\u8981\u5bf9\u5176\u4ed6\u56de\u7b54\u505a\u51fa\u56de\u5e94\uff0c\u8bf7\u5728\u76f8\u5e94\u56de\u7b54\u4e0b\u901a\u8fc7\u8bc4\u8bba\u53d1\u5e03\u3002\x3cbr\x3e\x3cdiv class\x3d"zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-btn zg-btn-blue" name\x3d"confirm"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-link-gray " name\x3d"cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),a.wk.on("click",
'[name\x3d"cancel"]',function(){a.wk.hide()}).on("click",'[name\x3d"confirm"]',function(){a.wk.hide();(0,window.$)(a.$b).hide();a.Ya(!0);a.Af()}),(0,window.$)(a.$b).after(a.wk))};var zF=function(a){var b=(0,window.$)("input[name\x3danno-checkbox]",a.xc)[0],c=(0,window.$)("label",a.xc)[0];a.Eq=b;z.As.nb&&(a.Eq.checked=!0);z.yh(c,!0)};var AF=function(a,b){z.S.call(this);this.wS=a;this.BC=b};var BF=function(a,b,c,d,f){z.xp.call(this,d,b,c);this.oa=a;this.Ns=this.pp=!1;this.TR=f};
var CF=function(a,b){a.Ns=b};var DF=function(){var a=z.P("select",{style:"1px solid #999 "}),b=z.P("option",{value:"none"},"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531...");a.appendChild(b);z.y.forEach(EF,function(b,d){var f=z.P("option",{value:b.value},d+1+". "+b.label);a.appendChild(f)});return a};var FF=function(a,b,c){a.LG.innerHTML=b;z.T.set(a.LG,c||"zg-error-text")};var GF=function(a,b){this.Oh=a instanceof z.te?a:new z.te(a,b)};var HF=function(a,b){GF.call(this,a,b)};
var IF=function(a,b){Zw.call(this,a,b);this.an=!0;this.Re(!0);this.F(!1,!0);this.Bf=new z.pd};var JF=function(a,b,c,d,f){var g=a.T();a.Cy()&&a.nU?a.hide():(a.Lf=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.R(a.m(),!0),b.da(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Ib(-1),a.F(!0)))};
var KF=function(a,b){for(var c=a.Bf.gb(),d=0;d<c.length;d++){var f=a.Bf.get(c[d]);if(f.h==b.currentTarget){a.FI(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};var LF=function(){z.S.call(this)};var MF=function(){z.Ai.call(this);this.ef=!0;this.F(!0)};
var NF=function(a,b){a.jb("\u63d0\u95ee\u65e0\u4eba\u95ee\u6d25\uff1f");a.ka(b);a.da();(0,window.$)(".js-gonext",a.h).on("click",function(){var b=(0,window.$)(this).parents('[class^\x3d"view"]').attr("class");"view-starting"===b?(a.jb("\u7b2c\u4e00\u6761"),OF(a,"firsttip")):"view-firsttip"===b?(a.jb("\u7b2c\u4e8c\u6761"),OF(a,"secondtip")):"view-secondtip"===b?(a.jb("\u7b2c\u4e09\u6761"),OF(a,"thirdtip")):"view-thirdtip"===b&&a.F(!1)})};
var PF=function(a,b){a.jb("\u9080\u8bf7\u56de\u7b54\u5c0f\u7a8d\u95e8");a.ka(b);a.da();(0,window.$)(".js-close",a.h).on("click",function(){a.F(!1)})};var OF=function(a,b){(0,window.$)('[class^\x3d"view"]',a.h).hide();(0,window.$)(".view-"+b,a.h).show()};var QF=function(a,b){z.S.call(this);this.vS=a;this.ep=b;this.Z=null;this.jf=!1;this.Ol=null;this.Fj=[];this.Ic=!1;this.WP="loading";this.SF="zg-btn-white"};
var RF=function(a){var b=a.WP;a.K.addClass(b).html(SF);window.$.get("/node/QuestionInvitePanelV2",{params:{question_id:a.vS}}).done(function(c){a.Ic=!0;a.K.removeClass(b);c=(0,window.$)(c);a.K.replaceWith(c);a.h=c[0];c.toggle(a.oc());a.K=c;TF(a)})};
var TF=function(a){var b=a.m();a.v().g(z.sj,"anon_change",a.AQ);(0,window.$)(".cancel-anon",b).click(window.$.proxy(a.lN,a));if(!(0,window.$)(".error-message",b).length){var c=z.N("search-input",b),d=z.N("invite-title",b);a.jy(c,d);a.Zu=(0,window.$)(".suggest-persons",b);a.Zu.on("click","button",window.$.proxy(a.bF,a));(0,window.$)(".js-more",b).one("click",function(){(0,window.$)(".person",this.Zu).show();(0,window.$)(this).remove()});a.oq=(0,window.$)(".invite-status",b);a.oq.on("click","button",
window.$.proxy(a.mN,a)).on("mouseenter mouseleave",".invited-shortlist",function(a){(0,window.$)(".invited-hovercard",this).toggleClass("in","mouseenter"===a.type)});UF(a)}};var VF=function(a,b){var c=z.As;a.dispatchEvent(new yy("click!invitation",{category:"invitation",action:"ask_to_answer",label:b,value:c.ZF?null:c.te}))};var WF=function(a,b){return!!z.y.find(a.Fj,function(a){return a.id===b})};
var XF=function(a,b,c){var d=(0,window.$)(".invite-button",a.Zu).filter(function(){return this.getAttribute("data-uid")===b}).get(0);d&&YF(a,d,c)};var YF=function(a,b,c){a=a.SF;c?(z.T.add(b,a),z.lf(b,"\u6536\u56de\u9080\u8bf7")):(z.T.remove(b,a),z.lf(b,"\u9080\u8bf7\u56de\u7b54"))};var UF=function(a){a.Fj=window.$.map((0,window.$)(".invited-fulllist",a.oq).children(),a.DH)};var ZF=function(a,b){a.Fj&&z.y.KS(a.Fj,function(a){return a.id===b})&&$F(a)};
var $F=function(a){var b=a.Fj,c={each:z.y.forEach,fullList:function(){return(0,z.Gp)(aG,{persons:b,helper:c})}};b.length?a.oq.html((0,z.Gp)(bG,{persons:b,helper:c})):a.oq.html("\u4f60\u53ef\u4ee5\u9080\u8bf7 6 \u4eba\u56de\u7b54\u8be5\u95ee\u9898")};var cG=function(a){z.S.call(this);this.data=a;this.qa=null};
var dG=function(a){var b=z.N("panel-container",a.h);b&&(a.Xl=new LF,a.L(a.Xl),a.Xl.w(b),a.qa=new Vy(a.data.oa,"question"),a.Xl.L(a.qa),Yy(a.qa,a.Xl.m(),(0,window.$)(".toggle-comment",a.h)[0]),a.Bj(),a.Cj(),"normal"===z.As.status&&(b=new QF(a.data.oa,a.data.kb),b.ea(a.Xl.m()),a.Xl.L(b),z.As.KT&&(b.Ua(!0),a.dispatchEvent(new yy("show!invitation",{category:"invitation",action:"ask_to_answer_card",label:""}))),a.vy=b))};
var eG=function(a,b){var c=a.rK;c||(c=new IF,c.w(z.M("zh-question-admin-menu")),z.$h(c,function(a){a.Ea(a.m().getAttribute("data-action"))}),a.v().g(c,"action",function(a){a=this.mC=a.target;(new Ay).open(a.m(),{id:this.data.oa,type:"question"},(0,z.r)(this.QL,this))}),a.rK=c);c.T()?c.F(!1):JF(c,new $w(b,1,!0),0,new z.Sg(5,0,5,0))};
var fG=function(a){z.Gi("\u5220\u9664\u95ee\u9898","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f\u76f8\u5173\u7684\u8bc4\u8bba\u4e5f\u5c06\u88ab\u5220\u9664\u3002",function(a){if(a){var c=new z.V(!0);z.G(c,"complete",function(){var a=z.fe(c);a&&!a.r?window.location.href="/":z.U(a.msg)});c.ajax("/question/delete/"+this.data.oa)}},a)};var fA=function(a,b){z.S.call(this);this.Nb=a;this.entryType=b;this.km=null;this.wg="post"===b?Xz:Yz};
var gA=function(a){a.km&&"pending"===a.km.state()||(a.km=a.wg.TE(a.Nb).done((0,z.r)(a.kp,a)))};var gG=function(a){this.K=(0,window.$)(a);this.Gb()};var hG=function(a,b,c){z.xp.call(this,a,b,c)};var iG=function(){this.Sv=[]};var jG=function(a,b,c){var d=b.M().B("SPAN");d.className="goog-submenu-arrow";kG(b,d);a.aa(c).appendChild(d)};var kG=function(a,b){a.Gd()?(z.Jg(b,"goog-submenu-arrow-rtl"),z.lf(b,a.Cq?"\u25c4":"\u25ba")):(z.Lg(b,"goog-submenu-arrow-rtl"),z.lf(b,a.Cq?"\u25ba":"\u25c4"))};
var lG=function(a,b,c,d){Uw.call(this,a,b,c,d||iG.U())};var mG=function(a){a.Ud&&z.cd(a.Ud);a.MA&&z.cd(a.MA)};var nG=function(a){z.$h(a.getParent(),function(a){a!=this&&"function"==typeof a.Dg&&(a.Dg(),mG(a))},a)};
var oG=function(a,b){a.dispatchEvent(z.Uh(64,b));var c=a.$a();b!=a.cz&&z.Ng(a.m(),"goog-submenu-open",b);if(b!=c.T()&&(b&&(c.va||c.ea(),c.Ib(-1)),c.F(b),b)){var c=new $w(a.m(),a.Cq?6:4,a.wP),d=a.$a(),f=d.m();d.T()||(f.style.visibility="hidden",z.R(f,!0));c.da(f,a.Cq?4:6);d.T()||(z.R(f,!1),f.style.visibility="visible")}a.cz=b};var pG=function(a,b,c){var d=a.v();(c?d.g:d.na).call(d,b,"enter",a.JQ)};var qG=function(a,b,c,d){lG.call(this,a,b,c,d)};
var dA=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{});this.content="";this.Dc=this.Ue=this.Ve=null;this.Ad=!1;this.valid=!0};var rG=function(a,b,c){z.S.call(this);this.oa=a;this.pa=c;this.eM=b||z.As;this.$v=null};var sG=function(a,b){return z.nm(a,b,function(){return this.Tn()})};
var tG=function(a){var b=z.N("zm-item-answer",a.h)||a.h;a.pa=b.getAttribute("data-aid");a.Ne="1"===b.getAttribute("data-isowner");a.kb=b.getAttribute("data-atoken");a.gi="1"===b.getAttribute("data-deleted");a.gw=+b.getAttribute("data-created");a.EO=+b.getAttribute("data-helpful");a.uP="1"===b.getAttribute("data-good");a.lr="1"===b.getAttribute("data-copyable");a.Gj="1"===b.getAttribute("data-collapsed");a.nb=null};
var uG=function(a,b){var c={};c.Rr=!!b;c=a.ou=new dA(c);a.L(c);c.w(a.h);c.Dd()&&a.v().wa(c,"expand",a.$y);cv(a.h,a.Qj,a)};var vG=function(a,b){a.Vb=b};var wG=function(a){var b=z.N("zm-item-vote-info",a.h);if(b){a.uk=new fA(a.pa);a.L(a.uk);a.uk.w(b);b=(0,window.$)(".zm-item-vote-count",a.h);b[0]||(b=(0,window.$)(".zm-item-vote-count",a.Vb));var c=[b[0],(0,window.$)(".zm-votebar .count",a.h)[0]];if(c.length){var d=a.uk;a.uk.on("change",function(){z.y.forEach(c,function(a){z.Om(a,d.Sa())})})}}};
var xG=function(a){var b=z.N("more-actions",a.Vb);if(b){var c={share:{label:"\u5206\u4eab",action:a.jO},fav:{label:"\u6536\u85cf",action:a.rj},report:{label:"\u4e3e\u62a5",action:a.gO},nohelp:{label:a.EO?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9",action:a.eF}},d=new Zw,f=function(a){z.Yh(d)&&d.Ga(new Yw);var b=new Uw(c[a].label);b.Ea(a);d.Ga(b)};f("share");f("fav");a.Ne||(f("nohelp"),z.Y.ya()&&f("report"));f=new gx("operation",d);f.hk=!0;ix(f);hx(f);f.cm=function(){};f.bc=z.as;
f.w(b);z.T.add(d.m(),"zh-answer-more-actions");a.v().g(d,"action",function(a){var b=a.target.W();(b=c[b])&&b.action&&b.action.call(this,a)})}};
var yG=function(a){if(!a.se&&a.Ne&&z.As&&a.pa){a.se=new hG(!1,"/answer/content","content");z.gc(a,a.se);a.se.Cu=!0;a.se.Cw=!0;a.se.NE=vF.prototype.NE;var b=z.N("zm-item-rich-text",a.h);Wu(a.se,["id\x3d"+a.oa]);a.se.w(b);a.v().g(a.se,"shouldUpdateContent",function(a){if(z.fa(a.data))return!1});a.v().g(a.h,"click",function(a){"suggest_edit"===a.target.name&&(this.se.Af(),(0,window.$)(".zh-question-censor-tip",this.h).hide());return!0})}};
var zG=function(a,b){if(!a.qa){a.qa=new Vy(a.pa,"answer",b);a.L(a.qa);Yy(a.qa,a.Vb,(0,window.$)(".toggle-comment",a.Vb)[0]);uz(a.qa);a.qa.cu(a.Tn());var c=window.location.hash.slice(1).split("-"),d=window.location.pathname.split("/"),d="answer"===d[3]&&d[4];"comment"===c[0]&&c[1]&&d===a.kb&&(a.qa.Ua(!0),a.v().g(a.qa,"expand",function(){fz(this.qa)}))}};var AG=function(a){if(a.Aq)a.Aq.F(!0);else{var b=BG(a);b&&(JF(b,new $w(a.sK,1,!0),0,new z.Sg(5,0,5,0)),CG(a,b),DG(a,b),a.Aq=b)}};
var BG=function(a){var b=(0,window.$)("a[name\x3dadmin]",a.ki)[0];if(b){a.sK=b;EG=0;var c=new IF;a.L(c);c.attach(b,5);var d=a.Gj?new Uw("\u53d6\u6d88\u6298\u53e0"):new qG("\u6298\u53e0");d.Ea("collapse");var f=function(a,b){var c=new Uw(b+1+" "+a.label);c.Ea(a.value);d.Ga(c)};a.Gj||FG("answer","collapse").then(function(a){z.y.forEach(a,f);z.T.add(d.$a().m(),"manage-menu")});b=new Uw("\u5220\u9664");b.Ea("delete");c.Ga(d);c.Ga(b);c.ea(a.h);z.T.add(c.m(),"manage-menu");return c}};
var CG=function(a,b){a.v().g(b,"action",function(a){var b=a.target;a=b.W();var b=b.m(),f=new z.Yk;"collapse"===a?(f.add("answer_id",this.pa).add("action","collapse2").add("collapse",this.Gj?"cancel":"done"),b.setAttribute("data-op",this.Gj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),GG(this,b)):"delete"===a?(f.add("answer_id",this.pa).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
GG(this,b)):z.ha(a)&&(b=new z.Yk,b.add("answer_id",this.pa).add("action","collapse2").add("collapse",this.Gj?"cancel":"done").add("reason",a),By("/manage",b.toString(),(0,z.r)(this.qH,this)))})};var GG=function(a,b){(new Ay).open(b,{id:a.pa,type:"answer"},(0,z.r)(a.qH,a))};
var HG=function(a){function b(){c();var b=a.Aq.Zh(0);b.$a&&b.$a()&&(b.ju(),b.$a().Ib(0))}function c(){AG(a);a.Aq.Ib(0)}var d=new gG(a.h),d=z.st.GJ(d.getItem()||a.h);z.Nm(z.Nm(z.Nm(z.Nm(z.Nm(z.Nm(d.register("v",function(){this.sb&&this.sb.xu()},a),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"}).register("d",function(){this.sb&&this.sb.wu()},a),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"}).register("s c",a.rj,a),{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("t",a.ks,a),{group:"\u64cd\u4f5c",name:"\u611f\u8c22"}).register("c",
a.Hx,a),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",a.Yr,a),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"});var f=z.Ac?"\u2318":"ctrl";z.Zr.TF&&(0,window.$)("a[name\x3dadmin]",a.ki)[0]&&z.Nm(z.Nm(d.register("meta+.",c),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u83dc\u5355",key:f+"+."}).register("meta+k",b),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u6298\u53e0\u5b50\u83dc\u5355 (Kill)",key:f+"+k"})};
var DG=function(a,b){a.v().g(b,"show",function(){z.T.add(this.Vb,"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.T.remove(this.Vb,"zm-item-meta-has-menu")})};
var IG=function(a){var b=(0,window.$)('[name\x3d"comment_opt"]',a.Vb);if(b.length){var c=b.data(),d=new Zw,f=new XE("\u7981\u6b62\u8f6c\u8f7d");f.Ld(!c.copyable);d.Ga(f);d.Ga(new Yw);JG(a,d);d.Ga(new Yw);d.Ga(new Uw("\u5220\u9664"));a.v().g(d,"action",a.pN);DG(a,d);z.T.add(d.m(),"zg-gray-normal");(0,window.$)(d.m()).addClass("setting-menu");a=new gx("comment",d);a.hk=!0;ix(a);hx(a);a.bc=z.as;a.w(b[0])}};
var KG=function(a){if(!a.mD||!a.mD.Ub()){var b=new z.V(!0);a.v().wa(b,"success",function(a){if((a=z.fe(a.target))&&!a.r){var b=a.msg;z.y.forEach(this.aw,function(a){a.W()===b&&a.Ld(!0)});this.$v=b}else z.U(a.msg)});b.ajax("/answer/comment_permission?answer_id\x3d"+a.pa,null,"GET");a.mD=b}};var JG=function(a,b){a.aw=[];z.A.forEach(LG,function(a,d){var f=new XE(a);f.Ea(d);f.Ld(d===this.$v);this.aw.push(f);b.Ga(f)},a)};
var MG=function(a){var b=new z.V(!0);a.v().wa(b,"success",function(){z.R(this.h,!this.gi);this.gi?this.ev="set_delete":(yG(this),this.ev="cancel_delete");this.dispatchEvent("change");(0,window.$)(this.h).parent(".zm-item").hide()});b.ajax("/answer/"+(a.gi?"remove":"unremove"),"aid\x3d"+a.pa)};var NG=function(a){a.gi=!1;a.status=0;MG(a)};var OG=function(a,b,c){rG.call(this,a,b,c)};
var PG=function(){z.S.call(this);this.data=z.As||{};this.oa=this.data.oa;this.Do=!1;this.Oi={};this.yv=[];this.Fq=[];this.ni=0;this.Uj=z.Bs&&z.Bs.url_token?z.Bs:null};var QG=function(a){z.Y.dh&&window.$.post("/question/popup",{action:"no_answer",question_token:a.data.kb},function(a){a&&NF(new MF,a)})};var RG=function(a){(0,window.$)(".js-ignore-invite").click(function(){(0,window.$)(".question-invited-by").hide();window.$.post("/question/askpeople",{qid:a.data.kb,uid:z.Y.Me,op:"pass"})})};
var SG=function(a){TG(a);UG(a);VG(a,null);WG(a);a.v().g(z.sj,"anon_change",function(a){this.data.nb=a.nb})};var XG=function(a){"close"!==z.As.status&&(a.Qa=new z.Gn(a.data.Mm,a.data.oa),a.Qa.ft=5,a.Qa.jt=1,a.Qa.oC=!0,a.Qa.qt=!0,a.Qa.w(z.N("zm-tag-editor",a.h)),a.v().g(a.Qa,["remove_tag","add_tag"],function(){z.X.sa("ga_edit_question_topic_changed")}),a.v().g(a.Qa,"start_editing",function(){z.X.sa("ga_question_topic_edit_finish_changed")}),a.Qa.addEventListener("beforeedit",vC({lm:!0})))};
var YG=function(a){"close"===z.As.status&&(0,window.$)('.question-status [name\x3d"appeal"]').click(window.$.proxy(function(){var a=this.oa,b=new z.Ai;z.pi(b,!0);b.ef=!0;z.ui(b,z.ji());b.jb("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");b.ka('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');b.F(!0);b.da();b.v().g(b,z.Yl,function(){window.$.post("/question/appeal",
{qid:a,reason:(0,window.$)('[name\x3d"reason"]',b.h).val()},function(){z.Gi({title:"\u7533\u8bc9\u63d0\u4ea4",mi:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",da:!0,buttons:["\u77e5\u9053\u5566"]})})})},a));var b=z.M("zh-question-title");
"false"!==b.getAttribute("data-editable")&&(a.cd=new BF(a.data.oa,"/question/title","content",!1,!0),a.cd.TD=!0,a.cd.Cd=!0,a.cd.pp=!0,CF(a.cd,jw(a.data.dh)),a.cd.w(b),a.v().g(a.cd,"change",function(){z.sj.dispatchEvent("question_title_change");window.document.title=this.cd.fb()+" - \u77e5\u4e4e"}),a.v().g(a.cd,"click_edit",function(){z.X.sa("ga_question_title_edit_start")}),a.v().g(a.cd,"cancel_edit",function(){z.X.sa("ga_question_title_edit_cancel")}),a.v().g(a.cd,"save_changed",function(){z.X.sa("ga_question_title_edit_save_changed")}),
a.v().g(a.cd,"save_unchanged",function(){z.X.sa("ga_question_title_edit_save_unchanged")}),a.cd.addEventListener("beforeedit",vC({lm:!0})))};var ZG=function(a,b){z.Y.ya()&&b?($G(a,"zh-question-detail",a.UO),$G(a,"zh-question-answer-summary",a.XO)):($G(a,"zh-question-detail",z.m),$G(a,"zh-question-answer-summary",z.m))};var $G=function(a,b,c){if(b=z.M(b)){var d=new dA;a.v().g(d,"expand",c).g(d,"invalid",c);d.w(b)}};
var WG=function(a){a.data.er=+a.HL.innerHTML;z.Y.ya()||(a.data.er=0);z.R(a.Mh,0<a.data.er);a.Gq&&z.lf(a.Gq,a.data.te?a.data.te+" \u4e2a\u56de\u7b54":"\u8fd8\u6ca1\u6709\u56de\u7b54");a.Im&&z.R(a.Im,1<a.data.te);z.R(a.Mh,0<a.data.er)};
var aH=function(a){var b=z.M("zh-question-answer-wrap");if(b){var c=new Mw({use:["expandLimit","nodeSource"],nh:a.data.te>a.data.ZR&&!z.N("question-page-pager")});a.L(c);a.v().g(c,"itemcreated",function(a){c.L(bH(this,a.item));(0,window.$)("img.lazy",a.item).lazyload({data_attribute:"actualsrc",threshold:400})});c.w(b)}};
var bH=function(a,b,c,d){d=new OG(a.oa,null,d);d.w(b);a.Oi[d.pa]=d;a.Fq.push(d.pa);a.v().g(d,"change",a.qz);d.Ne&&(a.ni=d.pa,d.SK=z.Y,a.v().g(d.se,"change",a.YN),a.vg=d);d.Gj?d.Ne&&a.un.appendChild(d.m()):a.yv.push({added_time:d.gw,vote:c,aid:d.pa});d.gi&&z.R(d.m(),!1);return d};
var UG=function(a){var b=null,c=null,d,f={suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"};z.ys.Qd||"normal"===z.As.status||(c="\u88ab"+f[z.As.status]+'\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\u3002\x3ca data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e');a.ni?
(d=a.Oi[a.ni],b="#answer-"+d.pa,d=d.gi):a.Uj&&(b="/question/"+z.As.kb+"/answer/"+a.Uj.url_token,d=a.Uj.is_delete);b&&(c=d?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':'\u4e00\u4e2a\u95ee\u9898\u4f60\u53ea\u80fd\u56de\u7b54\u4e00\u6b21\uff0c\u4f46\u4f60\u53ef\u4ee5\u5bf9 \x3ca href\x3d"'+b+'"\x3e\u73b0\u6709\u7684\u56de\u7b54\x3c/a\x3e \u8fdb\u884c\u4fee\u6539');
!z.Y.dh||a.ni||a.Uj||(c='\u6dfb\u52a0\u56de\u7b54\uff1a\x3ca href\x3d"javascript:;" name\x3d"answer_my_question"\x3e\u56de\u7b54\u81ea\u5df1\u7684\u63d0\u95ee\x3c/a\x3e');a.data.By&&(c='\u8be5\u95ee\u9898\u76ee\u524d\u5df2\u7ecf\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u6dfb\u52a0\u65b0\u7b54\u6848\u3002\x3ca href\x3d"/question/19604313" target\x3d"_blank"\x3e\u95ee\u9898\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u9501\u5b9a\uff1f\x3c/a\x3e');c&&a.wb.Ya(!1,c)};
var cH=function(a){a.Gq=z.M("zh-question-answer-num");a.Hq=z.M("zh-question-answer-wrap");a.Mh=z.M("zh-question-collapsed-link");a.un=z.M("zh-question-collapsed-wrap");a.HL=z.M("zh-question-collapsed-num");a.JK=z.M("zh-question-answer-form-wrap");a.rk=z.M("zh-question-notification-summary");a.Im=z.M("zh-answers-filter");a.Jt=z.M("zh-add-question-sug");a.Gq&&(a.data.te=+a.Gq.getAttribute("data-num"));a.Hq&&(a.data.ZR=+a.Hq.getAttribute("data-pagesize"));a.Mh&&a.v().g(a.Mh,"click",a.aU);a.Jt&&a.v().g(a.Jt,
"click",a.ZE);a.Im&&z.ws&&a.v().g(a.Im,"click",function(a){a.stopPropagation();z.T.add(this.Im,"activated");this.v().wa(window.document,"click",function(){z.T.remove(this.Im,"activated")})})};var dH=function(a,b){var c=z.M("zh-question-collapsed-switcher");b?(c.name="collap",a.nD=!0,z.R(a.un,!0),z.T.add(a.Mh,"zu-question-collap-title-active")):(a.nD=!1,c.name="expand",z.R(a.un,!1),z.T.remove(a.Mh,"zu-question-collap-title-active"))};
var eH=function(a){a.JL=!0;var b=a.un,c=window.$.get("/node/QuestionCollapsedAnswerListV2",{params:{question_id:a.data.oa}});c.done(function(c){c=z.Ne(c);dH(a,!0);z.T.remove(b,"zm-question-collapsed-list-loading");b.appendChild(c);z.y.forEach(z.Ze(b),function(b){b!==d&&bH(a,b,99999)});(0,window.$)("img.lazy",b).lazyload({data_attribute:"actualsrc",threshold:400})});var d=z.Ze(b)[0];d&&(z.R(d,!1),c.done(function(){z.R(d,!0)}));z.R(b,!0);z.T.add(b,"zm-question-collapsed-list-loading")};
var TG=function(a){var b=z.Y[4];z.Cs&&z.Cs.length&&(b=z.Cs[0][1]);a.wb=new vF(a.data.nb,z.Y,b);a.L(a.wb);a.wb.w(a.JK);z.ys.Qd&&z.ys.Qd.length?a.wb.ka(z.ys.Qd[0]):!z.Zr.ob&&z.B&&a.wb.ka("\x3cp\x3e\x3c/p\x3e");if(!(a.data.By||a.ni||a.Uj&&a.Uj.url_token))if(a.data.bn&&a.data.bn.length&&a.data.bn[3]!==z.Y.Me)a.wb.Ya(!1,"\u53ea\u6709 "+fw(a.data.bn)+" \u80fd\u56de\u7b54\u6b64\u95ee\u9898");else if("normal"===z.As.status||z.ys.Qd)z.Y.dh||a.wb.Af();a.v().g(a.wb,"change",a.zQ);a.v().g(a.wb,"cancel_delete_answer",
a.IQ);a.wb.ready(function(){var a=this.qx();a&&"writing"===window.location.hash.slice(1)&&a.execCommand("toggleFullScreen")})};var VG=function(a,b){if(b=b||window.location.hash.slice(1)){var c=b.split("-"),d=c[1];"answer"===c[0]&&(c=a.GE(d))&&(c.Gj&&!a.nD?fH(a,a.Mh):(fH(a,c.m()),gH(c)))}};var fH=function(a,b){if(b){var c=z.Dh(window.document.body).top,d=a.CO?z.rh(a.rk).height:0,c={paddingTop:c+d};"number"===window.$.type(c)&&(c={offsetTop:c});c.yJ=Mv;Lv(b,c);z.Wm(b);a.hj&&a.hj.cq()}};
var hH=function(){PG.call(this);this.data=z.As;this.oa=this.data.oa};var iH=function(a){var b=(0,window.$)(".awesome-answer-list").get(0);if(b){var c=new Mw({use:["expandLimit"],nh:!1});a.L(c);a.v().g(c,"itemcreated",function(a){var b=new Pz;b.w(a.item);c.L(b)});c.w(b)}};
var jH=function(a,b){var c=(0,window.$)("#js-sidebar-author-info");if(!(0,window.$)("a[name\x3dfocus]",c).length){var d={0:"fullname",1:"url_token",2:"avatar_path",3:"hash",4:"headline"},f=z.y.reduce(z.Y,function(a,b,c){a[d[c]]=b;return a},{}),f=(0,z.Gp)(a.TK,{author:!b&&f});c.html(f)}};var kH=function(){var a=(0,window.$)("#zh-question-answer-collestions");a.length&&(0,window.$)("a[name\x3dfocus]",a).click(function(){(0,z.cu)(this,"favlist")})};
var lH=function(a){a.Jb?a.Jb.gi?(a.zr.innerHTML=a.Jb.Ne?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':"\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664",z.R(a.Jb.m(),!1)):z.R(a.Jb.m(),!0):a.zr.innerHTML="\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664"};
var mH=function(){z.S.call(this);this.page=1};var nH=function(a,b){z.lf(a,b?"\u52a0\u8f7d\u4e2d...":"\u66f4\u591a")};var oH=function(a,b){window.$.each(b,function(b,d){var f=new pH;a.L(f);f.w((0,window.$)(d)[0]);a.MB.append(f.m());a.v().g(f,"unfollow",function(){qH(a)})})};
var rH=function(a){function b(a){g.hasClass("disabled")||(h.random(a)||(g.addClass("disabled"),(0,window.$)(".hidden-topics-plaza").show(),z.W("topic","show_hidden_enter_topics_square","topic_feed_recommend")),d.html(Hz(h,h.Td,h.$g)))}var c=(0,window.$)(a.m()),d=(0,window.$)(".js-list",c),f=(0,window.$)(".js-hidden-list",c),g=(0,window.$)(".js-pager",c),f=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html(f.html()).children().add(d.children())),h=new Fz(f,3);g.on("click",function(){b(d.find(".zg-btn-follow").length)});
d.on("click","[data-follow]",function(c){var f=(0,window.$)(c.target),p=f.data("id"),w=(0,window.$)(".new-follow-topics span"),F=w.data("ids");if(f.hasClass("zg-btn-follow"))c=(0,window.$)(c.target).closest(".topic-item"),h.remove(c[0]),w.length?(F.push(p),w.data("ids",F),w.text(F.length)):(0,window.$)('\x3ca href\x3d"#" class\x3d"new-follow-topics"\x3e\u65b0\u5173\u6ce8 \x3cspan data-ids\x3d"['+p+']"\x3e1\x3c/span\x3e \u4e2a\u8bdd\u9898\uff0c\u70b9\u51fb\u67e5\u770b\x3c/a\x3e').insertBefore((0,window.$)(".topic-recommend")),
1===(0,window.$)(".zg-btn-follow",d).length&&(g.hasClass("disabled")?(0,window.$)(".topic-recommend").fadeOut():(0,window.setTimeout)(function(){b(0)})),sH(a);else if(f.hasClass("zg-btn-unfollow")){var J=(0,window.$)(".js-topic-item[data-id\x3d"+p+"]");J.length?J.fadeOut(function(){J.remove();qH(a)}):F&&(1<F.length?(F.splice(F.indexOf(p),1),w.data("ids",F),w.text(F.length)):w.parent().remove(),qH(a))}});c.on("click",".new-follow-topics",function(b){b.preventDefault();var c=(0,window.$)(b.target);
window.$.get("/topic/newest-feeds",{ids:JSON.stringify((0,window.$)("span",c).data("ids"))},function(b){b&&!b.r&&(oH(a,b.msg),c.remove())})}).on("click",".js-nomore-recommend",function(){window.$.post("/topic/suggest-topics/close",function(a){a&&!a.r&&(0,window.$)(".topic-recommend").fadeOut()})})};var sH=function(a){var b=(0,window.parseInt)(a.Ru.text());tH(a,b+1)};var qH=function(a){var b=(0,window.parseInt)(a.Ru.text());tH(a,b-1)};
var tH=function(a,b){a.Ru.text(b);(0,window.$)(".no-topics").toggle(0===b)};var pH=function(){z.S.call(this)};var uH=function(){z.S.call(this)};var vH=function(a){a.Nf&&a.Nf.H();var b=new Gv;b.Er=(0,z.Ya)("pin-topic-moving").split(" ");Hv(b,a.h,0);b.init();a.v().g(b,"dragend",(0,z.r)(a.pu,a));a.Nf=b;(0,window.$)("a",a.h).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})})};var wH=function(a,b){return(0,window.$)(a.h).find("[data-topicid\x3d"+b+"]")};
var xH=function(a,b){return window.$.post("/pin-topic/add",{tid:b},window.$.proxy(function(a){!a.r&&a.msg?((0,window.$)(this.h).append((0,window.$)(this.SS({topic:a.msg})).hide().fadeIn()),vH(this)):z.U(a.msg,2E3)},a))};var yH=function(a,b,c){var d=wH(a,b);d.fadeOut(function(){d.remove();a.pu().done(function(a){c&&c(a)});a.dispatchEvent({type:"change",ZI:d.attr("data-topicid")});0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})};
var zH=function(){z.S.call(this);this.nE="even";this.Dn="current"};var AH=function(a,b){return a.Qu.filter(function(){return(0,window.$)(this).text()===b})};var BH=function(a,b){return a.Qu.filter(function(){return(0,window.$)(this).attr("data-id")===String(b)})};var CH=function(){z.S.call(this)};var DH=function(a){z.jn.set("SettingsAccountPage:pageAlert",a);window.location.reload()};
var EH=function(a){return window.$.extend(!0,{},{messages:{digits:{required:"\u8bf7\u586b\u5199\u6570\u5b57\u9a8c\u8bc1\u7801"},password:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},password_repeat:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},email:{required:"\u8bf7\u586b\u5199\u90ae\u7bb1"},phone_no:{required:"\u8bf7\u586b\u5199\u624b\u673a\u53f7"}},ignore:"input.text:hidden"},a)};
var FH=function(){function a(a,b){return!!z.y.find(a,function(a){return a.challenge_type===b})}function b(a){var b={value:a.challenge_type};switch(b.value){case "password":b.label="\u4f7f\u7528\u77e5\u4e4e\u5bc6\u7801\u9a8c\u8bc1";break;case "phone_digits":b.label=z.xa("\u4f7f\u7528\u624b\u673a %s \u9a8c\u8bc1",a.hint);break;case "email_digits":b.label=z.xa("\u4f7f\u7528\u90ae\u7bb1 %s \u9a8c\u8bc1",a.hint)}return b}var c=window.$.Deferred();if(z.bk.get("unlock_ticket"))return c.resolve().promise();
var d=sw({title:"\u9a8c\u8bc1\u8eab\u4efd",mi:!0,II:"\u6b63\u5728\u8fdb\u884c\u5b89\u5168\u9a8c\u8bc1\uff0c\u8bf7\u7a0d\u7b49",className:"settings-account-unlock-dialog",onload:function(a,b){function d(a){var b=(0,window.$)(".panel",l),c=a?b.filter(function(){return(0,window.$)(this).data("match")===a}):b.first();b.not(c.show()).hide()}var l=(0,window.$)("form",a),n=(0,window.$)(".submit",l),p=(0,window.$)(".error-label-container",l),w=(0,window.$)(".hint-label-container",l),F=(0,window.$)("select",
l).change(function(){d(this.value);p.text("");w.text("")});(0,window.$)(".js-send-digits",l).each(function(){var a=(0,window.$)(this),c=a.closest(".panel");(0,window.$)("input",c);var d=c.data("match"),a=(0,z.jk)(a,"email_digits"===d?10:60,GH,function(){w.text("");HH.uT(d).then(function(){w.text("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684"+("email_digits"===d?"\u90ae\u7bb1":"\u624b\u673a"))})});z.gc(b,a)});var J=l.validate(EH({errorLabelContainer:p,submitHandler:z.ck(n,function(){var a=
"password"===F.val();return(a?HH.yU:HH.xU)((0,window.$)(":input:visible",l).serialize()).then(function(d){if(d.success)b.F(!1),c.resolve();else if(d=d.payload,d.fields)J.showErrors(d.fields);else if(d.message){var f={};f[a?"password":"digits"]=d.message;J.showErrors(f)}})})}));F.change();(0,window.$)("input.text:visible",l).focus()},cw:HH.VS().then(function(f){if(f.success)return(0,window.setTimeout)(function(){d.F(!1);c.resolve()},3E3),'\x3cp class\x3d"z-text-muted"\x3e\u9a8c\u8bc1\u6210\u529f\x3c/p\x3e';
var g=f.payload;return HH.WS().then(function(c){return(0,z.Gp)(c,{canUsePanel:z.pa(a,g),each:z.y.forEach,options:z.y.map(g,b)})})})});return c.promise()};
var IH=function(a,b){function c(a){return!a.success&&a.payload}function d(){O.addClass("expanded");a.trigger("expanded")}function f(b){O.removeClass("expanded");b&&O.find(".group-text .text").text(b);a.removeClass("form-expanded");a.trigger("collapsed");a.find(":input:not(:submit)").each(function(){this.value=this.defaultValue});K.text(K.data("defaultText"));J.text("")}function g(){return window.$.Deferred(function(b){da&&!a.hasClass("form-expanded")&&a.valid()?(a.addClass("form-expanded"),F.click(),
K.data("defaultText",K.text()).text("\u786e\u5b9a"),b.reject()):b.resolve()}).promise()}function h(){return p.submit(a.serialize())}function l(a){a.fields?Oa.showErrors(a.fields):a.message&&z.U(a.message)}function n(a){var b=a.payload;a.success?(b&&f(b[w.attr("name")]),p.vt()):l(b)}var p=window.$.extend({zD:10,uA:window.$.noop,vA:"",submit:window.$.noop,vt:window.$.noop,OU:{email:{promise:[HH.MU,200,c]},phone_no:{promise:[HH.NU,200,c]}}},b),w=(0,window.$)("input.text:first",a),F=(0,window.$)(".js-send-digits",
a),J=(0,window.$)(".hint-label-container",a),K=(0,window.$)(":submit",a),O=a.closest(".form-container"),da=!!F.length,Oa;(function(){(0,window.$)(".js-expand:not(.disabled)",O).click(function(){FH().then(d);return!1});da&&(0,z.jk)(F,p.zD,GH,function(){if(!w.valid())return!1;J.text("");p.uA(w.val()).then(function(a){a.success?J.text(p.vA):l(a.payload)})});Oa=a.validate(EH({rules:p.OU,errorPlacement:function(a,b){b.is(":visible")&&a.appendTo(b.parent())},submitHandler:z.ck(K,function(){return FH().then(g).then(h).then(n)})}))})()};
var GH=function(a){return a?"%s \u79d2\u540e\u5373\u53ef\u91cd\u53d1":"\u91cd\u53d1\u9a8c\u8bc1\u7801"};
var JH=function(a){a=(0,window.$)(".email-form",a.h);if(a.length){IH(a,{vA:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u90ae\u7bb1",uA:HH.rT,submit:HH.DU,vt:z.pa(DH,"\u90ae\u7bb1\u7ed1\u5b9a\u6210\u529f")});a.on("expanded",function(){(0,window.$)(".email-activation-notice").remove()});a=function(){window.$.post("/reactive").done(function(a){a.r?z.Qr(a.msg,"error"):z.Qr("\u9a8c\u8bc1\u90ae\u4ef6\u91cd\u53d1\u6210\u529f")})};var b=(0,window.$)(".resend-activation-email");if(b.length){var c=
b.text();(0,z.jk)(b,10,function(a){return a?c+"\uff08%s\uff09":c},a)}}};
var KH=function(a){var b=(0,window.$)(".sns-accounts-container",a.h);if(b.length){var c=function(a,c){var f=(0,window.$)(z.xa("a[data-type\x3d%s]",a),b);c?DH(window.$.trim(z.xa("%s\u7ed1\u5b9a\u6210\u529f",d(a)))):f.text(window.$.trim(z.xa("\u7ed1\u5b9a%s",d(a)))).removeClass("js-unbind").addClass("js-bind").prev(".name").remove()},d=function(a){return{qqconn:" QQ ",wechat:"\u5fae\u4fe1",sina:"\u5fae\u535a"}[a]};b.on("click","a.js-bind",function(){var a=this.href;FH().then(function(){window.open(a)});
return!1});b.on("click","a.js-unbind",function(){var a=(0,window.$)(this).data("type"),b=d(a);z.Gi({mi:!0,title:"\u89e3\u7ed1\u793e\u4ea4\u5e10\u53f7",content:z.xa("\u89e3\u7ed1%s\u540e\u4f60\u5c06\u65e0\u6cd5\u4f7f\u7528%s\u767b\u5f55\u77e5\u4e4e\uff0c\u4f60\u786e\u5b9a\u8981\u89e3\u7ed1\u5417\uff1f",b,b),buttons:["\u53d6\u6d88","\u89e3\u7ed1"]},function(d){d&&(0,window.setTimeout)(function(){FH().then(z.pa(HH.vU,a)).then(z.pa(z.Qr,z.xa("\u89e3\u7ed1%s\u6210\u529f",b)),z.U).then(z.pa(c,a,!1))})});
return!1});var f=function(a){return function(b){"error"===a?(0,window.setTimeout)(function(){z.Qr(b.wf.message,"error")},3E3):c(a,!0)}};a.v().g(z.X,"sina_callback",f("sina")).g(z.X,"qqconn_callback",f("qqconn")).g(z.X,"wechat_callback",f("wechat")).g(z.X,"oauth_error_callback",f("error"))}};var LH=function(){z.S.call(this)};var MH=function(){z.S.call(this)};
var NH=function(a,b){var c=z.M(b);if(c){var d=new Mw;a.L(d);d.use("locationSource",{At:!0});d.w(c);(0,window.$)(c).on("click",'a[name\x3d"revert"]',function(){if(!1===vC({lm:!0})())return!1;FB(this);return!1}).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new ox("activity",(0,window.$)(this).data("id"))).submit();return!1})}};var OH=function(){z.S.call(this)};
var PH=function(a,b){var c;if(a&&b){c=c||"text-highlight";var d=new RegExp(b,"i");(0,window.$)(a).find("*").andSelf().contents().each(function(){if(3===this.nodeType){var a=this,g=a.parentNode;if(!z.T.has(g,c))for(var h,l;-1!==(h=a.data.search(d));)h=0<h?a.splitText(h):a,a=h.splitText(b.length),l=window.document.createElement("em"),l.className=c,l.appendChild(h.cloneNode()),g.replaceChild(l,h)}})}};var QH=function(){Hw.call(this,{use:["autoload","dataPagingSource"]})};
var RH=function(){z.S.call(this);this.Zg="roundtable";this.tp=z.kj.roundtable};var SH=function(a){var b=new dA({bw:"content",SI:"script.content"});a.L(b);b.w(a.m());a.v().g(a,["expand","collapse"],function(a){a.target===this&&b.Ua("expand"===a.type,!0)}).g(b,["expand","collapse"],function(a){this.Ua("expand"===a.type)})};
var TH=function(){var a=(0,window.$)(".roundtable-profile"),b=(0,window.$)(".share",a),c=b.data("token");if(b.length){var d=window.location.protocol+"//"+window.location.host+"/roundtable/"+c;wz(b.get(0),"roundtable",c,d)}(0,window.$)(".follow",a).click(z.nm(function(){var b=this;(0,z.cu)(b,"roundtable",function(c){(0,window.$)(".label",b).text(c?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8");var d=(0,window.$)(".followers .count",a);c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text(c).data("count",
c))},["button-success","button-cancel"])}))};var UH=function(){z.S.call(this);this.qA=z.kj.searchKeyword};var VH=function(){var a=(0,window.$)("#js-search-question-form");a.length&&a.submit(function(b){b.preventDefault();b=z.Dp.U();b.show();z.Ep(b,(0,window.$)(".title-input",a).val())})};
var WH=function(a){var b=(0,window.encodeURIComponent)(a.qA);(0,window.$)("ul.list[data-paging]").on("click",".item a[href!\x3d#]",function(a){a=a.currentTarget;a.host&&(a=(0,window.$)(a).closest(".item").index()+1,z.bk.set("s-q",b),z.bk.set("s-i",a),z.bk.set("sid",(0,z.ut)()))})};
var XH=function(a){function b(a,b){var f=(0,window.$)(a);window.$.each(b(),function(a,b){f.on("click",a,function(a){d.apply(null,c(b,a))})})}function c(a,b){return f(a,function(a){return z.ia(a)?a(b):a})}var d=z.pa(z.W,"search"),f=z.y.map;b(".related-topics",function(){return{"a.avatar-link":["visit_topic","search_result_card_topic_avatar"],"a.name-link":["visit_topic","search_result_card_topic"],"a[href$\x3dquestions]":["visit_topic_questions","search_result_card_topic"],"a[href$\x3dtop-answers]":["visit_topic_topanswers",
"search_result_card_topic"],"a[href$\x3dfollowers]":["visit_topic_followers","search_result_card_topic"],"button.zg-btn-follow":["click_follow_topic","search_result_card_topic"],"button.zg-btn-unfollow":["click_unfollow_topic","search_result_card_topic"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_topic"]}});b(".related-users",function(){return{"a.avatar-link":["visit_people_profile","search_result_card_people_avatar"],"a.name-link":["visit_people_profile","search_result_card_people"],
"a[href$\x3danswers]":["visit_people_answers","search_result_card_people"],"a[href$\x3dfollowers]":["visit_people_followers","search_result_card_people"],"a[href$\x3dposts]":["visit_people_posts","search_result_card_people"],"button.zg-btn-follow":["click_follow_people","search_result_card_people"],"button.zg-btn-unfollow":["click_unfollow_people","search_result_card_people"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_people"]}});b(window.document.body,function(){var a=
z.pa(z.xa,"search_result_%s_more_button");return{"ul.list.questions + .zu-button-more":["click_search_result_more",a("all")],"ul.list.users + .zu-button-more":["click_search_result_more",a("user")],"ul.list.topics + .zu-button-more":["click_search_result_more",a("topic")]}});b(".search-tabs",function(){var a=z.pa(z.xa,"search_result_tab_%s");return{'a[href^\x3d"/search?type\x3dquestion"]':["click_search_result_tab",a("all")],'a[href^\x3d"/search?type\x3dpeople"]':["click_search_result_tab",a("user")],
'a[href^\x3d"/search?type\x3dtopic"]':["click_search_result_tab",a("topic")]}});b(".range-selector",function(){var a=z.pa(z.xa,"search_result_range_%s");return{'a[href*\x3d"range\x3d1d"]':["click_search_result_range",a("1d")],'a[href*\x3d"range\x3d1w"]':["click_search_result_range",a("1w")],'a[href*\x3d"range\x3d3m"]':["click_search_result_range",a("3m")]}});b("ul.list.questions",function(){function a(){return function(a){return"search_result_all_list_"+((0,window.$)(a.target).closest(".item").index()+
1)+""}}return{"a.question-link":["visit_question",a()],".js-expand, .summary":["click_expand",a()],'a[name\x3d"collapse"]':["click_collapse_answer",a()],"a.zg-follow":["click_follow_question",a()],"a.zg-unfollow":["click_unfollow_question",a()]}});b("ul.list.users",function(){function a(b){return function(a){return"search_result_user_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_people_profile",a("_avatar")],"a.name-link":["visit_people_profile",
a()],"a[href$\x3danswers]":["visit_people_answers",a()],"a[href$\x3dfollowers]":["visit_people_followers",a()],"a[href$\x3dposts]":["visit_people_posts",a()],"button.zg-btn-follow":["click_follow_people",a()],"button.zg-btn-unfollow":["click_unfollow_people",a()]}});b("ul.list.topics",function(){function a(b){return function(a){return"search_result_topic_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_topic",a("_avatar")],"a.name-link":["visit_topic",
a()],"a[href$\x3dquestions]":["visit_topic_questions",a()],"a[href$\x3dfollowers]":["visit_topic_followers",a()],"button.zg-btn-follow":["click_follow_topic",a()],"button.zg-btn-unfollow":["click_unfollow_topic",a()]}});a.v().g(a,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category","search").fill("label","search_result_answer")})};
var YH=function(a,b){z.H.call(this);var c=this.J={};z.A.extend(c,this.defaults,b||{});this.input=a;this.cc=c.cc;this.sh=this.dS();this.Nv=[];this.Nv.push({action:"remove",method:this.removeTag,iw:c.HS,V:"\u5220\u9664"});(0,window.setTimeout)((0,z.r)(this.ug,this))};
var $H=function(a,b){var c={qd:function(a,b,c){c.innerHTML=f(a.data)}};z.A.extend(c,b||{});var d=new z.Rl(a,c);z.G(d,"show",function(){1<d.Ha.length&&!d.Ha[0].id&&z.Bk(d)});var f=(0,z.Gp)('\x3c% if (data.avatar) { %\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3c% } %\x3e\x3c% if(data.type \x3d\x3d\x3d "search_link" || !data.id){ %\x3e\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e\x3c%\x3ddata.type \x3d\x3d\x3d "search_link"?("\u6dfb\u52a0 "+label+" \u8bdd\u9898"):label%\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"zu-autocomplete-row-name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c% if (data.alias \x26\x26 data.followers) { %\x3e\x3c% if ( data.alias ) { %\x3e\u53c8\u79f0 \x3c%\x3dalias%\x3e\x3c% } %\x3e\x3c% if ( data.alias \x26\x26 data.followers ){ %\x3e\uff0c\x3c% } %\x3e\x3c% if ( data.followers ){ %\x3e\x3c%\x3dfollowers%\x3e \u4eba\u5173\u6ce8\x3c% } %\x3e\x3c% }else{ %\x3e\x26nbsp;\x3c% } %\x3e\x3c/span\x3e');return d};
var aI=function(){this.OB=this.RB=null};
var bI=function(a){function b(){var a=window.$.grep(f.get(0).options,function(a){return a.selected});window.$.map(a,function(a){return a.value})}function c(){g=n.aN();p.val(g.join(","))}var d=(0,window.$)("#rq-settings-ui"),f=(0,window.$)("select.select",d);(0,window.$)(".topics-num",d);(0,window.$)(".actions-num",d);var g=[];a.OB=(0,window.$)("#rq-info-block");d.on("click",".beginedit-button",function(a){a.preventDefault();d.addClass("expanded-view")}).on("click",".exitedit-button",function(a){a.preventDefault();
d.removeClass("expanded-view")}).on("click",".endedit-button",function(a){a.preventDefault();d.get(0).submit()});a=(0,window.$)(".topic-editor",d);var h=(0,window.$)("input.topic-input",a).get(0),l=(0,window.$)("ul.tag-list",a).get(0),n=new YH(h,{Rv:!0,cc:l}),p=(0,window.$)('input[name\x3d"topics"]',a);n.on("change",c);f.on("change",b);c();b();cI(f.get(0))};
var cI=function(a){function b(a,b){var c=z.P("li"),f=z.P("span","item-label",a);c.appendChild(f);var h=new z.Lj("",z.Uj.U());h.Eh("zm-profile-tag-btn zm-profile-tag-btn-del");h.Ya(!0);h.rc("\u79fb\u9664\u52a8\u4f5c");h.Ea(b);h.addEventListener("action",function(){var a=h.W();g(a,!1);z.Q(c);l.Pt(!0);d()});h.ea(c);p.appendChild(c)}function c(){n.F(l.tl()!==f().length)}function d(){z.y.forEach(h,function(a){a.selected||(a=new KD(a.text,a.value),l.Ga(a))});c()}function f(){return z.y.filter(l.Fb(),function(a){return!!(a.O&
8)})}function g(a,b){var c=z.y.find(h,function(b){return b.value===a});c&&(c.selected=b)}z.R(a,!1);var h=a.options,l=new Zw;l.on("action",function(a){a=a.target;b(a.Jg(),a.W());g(a.W(),!0);l.removeItem(a);c()});var n=new gx("\u6dfb\u52a0\u52a8\u4f5c",l);n.Eh("menu-button");n.ea(a.parentNode);n.hk=!0;ix(n);var p=z.P("ul","display-list");d();(function(){z.y.forEach(h,function(a){a.selected&&b(a.text,a.value)})})();a.parentNode.insertBefore(p,n.m())};
var dI=function(a){function b(){var b=f.text()||0;0<b&&f.text(b-1);eI(a)}var c=(0,window.$)("#rq3-item-list"),d={fU:function(a){return window.$.post("/watch/thank",{id:a,rq_type:"thank"})},xS:function(a){return window.$.post("/watch/seen",{id:a,rq_type:"seen"})}};c.on("click",".read-button",function(){var a=(0,window.$)(this).closest(".rq-item"),c=a.data("id");d.xS(c);b();a.slideUp(function(){a.remove()})}).on("click",".thank-button",function(a){a.preventDefault();a=(0,window.$)(this);var b=a.closest(".rq-item").data("id");
a.hasClass("thanked")||(d.fU(b),a.addClass("thanked").text("\u5df2\u611f\u8c22"))});IB(c);c=new zx(c.get(0),window.location.href,!0);c.EH=function(a){return a.getAttribute("data-id")};c.xi("rq-item");c.init();var c=(0,window.$)("#rq3-sidenav-link"),f=(0,window.$)(".zg-num",c);a.RB=f};var eI=function(a){var b=a.OB,c=Number(a.RB.text());(0,window.setTimeout)(function(){b.toggleClass("hidden",!!c)},210)};var fI=function(){z.S.call(this)};var gI=function(){z.S.call(this)};var hI=function(){z.S.call(this)};
var iI=function(){};var jI=function(){z.S.call(this);this.Zg="explore";this.IM="explore_feed"};
var kI=function(a){var b=(0,window.$)("#js-explore-tab");if(b.length){var c=(0,window.$)(".tab-panel",b),d=(0,window.$)(".tab-nav",b),f=null;d.children().click(function(){f=z.Ge(window.document)});b=function(){var b={"daily-hot":0,"monthly-hot":1}[window.location.hash.slice(1)]||0;d.removeClass("active").eq(b).addClass("active");b=c.hide().eq(b).show().children("[data-type]");if(!b.data("inited")){b.data("inited",!0);var h={daily:OC,monthly:QC}[b.data("type")],h=new lI(h);h.use("expandLimit");a.L(h);
h.w(b[0])}f&&window.scrollTo(f.x,f.y)};a.v().g(window,"hashchange",b);b()}};var mI=function(a){var b=(0,window.$)("#zh-recommend-list-full\x3e.zh-general-list")[0];if(b){var c=new Mw;c.use("nodeSource");Iw(c,function(a){var b=iA(a);b&&(c.L(b),b.w(a))});a.L(c);c.w(b)}};var lI=function(a){Hw.call(this,{source:nI(a),use:["autoload"]})};var nI=function(a){return function(){return a((0,window.$)(this.Fb()).last().data("offset")).then(function(a){return{results:a}})}};var oI=function(){z.S.call(this)};
var pI=function(){var a=0;return function(){return window.$.get("",{start:a+20,limit:20}).then(function(b){if(!b.r)return b=b.msg,b.hasmore&&(a+=20),{results:b.htmls,next:Boolean(b.hasmore)}})}};var qI=function(a){this.Yt=a;a.activityUrl="";rI(this)};
var rI=function(a){function b(a,b){var c;c=c||"slug";return{source:a,filter:function(a){return a.filter(function(a){return b.every(function(b){return b[c]!==a[c]})})},select:function(a){b.push(a);return""}}}a=a.Yt;var c=a.roundtable;a.topicsSuggestOpitons=b("/r/ac/topics",c.topics);a.organizationsSuggestOpitons=b("/r/ac/topics",c.organizations);a.presentersSuggestOpitons=b("/r/ac/users",c.presenters);a.guestsSuggestOpitons=b("/r/ac/users",c.guests)};
var sI=function(a,b){var c={Id:5,className:"ui-suggest",gg:"row",pE:200};z.A.extend(c,b||{});var d=c.ea;d&&(c.qd=z.m,c.ea=function(a,b){!1!==d.apply(this,arguments)&&(a.hg=z.Ce(a.gg,b))});z.Rl.call(this,a,c);var f=this.N;f.className=c.className;f.gg=c.gg;f.No=c.pE};
var tI=function(a,b){return function(c,d,f){(0,window.$)(d).datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"});b(function(){(0,window.$)(d).datetimepicker("update",new Date(a(f.ngModel)(c)))})}};
var uI=function(){return{scope:{id:"@id",avatar:"\x3davatar"},link:function(a,b){var c=new aB(4,a.id,"xl");c.w(b);c.addEventListener("success",function(){a.$apply(function(){var b=c.getData(),f=a.avatar,g=b.url.split(".").slice(-1)[0];f.id=b.id;f.url=b.url;f.template=f.template.replace(/.\w+$/,"."+g)})})}}};
var vI=function(a){return{scope:{options:"\x3dsuggestOptions"},link:function(b,c,d){var f,g;d={fT:'\x3cdiv class\x3d"row"\x3e\x3cimg class\x3d"avatar" src\x3d"[[avatar | avatarUrl]]"\x3e\x3cspan class\x3d"name"\x3e[[name]]\x3c/span\x3e\x3c/div\x3e',pE:100,source:d.source,fh:c.parent()[0],ea:function(a,b,c){b.innerHTML=c.map(function(a){return g(a.data)}).join("")}};g=a(d.fT);window.angular.extend(d,b.options);d.select&&(d.select=function(a){return function(c){return b.$apply(function(){return a(c)})}}(d.select));
f=new sI(c[0],d);return b.$on("destroy",function(){return f.H()})}}};var wI=function(){return function(a,b){return"string"===typeof a?a:a.template.replace("{id}",a.id).replace("{size}",b||"xs")}};var xI=function(a){a.startSymbol("[[").endSymbol("]]")};var yI=function(){RH.call(this);this.tp=z.kj.roundtable};
var zI=function(a){var b=a.tp;(0,window.$)(".feeds.pending-questions").on("click",".add",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"approve_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")})}).on("click",".remove",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,
{action:"ignore_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var AI=function(a){var b=a.tp;(0,window.$)(".feeds.pending-activities").on("click",".remove",function(){var a=(0,window.$)(this).data(),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"remove_pending_activity",type:a.type,url_token:a.token}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};var BI=function(){z.S.call(this)};var CI=function(){z.S.call(this)};
var DI=function(a){a.Su&&a.Su.hide();a.Su=(0,window.$)(a.UB[a.rr]).show();(0,window.$)(".question-progress").html(a.rr+1+"/"+a.Zz);a.rr++};
var EI=function(a,b){a.FB.hide();a.Mp.show();b?((0,window.$)(".success-view-back-btn",a.Mp).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Mp).css("display","inline-block")):((0,window.$)(".success-view-back-btn",a.Mp).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Mp).hide());a.Jp===a.EE&&(0,window.$)(".success-describe",a.K).html("\u4f60\u7684\u53cb\u5584\u5ea6\u5df2\u7ecf\u662f\u6700\u9ad8\u503c");var c=(0,window.$)(".blue-stars",a.K).css("width","0"),d=a.Jp;(0,window.setTimeout)(function(){c.animate({width:20*
d+"%"},1E3)},200)};var FI=function(a,b,c){var d=(0,window.$)(".failed-view-wrong-answers",a.gl);a.FB.hide();a.gl.show();c?((0,window.$)(".failed-view-back-btn",a.gl).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.gl).css("display","inline-block")):((0,window.$)(".failed-view-back-btn",a.gl).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.gl).hide());d.html("");a.UB.each(function(){var a=(0,window.$)(this),c=a.data("id");z.y.contains(b,c)&&a.appendTo(d).show()})};z.v(Pu,z.sc);
z.up.prototype.qx=z.Z(57,function(){return this.La});z.hp.prototype.Pe=z.Z(56,function(a){this.Z.fu(a)});z.co.prototype.mc=z.Z(46,function(){return this.P.toString()});z.jo.prototype.mc=z.Z(45,function(){return this.P.text});z.wo.prototype.mc=z.Z(44,function(){return z.Ao(this).mc()});z.Co.prototype.mc=z.Z(43,function(){return""});z.Io.prototype.mc=z.Z(42,function(){return z.y.map(z.Un(this),function(a){return a.mc()}).join("")});z.Kq.prototype.mc=z.Z(41,function(){return z.sf(this.m())});
z.bo.prototype.rl=z.Z(36,function(){var a=this.P.getClientRects();return a.length?(a=z.y.Yc(a),new z.te(a.right,a.bottom)):null});z.wo.prototype.rl=z.Z(35,function(){return this.rf()?z.Ao(this).yl():z.Ao(this).rl()});z.bo.prototype.yl=z.Z(34,function(){var a=this.P.getClientRects();return a.length?new z.te(a[0].left,a[0].top):null});z.wo.prototype.yl=z.Z(33,function(){return this.rf()?z.Ao(this).rl():z.Ao(this).yl()});z.Sn.prototype.Ob=z.Z(19,function(){var a=this.zc();return 1==a.nodeType?a:a.parentNode});
z.sn.prototype.ox=z.Z(16,function(){return z.wt});z.Ej.prototype.xm=z.Z(15,function(a){this.ka(a)});z.ii.prototype.Bp=z.Z(12,function(a){this.cp=a});z.Ej.prototype.Bp=z.Z(11,function(a){this.cp=a});z.bi.prototype.Cy=z.Z(10,function(){return this.Ij||150>(0,z.x)()-this.Ky});z.bi.prototype.jk=z.Z(9,function(a){z.ci(this);this.Ik=a});z.Ai.prototype.jk=z.Z(8,function(a){this.Ik=a;this.va&&z.Ci(this)});z.Ih.prototype.AA=z.Z(7,function(a){this.Xx=Math.pow(a,2)});
z.Ih.prototype.Pf=z.Z(6,function(a){this.Gi=a});z.nl.prototype.Pf=z.Z(5,function(a){this.Gi=a});z.Zf.prototype.zq=z.Z(4,function(a,b,c){var d=(0,z.x)(),f=c?c:d,g=Qu(this.Jr);g.Lr=2;g.Kr=f;g.type=b;g.oD=a;a=(a=this.yW)&&a.isTracing()?a.totalVarAlloc:-1;g.$I=a;this.Zv++;if(c){c=this.Rf.length;for(a=0;a<c;a++)if(this.Rf[a].Kr>f){z.y.wo(this.Rf,g,a);break}a==c&&this.Rf.push(g)}else this.Rf.push(g);if(f=g.type)g=this.nk.get(f),g||(g=Qu(this.WA),g.type=f,this.nk.set(f,g)),g.count++;this.zu+=(0,z.x)()-d});
z.xe.prototype.fw=z.Z(3,function(a,b,c){var d=this.Ja;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var l=d.createElement("TR"),n=0;n<b;n++){var p=d.createElement("TD");c&&z.lf(p,"\u00a0");l.appendChild(p)}g.appendChild(l)}return f});z.jd.prototype.ql=z.Z(2,function(){return this.UD});z.v(z.Zu,z.S);z.e=z.Zu.prototype;z.e.Hy=null;z.e.vb=null;z.e.N=null;z.e.Hb=null;z.e.rb=!0;z.e.kc=!0;z.e.dx=!0;z.e.Ra=-1;z.e.qc=null;z.e.vf=!1;z.e.EK=!1;z.e.OR=!0;
z.e.xg=null;z.e.dc=function(){return this.Hy||this.N.dc(this)};z.e.Ur=function(){return this.vb||(this.vb=new z.tj(this.dc()))};z.e.B=function(){this.h=this.N.B(this)};z.e.aa=function(){return this.N.aa(this.m())};z.e.bc=function(a){return this.N.bc(a)};z.e.ga=function(a){this.h=this.N.w(this,a);"none"==a.style.display&&(this.rb=!1)};
z.e.D=function(){z.Zu.o.D.call(this);z.$h(this,function(a){a.va&&Lu(this,a)},this);var a=this.m();this.N.Ge(this);this.F(this.rb,!0);this.v().g(this,"enter",this.Jx).g(this,"highlight",this.Nx).g(this,"unhighlight",this.Ux).g(this,"open",this.bO).g(this,"close",this.Gx).g(a,"mousedown",this.de).g(z.ye(a),"mouseup",this.uN).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.nN);this.Rg()&&Mu(this,!0)};z.e.Eb=function(){this.Ib(-1);this.qc&&this.qc.Ab(!1);this.vf=!1;z.Zu.o.Eb.call(this)};
z.e.C=function(){z.Zu.o.C.call(this);this.vb&&(this.vb.H(),this.vb=null);this.N=this.qc=this.xg=this.Hy=null};z.e.Jx=function(){return!0};z.e.Nx=function(a){var b=z.Cu(this,a.target);if(-1<b&&b!=this.Ra){var c=z.Ku(this);c&&c.Bc(!1);this.Ra=b;c=z.Ku(this);this.vf&&c.setActive(!0);this.OR&&this.qc&&c!=this.qc&&(z.yj(c,64)?c.Ab(!0):this.qc.Ab(!1))}b=this.m();null!=a.target.m()&&z.Bg(b,"activedescendant",a.target.m().id)};z.e.Ux=function(a){a.target==z.Ku(this)&&(this.Ra=-1);this.m().removeAttribute("aria-activedescendant")};
z.e.bO=function(a){(a=a.target)&&a!=this.qc&&a.getParent()==this&&(this.qc&&this.qc.Ab(!1),this.qc=a)};z.e.Gx=function(a){a.target==this.qc&&(this.qc=null)};z.e.de=function(a){this.kc&&(this.vf=!0);var b=this.dc();b&&z.of(b)?b.focus():a.preventDefault()};z.e.uN=function(){this.vf=!1};
z.e.nN=function(a){var b;a:{b=a.target;if(this.xg)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.xg){b=this.xg[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.de(a);break;case "mouseup":b.pf(a);break;case "mouseover":b.md(a);break;case "mouseout":b.Cl(a);break;case "contextmenu":b.bo(a)}};z.e.Ed=function(){};z.e.Wc=function(){this.Ib(-1);this.vf=!1;this.qc&&this.qc.Ab(!1)};
z.e.ec=function(a){return this.isEnabled()&&this.T()&&(0!=z.Yh(this)||this.Hy)&&this.of(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.of=function(a){var b=z.Ku(this);if(b&&"function"==typeof b.ec&&b.ec(a)||this.qc&&this.qc!=b&&"function"==typeof this.qc.ec&&this.qc.ec(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Rg())this.dc().blur();else return!1;break;case 36:z.Ju(this);break;case 35:Iu(this);break;case 38:if(this.Hb==z.wt)Gu(this);else return!1;break;case 37:if(this.Hb==z.vt)this.Gd()?Hu(this):Gu(this);else return!1;break;case 40:if(this.Hb==z.wt)Hu(this);else return!1;
break;case 39:if(this.Hb==z.vt)this.Gd()?Gu(this):Hu(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.Zu.o.L.call(this,a,b)};z.e.Dk=function(a,b,c){a.qh|=2;a.qh|=64;!this.Rg()&&this.EK||a.Rb(32,!1);a.zp(!1);var d=a.getParent()==this?z.Cu(this,a):-1;z.Zu.o.Dk.call(this,a,b,c);a.va&&this.va&&Lu(this,a);a=d;-1==a&&(a=z.Yh(this));a==this.Ra?this.Ra=Math.min(z.Yh(this)-1,b):a>this.Ra&&b<=this.Ra?this.Ra++:a<this.Ra&&b>this.Ra&&this.Ra--};
z.e.removeChild=function(a,b){if(a=z.q(a)?z.Xh(this,a):a){var c=z.Cu(this,a);-1!=c&&(c==this.Ra?(a.Bc(!1),this.Ra=-1):c<this.Ra&&this.Ra--);(c=a.m())&&c.id&&this.xg&&z.A.remove(this.xg,c.id)}a=z.Zu.o.removeChild.call(this,a,b);a.zp(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Hb=a};z.e.T=function(){return this.rb};
z.e.F=function(a,b){if(b||this.rb!=a&&this.dispatchEvent(a?"show":"hide")){this.rb=a;var c=this.m();c&&(z.R(c,a),this.Rg()&&Nu(this.dc(),this.kc&&this.rb),b||this.dispatchEvent(this.rb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.kc};
z.e.Ya=function(a){this.kc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.kc=!0,z.$h(this,function(a){a.CJ?delete a.CJ:a.Ya(!0)})):(z.$h(this,function(a){a.isEnabled()?a.Ya(!1):a.CJ=!0}),this.vf=this.kc=!1),this.Rg()&&Nu(this.dc(),a&&this.rb))};z.e.Rg=function(){return this.dx};z.e.Re=function(a){a!=this.dx&&this.va&&Mu(this,a);this.dx=a;this.kc&&this.rb&&Nu(this.dc(),a)};z.e.Ib=function(a){(a=z.Zh(this,a))?a.Bc(!0):-1<this.Ra&&z.Ku(this).Bc(!1)};z.e.Bc=function(a){this.Ib(z.Cu(this,a))};
z.e.YC=function(a){return a.T()&&a.isEnabled()&&z.yj(a,2)};z.e.zA=function(a){this.Ib(a)};var hv={};gv.prototype.Ml=!0;gv.prototype.pj=function(){return this.aB};gv.prototype.toString=function(){return"Const{"+this.aB+"}"};z.v(z.jv,z.nd);z.jv.prototype.next=function(){var a=this.XG;if(!a)throw z.I.bb;this.XG=this.aT?a.previousSibling:a.nextSibling;return a};var pv={},rv={},zw=/^[-,."'%_!# a-zA-Z0-9]+$/;z.v(nv,z.jv);ov.prototype.Ml=!0;ov.prototype.pj=function(){return this.NH};ov.prototype.fy=!0;
ov.prototype.ql=function(){return 1};qv.prototype.Ml=!0;qv.prototype.pj=function(){return this.jm};qv.prototype.fy=!0;qv.prototype.ql=function(){return 1};var Rv=/^#(?:[0-9a-f]{3}){1,2}$/i;z.v(tv,z.sc);Av.defaults={paddingTop:0};var Pv=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Sv=/#(.)(.)(.)/,yw=/^[a-zA-Z0-9-]+$/;z.v(Fv,z.Gn);z.e=Fv.prototype;z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))Fv.o.w.call(this,a),this.Le(!0),z.R(this.tE,!1)};
z.e.Pg=function(a){var b;this.Dy&&(b="/topic/autocomplete?no_create\x3dtrue");Fv.o.Pg.call(this,a,b);this.X.nd.sE=!1};z.e.sm=function(){return(0,z.r)(function(a,b){return z.y.filter(a,function(a){return 3>=a.length?!1:z.y.every(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"\u5df2\u5728\u73b0\u6709\u5217\u8868\u4e2d',!0):!1:!0})},this)},this)};
z.e.Ye=function(a,b){this.Vg||(this.Vg=!0,this.xhr=new z.V(!0),this.v().wa(this.xhr,"complete",this.ov),a||(a=-1),this.Dy?this.xhr.ajax("/topic/add","tid\x3d"+this.Cf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.Cf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.DE=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.bp=function(a){if(!this.fa||!this.fa.Ub()){var b=new z.V(!0);this.v().g(b,"success",function(){var c=z.fe(b);c.r?z.U(c.msg):(z.Jn(this),this.Qe(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.Dy?b.ajax(this.bI,"cid\x3d"+this.Cf+"\x26pid\x3d"+a):b.ajax(this.bI,"pid\x3d"+this.Cf+"\x26cid\x3d"+a);this.fa=b}};z.v(Gv,z.H);z.e=Gv.prototype;z.e.BF=0;z.e.AA=function(a){this.BF=a};
z.e.init=function(){if(!this.YF){for(var a=0,b=this.Rc.length;a<b;a++)for(var c=z.Ze(this.Rc[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,l=z.ka(h);this.zw[l]=g;this.dE&&(this.S.g(g,"mouseover",this.BN),this.S.g(g,"mouseout",this.AN));this.cE&&(this.S.g(h,"mouseover",this.zN),this.S.g(h,"mouseout",this.yN));this.bl.push(g);this.S.g(h,["mousedown","touchstart"],this.eO)}this.YF=!0}};
z.e.C=function(){this.S.H();for(var a=0,b=this.Rc.length;a<b;a++){var c=this.Rc[a];c.aE=void 0;c.Xi=void 0}this.Rc.length=0;this.bl.length=0;this.zw=null;Jv(this);Gv.o.C.call(this)};
z.e.eO=function(a){var b=z.ka(a.currentTarget);this.Za=this.zw[b];a:{for(var b=this.Za,c=b.cloneNode(!0),d=b.getElementsByTagName("TEXTAREA"),f=c.getElementsByTagName("TEXTAREA"),g=0;g<d.length;g++)f[g].value=d[g].value;switch(b.tagName){case "TR":b=z.P("TABLE",null,z.P("TBODY",null,c));break a;case "TD":case "TH":b=z.P("TABLE",null,z.P("TBODY",null,z.P("TR",null,c)));break a;case "TEXTAREA":c.value=b.value;default:b=c}}this.Gc=b;this.Er&&z.Kg(this.Gc,this.Er||[]);this.Gc.style.margin="0";this.Gc.style.position=
"absolute";this.Gc.style.visibility="hidden";z.ye(this.Za).body.appendChild(this.Gc);b=z.jh(this.Za);Bv(this.Gc,b);this.Lb=new z.Ih(this.Gc);this.Lb.AA(this.BF);z.G(this.Lb,"start",this.Ix,!1,this);z.G(this.Lb,"end",this.wN,!1,this);z.G(this.Lb,"earlycancel",this.Tv,!1,this);this.Lb.Jm(a)};
z.e.Ix=function(a){if(this.dispatchEvent(new tv("beforedragstart",0,a.UC,0,0,null))){this.xt=this.Za.parentNode;this.DD=this.Hz=Cv(this.Za);this.kw=this.xt;this.jw?z.Kg(this.Za,this.jw||[]):this.Za.style.visibility="hidden";var b=z.rh(this.Gc);this.Gc.fN=b.width/2;this.Gc.eN=b.height/2;this.Gc.style.visibility="";this.vB&&(this.Za.style.display="none");Iv(this,this.Za);this.Za.style.display="";z.G(this.Lb,"drag",this.CN,!1,this);this.dispatchEvent(new tv("dragstart",0,a.UC,0,0,this.Lb))}else a.preventDefault(),
this.Tv()};
z.e.CN=function(a){var b=z.jh(this.Gc),b=new z.te(b.x+this.Gc.fN,b.y+this.Gc.eN),c;a:{c=null;if("none"!=this.Za.style.display){c=this.Za.parentNode;var d=z.th(c);if(Kv(b,d))break a}for(var d=0,f=this.Rc.length;d<f;d++){var g=this.Rc[d];if(g!=c&&Kv(b,g.al)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var l,n,d=!1,f=void 0;switch(c.aE){case 0:h=b.y;l=yv;n=vv;break;case 4:d=!0;case 2:h=b.x;l=xv;n=vv;break;case 5:d=!0;case 3:h=b.x,l=wv,n=uv}for(var g=
null,p,w=z.Ze(c),F=0,J=w.length;F<J;F++){var K=w[F];if(K!=this.Za){var O=l(K.al);if(d){var da=zv(K,b);z.ba(f)||(f=da);n(h,O)&&(void 0==p||da<f||da==f&&(n(O,p)||O==p))&&(g=K,p=O);da<f&&(f=da)}else n(h,O)&&(void 0==p||n(O,p))&&(g=K,p=O)}}h=null!==g&&zv(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new tv("beforedragmove",0,a,0,0,this.Lb)))return!1;if(c)this.vB?this.Za.parentNode==c&&Cv(this.Za)==h||c.insertBefore(this.Za,h):h&&(this.DD=h),this.Za.style.display="",c.Xi&&z.Jg(c,c.Xi);else for(this.pP||
(this.Za.style.display="none"),h=0,l=this.Rc.length;h<l;h++)n=this.Rc[h],n.Xi&&z.Lg(n,n.Xi);c!=this.kw&&(this.kw=c,Iv(this,this.Za));this.dispatchEvent(new tv("dragmove",0,a,0,0,this.Lb));return!1};z.e.Tv=function(){Jv(this);this.Lb=this.Gc=this.Hz=this.xt=this.kw=this.Za=null;for(var a=0,b=this.Rc.length;a<b;a++)this.Rc[a].al=null;a=0;for(b=this.bl.length;a<b;a++)this.bl[a].al=null};
z.e.wN=function(a){if(!this.dispatchEvent(new tv("beforedragend",0,a,0,0,this.Lb)))return!1;this.vB||this.xt.insertBefore(this.Za,this.DD);Jv(this);this.dispatchEvent(new tv("dragend",0,a,0,0,this.Lb));this.Tv();return!0};z.e.BN=function(a){z.Kg(a.currentTarget,this.dE||[])};z.e.AN=function(a){z.Mg(a.currentTarget,this.dE||[])};z.e.zN=function(a){z.Kg(a.currentTarget,this.cE||[])};z.e.yN=function(a){z.Mg(a.currentTarget,this.cE||[])};
var rw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},GI=/[^\d]+$/;z.v(Yv,z.Gn);z.e=Yv.prototype;
z.e.w=function(a){this.h=a;this.kg=z.N("zm-tag-editor-labels",this.h);this.Le(!0);this.we();this.ic();this.Sf=z.M("zh-expert-topics");this.$m=z.M("zh-active-topics");Zv(this);$v(this);this.data=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get();this.rm()};
z.e.Mn=function(){this.Sc||(this.Sc=z.P("div","zm-tag-editor-editor",[this.ff=z.P("div","zg-section zm-tag-editor-command-buttons-wrap",[this.qb=z.M("profile-expert-edit-input")])]),this.He&&(this.Jy=new z.wn(this.He),this.Jy.w(this.qb),this.qb.title=this.He),z.Ve(this.Sc,this.kg),this.Pg(this.ff))};
z.e.Pg=function(a){this.X=new z.Fn("/topic/autocomplete",this.qb,null,null,a,!0);this.X.jg(!0);this.X.Vl=this.Id;this.X.Cp(this.sm());Yu(this.X,[this.He]);this.v().g(this.X,"select",this.So);this.v().g(this.X,"suggestionsupdate",this.nv);this.v().g(this.X,"suggestionsupdate",this.kv);this.v().g(this.X,z.Ak,function(){(0,window.$)(this.X.N.h).hide()})};
z.e.kv=function(){if(0===this.X.Ha.length){var a=z.P("div",{className:"zu-autocomplete-empty"},"\u6ca1\u6709\u540d\u5b57\u4e3a "+(0,window.$)(this.qb).val()+" \u7684\u8bdd\u9898");(0,window.$)(this.X.N.h).html(a).show()}};z.e.So=function(){var a=this.X.mj().slice(1);a&&3<a.length&&(this.JD=a,this.Ye(a))};
z.e.Ye=function(a){this.data.push(a[1]);var b=(0,window.$)(this.Sf).find("[data-url-token\x3d'"+a[1]+"']")[0];b?z.Wm(b):(Nv("TopicMediumV2",{member_url_token:z.Y[1],topic_url_token:a[1]},this.nr,this),(0,window.$)(this.$m).find("[data-url-token\x3d'"+a[1]+"']").remove(),this.dispatchEvent("add"))};z.e.nr=function(a){a=(0,window.$)(a)[0];z.We(this.Sf,a,0);z.Wm(a);this.Rk()};z.e.Qe=function(){};
z.e.rm=function(){if(!z.Zr.ob){var a=this;this.Nf&&this.Nf.H();var b=new Gv;b.Er=(0,z.Ya)("expert-item-moving").split(" ");Hv(b,this.Sf,4);b.init();this.Nf=b;this.v().g(this.Nf,"dragend",function(){this.dispatchEvent("sort")});(0,window.$)("a, input, .del, .add",this.Sf).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})});this.v().g(this.Nf,"beforedragstart",function(){return z.N("editing",this.Sf)?!1:!0})}};
z.e.Rk=function(){var a=(0,window.$)(this.Sf).children().length;6<a&&z.Q((0,window.$)(this.Sf).children()[6]);z.R(z.M("zh-profile-expert-empty"),0>=a);0<a&&z.R(z.M("zh-profile-expert-warning"),!1);a=(0,window.$)(this.$m).children().length;z.R(z.M("active-topics-wrap"),a);this.rm()};z.e.sm=function(){return(0,z.r)(function(a){return z.y.filter(a,function(a){return z.y.every(this.data,function(c){return c+""!==a[2]+""&&3<a.length})},this)},this)};z.v(aw,Fv);
aw.prototype.Ye=function(a){this.Vg||(this.Vg=!0,this.xhr=new z.V(!0),this.v().wa(this.xhr,"complete",this.ov),this.xhr.ajax(this.RC,"tid\x3d"+a+"\x26method\x3dadd"))};aw.prototype.bp=function(a){this.Vg||(this.Vg=!0,this.xhr=new z.V(!0),this.v().g(this.xhr,"complete",function(){z.Jn(this);this.Qe();this.Vg=!1}),this.xhr.ajax(this.RC,"tid\x3d"+a+"\x26method\x3ddel"))};z.v(bw,z.Gn);z.e=bw.prototype;z.e.w=function(a){this.h=a;this.kg=z.N("zm-tag-editor-labels",this.h);this.Le(!0);this.we();this.ic()};
z.e.Mn=function(){this.Sc||(this.Sc=z.P("div","zm-tag-editor-editor",[this.Ln=z.P("div","zg-section zg-clear"),this.ff=z.P("div","zg-section zm-tag-editor-command-buttons-wrap",[this.qb=z.M("zh-topic-merge-input"),z.P("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"\u6dfb\u52a0"),this.tE=z.M("zh-topic-merge-btn")])]),z.Ve(this.Sc,this.kg),this.Pg(this.ff))};
z.e.Pg=function(a){this.X=new z.Fn("/topic/autocomplete",this.qb,null,null,a,!0);this.X.jg(!0);this.X.Vl=this.Id;this.X.Cp(this.sm());this.X.Nw=[this.He];this.v().g(this.X,"select",this.So);this.v().g(this.X,"suggestionsupdate",this.nv)};z.e.sm=function(){return(0,z.r)(function(a){return z.y.filter(a,function(a){return z.y.every(this.data,function(c){return c[1]!==a[1]&&3<a.length})},this)},this)};z.e.So=function(){var a=this.X.mj().slice(1);a&&3<a.length&&(this.JD=a,this.Ye(a[3],a[0]))};
z.e.Ye=function(a,b){var c=this;(0,window.setTimeout)(function(){c.qb.value=b})};z.e.Qe=function(){};
var Yz={TE:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},GB:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.Ki("\u63d0\u793a\u4fe1\u606f","\x3cp\x3e"+a.msg+'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24752645" target\x3d"_blank"\x3e\u4e3a\u4ec0\u4e48\u56de\u7b54\u4f1a\u88ab\u5efa\u8bae\u4fee\u6539\uff1f\x3c/a\x3e\x3c/p\x3e')})},xA:function(a,b){return window.$.post("/node/AnswerMetaV2",
{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.v(nw,z.ql);nw.prototype.wh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.v(ow,z.ql);ow.prototype.wh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.v(pw,z.ql);pw.prototype.wh=function(){var a=this.Gi&&this.Gd()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.v(Dw,z.H);var Fw={};
Dw.prototype.defaults={};Dw.prototype.v=function(){return this.Lg||(this.Lg=new z.dd(this))};Dw.prototype.init=function(){};Dw.prototype.C=function(){Dw.o.C.call(this);this.view&&(z.A.remove(this.view.Kd,this.name),this.view=null);this.Lg&&(this.Lg.H(),this.Lg=null)};z.v(Hw,z.S);z.e=Hw.prototype;z.e.defaults={source:null,use:["autoload","shortcut"],nh:!0,pn:"zg-btn-white zu-button-more"};z.e.use=function(a,b){var c=Gw(a,b);c.view=this;this.va?c.init(this):this.v().g(this,"initialized",function(){c.init(this)});this.Kd[a]=c;return this};z.e.Ui=function(){!this.Rd&&this.J.nh&&(this.Rd=this.Wq(),z.Ve(this.Rd,this.h),this.v().g(this.Rd,"click",this.Ul))};
z.e.D=function(){Hw.o.D.call(this);this.Ui();z.y.forEach(this.Fb(),this.nr,this);z.y.forEach(this.J.use,this.use,this);this.dispatchEvent("initialized")};z.e.C=function(){z.A.forEach(this.Kd,function(a){a.H()});this.Kd=null;Hw.o.C.call(this)};z.e.Fb=function(){return z.Ze(this.h)};z.e.nr=function(a,b){this.Zj(a,b);this.dispatchEvent({type:"itemcreated",item:a,index:b})};z.e.Zj=z.m;z.e.aR=function(a){if(a){var b=a.results,c=!b||!b.length;c||this.ea(b);this.dispatchEvent("next");(c||!1===a.next)&&Jw(this)}};
z.e.ea=function(a,b){a=window.$.isArray(a)?a.join(""):a;var c=z.Ne(a+" ");z.y.forEach(window.$.makeArray(z.Ze(c)),this.nr,this);z.We(this.h,c,b)};z.e.Ul=function(){if(!1!==this.dispatchEvent("beforeloadnext")&&"pending"!==this.promise.state())return this.LA(!0),this.promise=this.source().done((0,z.r)(this.aR,this)).always((0,z.r)(z.pa(this.LA,!1),this))};z.e.Dd=function(){return this.Rd};z.e.Wq=function(){return z.P("a",{"aria-role":"button","class":this.J.pn},"\u66f4\u591a")};
z.e.LA=function(a){this.Rd&&(this.Rd.innerHTML=a?'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e \u52a0\u8f7d\u4e2d':"\u66f4\u591a",z.T.enable(this.Rd,"loading",a))};var Lw={s:function(a,b,c){return(0,window.isNaN)(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,f){d=a.toString();(0,window.isNaN)(f)||""==f||(d=(0,window.parseFloat)(a).toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if((0,window.isNaN)(c)||d.length>=c)return d;d=(0,window.isNaN)(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+
d+Array(a+1).join(" "):(b=0<=b.indexOf("0",0)?"0":" ",d=g+Array(a+1).join(b)+d);return d},d:function(a,b,c,d,f,g,h,l){return Lw.f((0,window.parseInt)(a,10),b,c,d,0,g,h,l)}};Lw.i=Lw.d;Lw.u=Lw.d;Ew("activeSource",{defaults:{mL:"%d \u6761\u65b0\u52a8\u6001",pn:"zu-main-feed-fresh-button",fX:z.m},init:function(a){this.data=[];this.button=this.Wq();z.Ue(this.button,a.m());this.v().g(this.button,"click",function(){a.ea(this.data,0);this.setData([])});var b=this,c=this.options.source(function(a){a&&a.length&&b.setData(a.concat(b.data))},function(){return b.data});if(!c||!z.ia(c.H))throw Error("Source must return a disposable object.");this.sM=c},setData:function(a){this.data=a;this.MQ()},MQ:function(){var a=
this.data.length;z.lf(this.button,Kw(this.options.mL,a));z.R(this.button,!!a)},Wq:function(){return z.P("a",{href:"javascript:;",style:"display:none","class":this.options.pn})},H:function(){Dw.prototype.H.call(this);z.ic(this.sM);this.options=null;this.button&&(z.Q(this.button),this.button=null)}});Ew("autoload",{defaults:{GC:!0,viewport:window,cX:function(){return!0}},init:function(a){if(a.Dd()&&(!this.options.GC||z.Y.ya())){var b=this.options.viewport,c=new z.hj(b);z.gc(this,c);dv(c,this,function(c){return z.vh(a.Dd())?400>=(z.ef(b)?a.Dd().getBoundingClientRect().top-c.height:b.scrollHeight-b.scrollTop-c.height):!1});this.v().g(a,"complete",this.H).g(a,"next",function(){this.enable()});this.enable()}},enable:function(){this.v().wa(this,"nearbottom",function(){this.view.Ul()})}});Ew("childConstructor",{defaults:{Vk:null,factory:null},init:function(a){z.ia(this.options.Vk)&&Iw(a,this.RL,this);z.ia(this.options.factory)&&Iw(a,this.tS,this)},RL:function(a){var b=new this.options.Vk;this.view.L(b);b.w(a)},tS:function(a){var b=this.options.factory(a);this.view.L(b);b.w(a)}});Ew("dataPagingSource",{defaults:{dD:!0},init:function(a){var b=(0,window.$)(a.m()).data("paging").next;b||Jw(a);a.source=function(){return window.$.get(b).then(function(a){b=a.paging.next;return{results:a.htmls,next:!!b}})}}});Ew("expandLimit",{defaults:{lX:3},init:function(a){z.Y.ya()||this.v().g(a,"beforeloadnext",function(){(new z.lm).F(!0);return!1})}});Ew("locationSource",{defaults:{Sl:20,param:null,At:!1,offset:function(a){return a.length}},init:function(a){function b(a){return{start:c.At?z.y.Yc(a).id.split("-")[1]:0,offset:c.offset(a)}}var c=this.options,d=c.url||window.location.href,f=a.Fb().length;(!f||f<c.Sl)&&Jw(a);a.source=function(){return window.$.post(d,(c.param||b)(a.Fb())).then(function(b){if(!b.r){b=b.msg;var d=b[0];z.ha(d)&&d<c.Sl&&Jw(a);return{results:b[1]}}})}}});Ew("nodeSource",{defaults:{dD:!0},init:function(a){var b=(0,window.$)(a.m()).data("init"),c="/node/"+b.nodename,d=b.params,f=d.offset||0,b=d.limit,g=d.pagesize;this.options.dD&&b&&a.Fb().length<b&&Jw(a);a.source=function(){return window.$.post(c,{method:"next",params:window.$.extend(d,{offset:f+a.Fb().length})}).then(function(a){var b=!0;g&&!a.r&&a.msg.length<g&&(b=!1);return!a.r&&{results:a.msg,next:b}})}}});Ew("shortcut",{defaults:{items:"\x3ediv"},init:function(a){a.Fb().length&&(this.Qo=new z.wq(this.options),this.Qo.w(a.m()),this.v().g(this.Qo,"action",function(b){b.data.index>=b.data.size&&a.Dd()&&z.vh(a.Dd())&&a.Dd().click()}))},H:function(){Dw.prototype.H.call(this);this.Qo&&(this.Qo.H(),this.Qo=null)}});z.v(Mw,Hw);z.v(Nw,z.vj);z.ca(Nw);Nw.prototype.R=function(){return"goog-menuheader"};z.v(Ow,z.Ej);z.Cj("goog-menuheader",function(){return new Ow(null)});z.v(Pw,z.vj);z.ca(Pw);z.e=Pw.prototype;z.e.Ae=function(){return"menuitem"};z.e.B=function(a){var b=a.M().B("DIV",this.Be(a).join(" "),Rw(this,a.fb(),a.M()));Tw(this,a,b,z.yj(a,8)||z.yj(a,16));return b};z.e.aa=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.af(b),d=Qw(this,2);c&&z.Ig(c,d)||b.appendChild(Rw(this,b.childNodes,a.M()));z.Ig(b,"goog-option")&&(a.xp(!0),this.xp(a,b,!0));return Pw.o.w.call(this,a,b)};
z.e.ka=function(a,b){var c=this.aa(a),d=Sw(this,a)?c.firstChild:null;Pw.o.ka.call(this,a,b);d&&!Sw(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.zi=function(a,b,c){a&&b&&Tw(this,a,b,c)};z.e.xp=function(a,b,c){a&&b&&Tw(this,a,b,c)};z.e.Sn=function(a){switch(a){case 2:return Qw(this,0);case 16:case 8:return"goog-option-selected";default:return Pw.o.Sn.call(this,a)}};
z.e.Wr=function(a){var b=Qw(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Pw.o.Wr.call(this,a)}};z.e.R=function(){return"goog-menuitem"};z.v(Uw,z.Ej);z.e=Uw.prototype;z.e.W=function(){var a=this.gz;return null!=a?a:this.Jg()};z.e.Ea=function(a){this.gz=a};z.e.Rb=function(a,b){Uw.o.Rb.call(this,a,b);switch(a){case 8:this.qf()&&!b&&this.Ld(!1);var c=this.m();c&&this.N.zi(this,c,b);break;case 16:(c=this.m())&&this.N.xp(this,c,b)}};z.e.zi=function(a){this.Rb(8,a)};z.e.xp=function(a){this.Rb(16,a)};
z.e.Jg=function(){var a=this.fb();return z.fa(a)?(a=z.y.map(a,function(a){return z.df(a)&&(z.Ig(a,"goog-menuitem-accel")||z.Ig(a,"goog-menuitem-mnemonic-separator"))?"":z.vf(a)}).join(""),z.Ca(a)):Uw.o.Jg.call(this)};z.e.pf=function(a){var b=this.getParent();if(b){var c=b.vH;b.vH=null;if(b=c&&z.ha(a.clientX))b=new z.te(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}Uw.o.pf.call(this,a)};z.e.of=function(a){return a.keyCode==this.fz&&this.Jd(a)?!0:Uw.o.of.call(this,a)};
z.e.ZM=function(){return this.fz};z.Cj("goog-menuitem",function(){return new Uw(null)});Uw.prototype.ai=function(){return z.yj(this,16)?"menuitemcheckbox":z.yj(this,8)?"menuitemradio":Uw.o.ai.call(this)};Uw.prototype.getParent=function(){return z.Ej.prototype.getParent.call(this)};Uw.prototype.xl=function(){return z.Ej.prototype.xl.call(this)};z.v(Vw,z.vj);z.ca(Vw);Vw.prototype.B=function(a){return a.M().B("DIV",this.R())};Vw.prototype.w=function(a,b){b.id&&z.Vh(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.Ue(b,c);z.Q(c)}else z.Jg(b,this.R());return b};Vw.prototype.ka=function(){};Vw.prototype.R=function(){return"goog-menuseparator"};z.v(z.Ww,z.Ej);z.Ww.prototype.D=function(){z.Ww.o.D.call(this);z.Ag(this.m(),"separator")};z.Cj("goog-menuseparator",function(){return new z.Ww});z.v(Xw,z.sn);z.ca(Xw);z.e=Xw.prototype;z.e.bc=function(a){return"UL"==a.tagName||Xw.o.bc.call(this,a)};z.e.Un=function(a){return"HR"==a.tagName?new z.Ww:Xw.o.Un.call(this,a)};z.e.If=function(a,b){return z.ff(a.m(),b)};z.e.R=function(){return"goog-menu"};z.e.Ge=function(a){Xw.o.Ge.call(this,a);z.Bg(a.m(),"haspopup","true")};z.v(Yw,z.Ww);z.Cj("goog-menuseparator",function(){return new z.Ww});z.v(Zw,z.Zu);z.e=Zw.prototype;z.e.an=!0;z.e.FK=!1;z.e.R=function(){return this.N.R()};z.e.If=function(a){if(this.N.If(this,a))return!0;for(var b=0,c=z.Yh(this);b<c;b++){var d=z.Zh(this,b);if("function"==typeof d.If&&d.If(a))return!0}return!1};z.e.Ga=function(a){this.L(a,!0)};z.e.Ni=function(a,b){this.Dk(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.Zh=function(a){return z.Zh(this,a)};z.e.tl=function(){return z.Yh(this)};
z.e.Fb=function(){var a=[];z.$h(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.T();c||z.R(this.m(),!0);Bv(this.m(),a,b);c||z.R(this.m(),!1)};z.e.F=function(a,b,c){(b=Zw.o.F.call(this,a,b))&&a&&this.va&&this.an&&this.dc().focus();this.vH=a&&c&&z.ha(c.clientX)?new z.te(c.clientX,c.clientY):null;return b};z.e.Jx=function(a){this.an&&this.dc().focus();return Zw.o.Jx.call(this,a)};z.e.YC=function(a){return(this.FK||a.isEnabled())&&a.T()&&z.yj(a,2)};
z.e.ga=function(a){var b=this.N,c;c=this.M();c=z.Be(c.Ja,"DIV",b.R()+"-content",a);for(var d=c.length,f=0;f<d;f++)z.tn(b,this,c[f]);Zw.o.ga.call(this,a)};z.e.of=function(a){var b=Zw.o.of.call(this,a);b||z.$h(this,function(c){!b&&c.ZM&&c.fz==a.keyCode&&(this.isEnabled()&&this.Bc(c),b=c.ec(a))},this);return b};z.e.Ib=function(a){Zw.o.Ib.call(this,a);(a=z.Zh(this,a))&&z.kh(a.m(),this.m())};z.v($w,z.Hq);$w.prototype.Vn=function(){return this.Go};$w.prototype.zm=function(a){this.Go=a};$w.prototype.da=function(a,b,c,d){var f=z.xl(this.element,this.Jf,a,b,null,c,10,d,this.Kz);if(f&496){var g=ax(f,this.Jf);b=ax(f,b);f=z.xl(this.element,g,a,b,null,c,10,d,this.Kz);f&496&&(g=ax(f,g),b=ax(f,b),z.xl(this.element,g,a,b,null,c,this.Vn(),d,this.Kz))}};z.v(bx,$w);z.v(cx,z.Bj);z.ca(cx);z.e=cx.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.Be(a).join(" ")},b=a.M().B("DIV",b,this.Ui(a.fb(),a.M()));this.rc(b,a.Wf());return b};z.e.Ae=function(){return"button"};z.e.aa=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.Ui=function(a,b){return b.B("DIV","goog-inline-block "+(this.R()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.R()+"-inner-box"),a))};z.e.bc=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){dx(b,!0);dx(b,!1);var c;a:{c=a.M().ME(b);var d=this.R()+"-outer-box";if(c&&z.Ig(c,d)&&(c=a.M().ME(c),d=this.R()+"-inner-box",c&&z.Ig(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Ui(b.childNodes,a.M()));z.Kg(b,["goog-inline-block",this.R()]);return cx.o.w.call(this,a,b)};z.e.R=function(){return"goog-custom-button"};z.v(ex,cx);z.ca(ex);z.e=ex.prototype;z.e.aa=function(a){return ex.o.aa.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.Ae("*","goog-menu",b)[0];if(c){z.R(c,!1);z.ye(c).body.appendChild(c);var d=new Zw;d.w(c);a.mh(d)}return ex.o.w.call(this,a,b)};z.e.Ui=function(a,b){return ex.o.Ui.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.R()+"-dropdown"),"\u00a0")],b)};z.e.createCaption=function(a,b){return fx(a,this.R(),b)};z.e.R=function(){return"goog-menu-button"};z.v(gx,z.Lj);z.e=gx.prototype;z.e.Ms=!1;z.e.hk=!1;z.e.qT=!1;z.e.D=function(){gx.o.D.call(this);lx(this,!0);this.ia&&kx(this,this.ia,!0);z.Bg(this.h,"haspopup",!!this.ia)};z.e.Eb=function(){gx.o.Eb.call(this);lx(this,!1);if(this.ia){this.Ab(!1);this.ia.Eb();kx(this,this.ia,!1);var a=this.ia.m();a&&z.Q(a)}};z.e.C=function(){gx.o.C.call(this);this.ia&&(this.ia.H(),delete this.ia);delete this.jS;this.ma.H()};
z.e.de=function(a){gx.o.de.call(this,a);this.Ub()&&(this.Ab(!this.ub(),a),this.ia&&(a=this.ub(),this.ia.vf=a))};z.e.pf=function(a){gx.o.pf.call(this,a);this.ia&&!this.Ub()&&(this.ia.vf=!1)};z.e.Jd=function(){this.setActive(!1);return!0};z.e.tN=function(a){this.ia&&this.ia.T()&&!this.If(a.target)&&this.Ab(!1)};z.e.If=function(a){return a&&z.ff(this.m(),a)||this.ia&&this.ia.If(a)||!1};
z.e.of=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ia&&this.ia.T()){var b=13==a.keyCode||32==a.keyCode,c=this.ia.ec(a);return 27==a.keyCode||b?(this.Ab(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Ab(!0,a),!0):!1};z.e.co=function(){this.Ab(!1)};z.e.WN=function(){this.Ub()||this.Ab(!1)};z.e.Wc=function(a){this.Ms||this.Ab(!1);gx.o.Wc.call(this,a)};
z.e.$a=function(){this.ia||this.mh(new Zw(this.M(),this.hQ));return this.ia||null};z.e.mh=function(a){var b=this.ia;if(a!=b&&(b&&(this.Ab(!1),this.va&&kx(this,b,!1),delete this.ia),this.va&&z.Bg(this.h,"haspopup",!!a),a)){this.ia=a;z.Wh(a,this);a.F(!1);var c=this.Ms;(a.an=c)&&a.Re(!0);this.va&&kx(this,a,!0)}return b};z.e.Ga=function(a){this.$a().L(a,!0)};z.e.Ni=function(a,b){this.$a().Dk(a,b,!0)};z.e.removeItem=function(a){(a=this.$a().removeChild(a,!0))&&a.H()};
z.e.Zh=function(a){return this.ia?z.Zh(this.ia,a):null};z.e.tl=function(){return this.ia?z.Yh(this.ia):0};z.e.F=function(a,b){var c=gx.o.F.call(this,a,b);c&&!this.T()&&this.Ab(!1);return c};z.e.Ya=function(a){gx.o.Ya.call(this,a);this.isEnabled()||this.Ab(!1)};z.e.FI=function(){this.Ab(!0)};
z.e.Ab=function(a,b){gx.o.Ab.call(this,a);if(this.ia&&!!(this.O&64)==a){if(a){if(!this.ia.va)if(this.hk){var c=Cv(this.m());c?this.ia.kp(c.parentNode,c):this.ia.ea(this.m().parentNode)}else this.ia.ea();this.zJ=z.ih(this.m());this.VC=z.th(this.m());jx(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.qT?z.Ju(this.ia):this.ia.Ib(-1)}else{this.setActive(!1);this.ia.vf=!1;if(c=this.m())z.Bg(c,"activedescendant",""),z.Bg(c,"owns","");null!=this.zt&&(this.zt=void 0,
(c=this.ia.m())&&z.ph(c,"",""))}this.ia.F(a,!1,b);if(!this.Vd){var c=this.v(),d=a?c.g:c.na;d.call(c,this.M().ta(),"mousedown",this.tN,!0);this.Ms&&d.call(c,this.ia,"blur",this.WN);d.call(c,this.ma,z.Qk,this.cm);a?this.ma.start():this.ma.stop()}}this.ia&&this.ia.m()&&this.ia.h.removeAttribute("aria-hidden")};
z.e.cm=function(){var a=z.th(this.m()),b=z.ih(this.m()),c=this.VC;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.zJ,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.VC=a,this.zJ=b,jx(this))};z.e.Nx=function(a){(a=a.target.m())&&mx(this,a)};z.e.ON=function(a){z.yj(this,32)&&this.dc()&&this.ia&&this.ia.T()&&a.stopPropagation()};
z.e.Ux=function(){if(!z.Ku(this.ia)){var a=this.m();z.Bg(a,"activedescendant","");z.Bg(a,"owns","")}};z.e.Gx=function(a){if(this.ub()&&a.target instanceof Uw){a=a.target;var b=a.m();a.T()&&a.O&2&&null!=b&&mx(this,b)}};z.Cj("goog-menu-button",function(){return new gx(null)});z.v(nx,z.H);nx.prototype.iC={question:"\u95ee\u9898",comment:"\u8bc4\u8bba",answer:"\u56de\u7b54",favlist:"\u6536\u85cf",member:"\u7528\u6237",message:"\u79c1\u4fe1",image:"\u56fe\u7247",video:"\u89c6\u9891",post:"\u6587\u7ae0"};nx.prototype.iw="report-dialog";nx.prototype.yG="loading";nx.prototype.BE='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"\u8bf7\u586b\u5199\u539f\u56e0" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
nx.prototype.submit=Cw;z.e=nx.prototype;z.e.px=function(){return this.Kn};z.e.Nk=function(a,b){var c=new z.Ai;z.pi(c,!0);c.ef=!0;z.ui(c,z.ji());c.addEventListener(z.wi,this.sN,!1,this);z.gc(c,this);a&&c.jb(a);b&&c.ka(b);c.F(!0);c.da();z.T.add(c.m(),this.iw);return this.Kn=c};z.e.sN=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.Kn.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Nk(this.JE(a),this.Lv());z.T.add(d.m(),this.yG);this.QE(a).then((0,z.r)(function(f){d.ka((0,z.Gp)(this.BE,{each:z.y.forEach,options:f,headnote:c}));z.T.remove(d.m(),this.yG);d.da();z.Di(d,450);this.FM={type:a,id:b};this.Sq(f)},this))};z.e.fF=function(){};
z.e.Sq=function(a){var b=this,c=(0,window.$)(this.Kn.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,l=z.y.find(a,function(a){return h===String(a.value)});b.fF(l);l="0"===h;f.toggle(l);l&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"\u8bf7\u9009\u62e9\u7406\u7531",detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.Lv=function(){return'\x3cdiv class\x3d"loading"\x3e\u7406\u7531\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.v(ox,z.S);var px={question:"question_report",answer:"question_answer_report",post:"article_report",member:"member_report",comment:"comment_report",favlist:"favlist_report",message:"message_report"},HI=(0,z.r)(z.nu(function(a){return window.$.getJSON(z.xa("/report/%s/options",a))}),z.t);
ox.submit=function(a,b,c){b=window.$.extend({type:a,id:b},c);z.X.sa({type:"ga_click_report",data:{type:a}});window.$.post("/report",b).done(function(a){if(a.r)"duplicate_report"===a.errtype?z.U(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5"):z.U(a.msg);else if(a.noti){var b=z.Gi({title:"\u4e3e\u62a5\u6210\u529f\uff01",mi:!0,content:'\x3cp\x3e\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u300c\u79c1\u4fe1\u300d\u901a\u77e5\u60a8\x3c/p\x3e\x3cp\x3e\u60a8\u4e5f\u53ef\u4ee5\u8fdb\u5165 \x3ca href\x3d"/community/report"\x3e\u793e\u533a\u670d\u52a1\u4e2d\u5fc3\x3c/a\x3e \u67e5\u770b\u5b9e\u65f6\u5904\u7406\u8fdb\u5ea6\x3c/p\x3e\x3clabel class\x3d"modal-dialog-cancelNoti"\x3e\x3cinput type\x3d"checkbox" name\x3d"cancelNoti" /\x3e\u4e0d\u518d\u63d0\u9192\x3c/label\x3e',
className:"report-success-dialog",da:!0,buttons:["\u77e5\u9053\u5566"]});b.v().g(b,z.Yl,function(){(0,window.$)(z.ni(b)).find("input[name\x3dcancelNoti]")[0].checked&&window.$.post("/community/report/noti",{cancel:!0});return!0})}else z.U("\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210",2E3,"\u4e3e\u62a5\u6210\u529f\uff01")})};
ox.prototype.submit=z.nm(function(a){ox.submit(this.type,this.id,a)},function(){return{ya:this.zv,gd:!0}});ox.prototype.EI=z.nm(function(){(new sx(this.type,this.id)).open(this.type,this.id);z.X.sa({type:"ga_click_report_box",data:{type:this.type}})},function(){return{ya:this.zv,gd:!0}});
ox.prototype.VO=function(){var a=this.IG,b=this.IG.$a();HI(this.type).then(function(c){window.$.each(c,function(a,c){var g=new Uw(c.label,{value:c.value,options:c.options});b.Ga(g)});jx(a);(0,window.$)(b.m()).addClass("report-menu")});this.v().g(b,"show",z.nm(function(){z.X.sa({type:"ga_click_report_box",data:{type:this.type}})},{ya:this.zv,gd:!0})).g(b,"action",this.Bx)};
ox.prototype.Bx=function(a){var b=a.target.W().value;a=a.target.W().options;var c=this.type;0===b?(b=new sx(this.type,this.id),b.Nk("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",'\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3ctextarea class\x3d"textarea" name\x3d"detail"\x3e\x3c/textarea\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"0" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e'),b=(0,window.$)(b.px().m()),b=(0,window.$)("form",b),b.validate({rules:{detail:{rangelength:[2,
100],required:!0}},messages:{detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",b)})):"member"===c&&10018!==b?(b='\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3cinput placeholder\x3d"\u586b\u5199\u8fdd\u89c4\u5185\u5bb9\u94fe\u63a5\u4f1a\u66f4\u5feb\u88ab\u7ba1\u7406\u5458\u5904\u7406" type\x3d"text" name\x3d"link" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"'+b+'" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e',
(new sx(this.type,this.id)).Nk("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",b)):"question"===c&&a?rx(this,a):ox.submit(c,this.id,{reason:b})};z.v(sx,nx);sx.prototype.QE=HI;sx.prototype.submit=function(){var a=(0,window.$)((0,window.$)("form",this.Kn.m())[0]).serializeArray(),a=z.y.reduce(a,function(a,c){c.value&&(a[c.name]=c.value);return a},{});ox.submit(this.type,this.id,a)};sx.prototype.JE=function(a){return z.xa("\u4e3a\u4ec0\u4e48\u4e3e\u62a5\u8fd9\u4e2a%s\uff1f",this.iC[a]||"\u6761\u76ee")};z.v(tx,z.kk);
tx.prototype.init=function(){var a=z.M("zh-create-pm");a&&this.v().g(a,"click",this.KQ);var a=z.M("zh-pm-item-wrap"),b=new Mw;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a);this.v().g(a,"click",this.Ma);(0,window.$)(function(){(0,window.$)("#zh-change-pm-admin").change(function(){var a=(0,window.$)(this).find("option:selected").attr("data-token");window.location.href="self"===a?"/admin_feedback":"/admin_feedback/"+a})});(0,window.$)('a[name\x3d"report"]').each(function(a,b){var f=
(0,window.$)(b).closest(".zm-pm-item").data("report-token");qx(new ox("message",f),b)})};tx.prototype.KQ=z.nm(function(){var a;this.po();this.Xb.show();z.fr(this.Xb,-1);(a=z.Ra(window.location.pathname,"admin_inbox")?"admin":(0,window.$)("#zh-change-pm-admin option:selected").attr("data-token"))&&this.Xb.fu(a)},!0);tx.prototype.po=function(){this.Xb||(this.Xb=new z.dr({Ot:!0}))};
tx.prototype.Ma=function(a){if(a=z.cn(this.WW,a.target)){var b=a.name,c=z.Af(a,this.uf);if(!c||!a.name)return!0;var d=(0,window.$)(c).data(),f=d.member,g=d.name;switch(b){case "reply":z.nm((0,z.r)(function(){this.po();this.Xb.show();var a=this.Xb,b=d.type;a.Qp=d.token;a.hB=b;z.fr(this.Xb,f,g,!1);this.Xb.Ac.focus()},this),!0)();break;case "delete":var h=c.getAttribute("data-token");z.Gi("\u5220\u9664\u79c1\u4fe1\u4f1a\u8bdd","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u4e0e "+g+"\u7684\u6240\u6709\u4f1a\u8bdd\u5417\uff1f",
function(a){a&&ux(h)},this);break;case "edit":z.Um(this.ad,this.xh),this.Lm=-1}}};z.v(vx,z.kk);
vx.prototype.init=function(){this.at=z.M("zh-pm-detail-item-wrap");this.v().g(this.at,"click",this.Ma);var a=z.M("zh-pm-editor-form");if(a){this.Xb=new z.dr({Ot:!0});this.Xb.fq=!1;this.Xb.lh(a);this.Xb.show();if(a=this.Fb()[0]){var a=(0,window.$)(a).data(),b=this.Xb,c=a.type;b.Qp=a.token;b.hB=c;z.fr(this.Xb,a.member,a.name)}else a=z.Tp,z.fr(this.Xb,a.id,a.kx);this.Xb.focus()}else this.Xb=new z.dr({Ot:!0});wx(this);this.Bj()};
vx.prototype.Bj=function(){(0,window.$)('a[name\x3d"report"]').each(function(a,b){var c=(0,window.$)(b).closest(".zm-pm-item").data("token");qx(new ox("message",c),b)})};vx.prototype.Fb=function(){return z.Ze(this.at)};
vx.prototype.Ma=function(a){var b=z.cn(this.at,a.target);if(b&&(a=b.name,b=z.Af(b,this.uf))){var b=(0,window.$)(b).data(),c=b.token;switch(a){case "reply":this.Xb.show();a=this.Xb;var d=b.type;a.Qp=c;a.hB=d;z.fr(this.Xb,b.member,b.name,!1);this.Xb.focus();break;case "delete":xx(this,c)}}};z.v(zx,z.S);z.e=zx.prototype;z.e.AB=!z.Ei;z.e.zB=!z.Ei;z.e.xi=function(a){this.Sg=a};z.e.init=function(){this.fc=z.M("zh-load-more");this.w(this.BM)};
z.e.D=function(){zx.o.D.call(this);this.dn=1;Gx(this);this.zk=(0,window.$)(this.fc);this.fc&&(Dx(this),this.v().g(this.fc,"click",function(){this.zo=!0;this.Bh&&"pending"===this.Bh.state()&&1===this.dn?(this.Bh.done((0,z.r)(this.Xg,this)),this.IA=!0,Bx(this,!0)):this.Az()}),this.AB&&(this.iB=new z.ej(this.xz,100,this),this.v().g(window,"scroll",function(){this.iB.fire()})));Hx(this,this.Fb())};z.e.Ul=function(){Ex(this,!0)};
z.e.xz=function(){var a=this.fc;a&&z.vh(a)&&1E3>=a.getBoundingClientRect().top-z.Fe().height&&!(this.Gt||this.Bh&&"pending"===this.Bh.state())&&(this.zB&&(3===this.dn?(this.dn=1,this.IA=!1):(this.zo=!1,this.dn++,this.IA=!0)),Ex(this))};z.e.Az=function(){this.AB&&this.Gt?(this.Xg(this.Gt),this.Gt=null):(Bx(this,!0),Ex(this))};z.e.JH=function(a){return a};
z.e.Xg=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.fc.setAttribute("data-next",f));0<c&&(this.Iq(d),this.offset=this.mz?this.mz(this.Fb()):this.offset+c);b=!0;b=this.ns?this.ns(a):!(-1===f||10>c);z.R(this.fc,b);Bx(this,!1);Fx(this)}};z.e.Fb=function(){return z.Ce(this.Sg,this.h)};z.e.EH=function(a){return a.id.split("-")[1]};
z.e.Iq=function(a,b){var c=z.fa(a)?a.join(""):a,c=z.Ne(c+" "),d=z.Ce(this.Sg,c);Hx(this,d);"prepend"===b?z.Ue(c,this.h.firstChild):this.h.appendChild(c);Gx(this)};z.e.Zj=z.m;var Oz=function(a,b){var c=[],d=[].slice,f=z.on(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.Y.ya()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});var II=/a(:(link|visited|active|hover))?/;Kx.prototype.clone=function(){var a=new Kx;a.kh=this.kh.concat();a.Jn=this.Jn;return a};var JI=/(^|;|{)\s*color:([^;]+);/g,Ox={},Rx={},KI={},LI="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),MI="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var NI;z.v(z.Sx,z.H);z.e=z.Sx.prototype;z.e.G=null;z.e.VK=!0;z.e.mJ=function(){this.G&&(this.disable(this.G),this.G=null)};z.e.enable=function(a){this.G==a&&(this.kc=!0)};z.e.disable=function(a){this.G==a&&(this.kc=!1)};z.e.isEnabled=function(a){return this.G==a?this.kc:!1};z.e.yq=z.$r;z.e.BP=z.$r;z.e.C=function(){this.G&&this.mJ(this.G);z.Sx.o.C.call(this)};z.Xx=z.A.Om({Ox:1,PN:2,fs:3,uj:4,gs:5,execCommand:6,queryCommandValue:7,IH:8,zL:10,yL:11});NI=z.A.af(8,10,11);
z.Sx.prototype.execCommand=function(a,b){var c=this.BP(a);c||(z.B&&z.py(this.G,!0,!0),this.G.Th());try{var d=this.hf.apply(this,arguments)}finally{c||(this.G.df(),z.ny(this.G))}return d};z.Sx.prototype.Je=function(){return!1};var Yx,ay;z.v(Wx,z.H);Wx.prototype.Ba=null;Wx.prototype.Kc=null;Yx="change";z.Zx="delayedchange";ay={lV:"cvc",EV:"load",XV:"unload",eV:"beforechange",jV:Yx,mV:z.Zx,fV:"beforefocus",pV:"focus",hV:"blur",gV:"beforetab",wV:"ifrsz",MV:"selectionchange"};z.cy=0;z.OI=null;z.e=Wx.prototype;z.e.Og=!1;z.e.tJ=!1;z.e.Gu=!1;z.e.m=function(){return this.Ba};z.e.addListener=function(a,b,c,d){var f=this.m();z.It&&f&&this.tc()&&(f=f.ownerDocument);d?z.ed(this.lc,f,a,b,c,d):this.lc.g(f,a,b,c)};z.e.$h=function(a){return this.Kd[a]};
var by=15,$x=250;Wx.prototype.tc=z.as;Wx.prototype.Ao=z.as;Wx.prototype.DI=z.$r;var ey={46:!0,8:!0};z.C||(ey[9]=!0);var fy={86:!0,88:!0};z.Bm&&!z.B&&(ey[229]=!0);
Wx.prototype.Vv=function(){this.lc&&this.lc.removeAll();if((z.ts||z.Fi)&&this.tc()&&this.DI()){try{var a=this.mb.Wa();a.removeEventListener("keydown",this.ln,!1);a.removeEventListener("touchend",this.ln,!1)}catch(b){}delete this.ln}if(z.Zg&&this.tc()){try{a=this.mb.Wa(),a.removeEventListener("focus",this.Hv,!1),a.removeEventListener("blur",this.Gv,!1)}catch(c){}delete this.Hv;delete this.Gv}this.ve&&this.ve.stop();this.xr.stop()};
Wx.prototype.C=function(){1==this.Oj||this.Ic();this.Kc&&this.execCommand("clearlorem");this.Oj=z.cy;for(var a in this.Kd){var b=this.Kd[a];b.yq()||b.disable(this)}this.mb=this.Ba=null;this.Vv();this.hl&&(z.Uc(this.hl),this.hl=null);this.em=null;this.lc&&(this.lc.H(),this.lc=null);for(;a=this.ZU.pop();)a.H();z.OI==this.id&&(z.OI=null);for(var c in this.Kd)a=this.Kd[c],a.VK&&a.H();delete this.Kd;Wx.o.C.call(this)};
var PI=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];Wx.prototype.FA=function(){if(z.Ft||!this.tc())this.lc.g(this.m(),"DOMSubtreeModified",this.Px);else{var a=this.mb.ta();this.lc.g(a,PI,this.Px,!0);this.lc.g(a,"DOMAttrModified",(0,z.r)(this.XE,this,this.Px),!0)}};var QI={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},RI={65:!0,86:!0,88:!0},ky={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=Wx.prototype;
z.e.yo=function(a,b){for(var c=this.zj[a],d=z.y.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||NI[a])&&g[z.Xx[a]].apply(g,d))return!0}return!1};z.e.nP=function(a,b){for(var c=this.zj[a],d=z.y.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||NI[a])&&g[z.Xx[a]].apply(g,d)}};z.e.Kt=function(a,b,c){for(var d=this.zj[a],f=z.y.slice(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||NI[a])f[0]=h[z.Xx[a]].apply(h,f)}return f[0]};
z.e.nf=function(a){(z.B||hy(this,a))&&!this.yo(1,a)&&z.Pt&&jy(this,a)};z.e.QN=function(a){if(z.B){if(!hy(this,a))return}else this.Ax=!0,this.Th();this.yo(2,a)||z.Pt||jy(this,a)};z.e.RN=function(a){z.B||!this.Ax&&!dy(a)||this.ao();this.yo(3,a);oy(this,"selectionchange")||(QI[a.keyCode]||(a.ctrlKey||a.metaKey)&&RI[a.keyCode])&&this.vI.start()};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.zj[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Je(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Ic()&&this.tf;if(z.q(a))return this.It(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.It(a[d],b);return c};z.e.It=function(a,b){for(var c=this.zj[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Je(a)&&(b||f.yq()))return f.queryCommandValue(a)}return b?null:!1};z.e.XE=function(a,b){if(!oy(this,Yx)){var c=b.xb;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Px=function(a){oy(this,Yx)||(a=a.HE?a.xb:a,a.target.firebugIgnore||this.ve.start())};z.e.cs=function(){z.C&&this.execCommand("clearlorem",!0);z.B&&this.xw();this.df()};z.e.iO=function(){var a=this.uI;this.uI=null;z.ny(this,void 0,a)};z.e.Th=function(){oy(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.df=function(a){ry(this,!0,a)};z.e.ao=function(){oy(this,Yx)||(this.ve&&this.ve.stop(),oy(this,z.Zx)||this.xr.start())};z.e.YD=function(){oy(this,z.Zx)||(this.xr.stop(),this.dispatchEvent(z.Zx))};
z.e.xw=function(){this.XD();this.ZD()};z.e.XD=function(){oy(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.ZD=function(){if(!oy(this,"focus")){z.OI=this.id;this.tf=!0;this.dispatchEvent("focus");if(z.B){var a=this.m(),b=z.my(this);if(b){var c=z.Xn(b);0!=z.Yn(b)||c&&c!=a&&"BODY"!=c.tagName||z.Uv(a)}}!z.Gt&&this.tc()&&this.mb.Wa().parent.getSelection().removeAllRanges()}};z.e.Ar=function(){oy(this,"blur")||(z.OI==this.id&&(z.OI=null),this.tf=!1,this.dispatchEvent("blur"))};
z.e.Al=function(a){z.OI=this.id;if(z.C){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.em.Wa().open(b.href)}this.Gu=!0};z.e.Ix=function(){this.Gu=!1};z.e.js=function(a){if(!this.tJ||this.Gu)this.Gu=!1,z.ny(this,a),z.C&&(this.uI=a.target,this.vI.start())};
z.e.nl=function(){if(this.queryCommandValue("usinglorem"))return"\u00a0";if(!this.Ic())return this.Kc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.C&&a.match(/^\s*<script/i)&&(a="\u00a0"+a);b.innerHTML=a;this.nP(11,b);return this.Kt(10,b.innerHTML)};
z.e.Md=function(a,b,c,d){if(1!=this.Oj){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.py(this,!1,!0);a=b;if(b=this.m()){if(this.tc()&&z.D)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Kc;b&&iy(this,a,b);d&&this.execCommand("updatelorem");this.Ic()&&(c?(z.B&&av(this.ve),ry(this)):this.df())}};z.e.rB=function(){var a=this.mb.ta();a.designMode="on";z.Lt&&a.execCommand("styleWithCSS",!1,!1)};
z.e.QF=function(){this.Uk&&uy(this)&&z.wh(this.Uk,this.m())};z.e.Ic=function(){return 2==this.Oj};z.e.focus=function(){if(!z.Et&&this.tc())this.mb.Wa().focus();else{if(z.Zg)var a=this.Fk.pageXOffset,b=this.Fk.pageYOffset;this.m().focus();z.Zg&&this.Fk.scrollTo(a,b)}};z.e.Vf=function(){!z.Ct&&z.B||z.ty(this);this.focus()};z.e.Le=function(a){this.Oj=1;var b=this.Kc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;b.className+=" editable";this.Xy(a)};
z.e.Xy=function(a){var b=this.Kc;if(b){var b=b.innerHTML,c={},b=this.Kt(8,b,c),d=this.em.B("IFRAME",this.OE());if(uy(this)){var f=(0,z.r)(this.DF,this,d,b,c);this.hl=z.G(d,"load",f,!0);a&&(d.src=a)}this.FC(d);uy(this)||this.DF(d,b,c)}};
z.e.ds=function(){z.C&&z.Xv(this.mb.Wa());z.OI!=this.id&&this.execCommand("updatelorem");if((z.ts||z.Fi)&&this.tc()&&this.DI()){var a=this.mb.Wa();this.ln=(0,z.r)(a.focus,a);a.addEventListener("keydown",this.ln,!1);a.addEventListener("touchend",this.ln,!1)}z.Zg&&this.tc()?(this.Hv=(0,z.r)(this.xw,this),this.Gv=(0,z.r)(this.Ar,this),a=this.mb.Wa(),a.addEventListener("focus",this.Hv,!1),a.addEventListener("blur",this.Gv,!1)):(z.Ot?(this.addListener("focus",this.ZD),this.addListener(z.ks,this.XD)):this.addListener("focus",
this.xw),this.addListener("blur",this.Ar,z.B));z.B?this.FA():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Th),this.addListener(["cut","paste"],Aw(this.df)),this.addListener("drop",this.cs));this.addListener(z.D?"dragend":"dragdrop",this.cs);this.addListener("keydown",this.nf);this.addListener("keypress",this.QN);this.addListener("keyup",this.RN);this.vI=new z.hl(this.iO,250,this);this.SM&&this.addListener("click",sy);this.addListener("mousedown",this.Al);this.tJ?(this.lc.g(this.mb.ta(),
"mouseup",this.js),this.addListener("dragstart",this.Ix)):this.addListener("mouseup",this.js);this.QF();ry(this);this.dispatchEvent("load");for(var b in this.Kd)this.Kd[b].enable(this)};z.e.FC=function(a){var b=this.Kc;a.className=b.className;a.id=b.id;z.Xe(a,b)};z.e.rx=function(a){var b=z.Cf(z.L(this.Kc));return new Tx(this.id,b,!1,!1,a)};
z.e.IJ=function(a,b,c){c=this.rx(c);uy(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.Et&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.rE,z.Wg(a,c.Tw),a.innerHTML=b):Vx(c,b,new Ux(this.m(),this.Uk),a)};z.e.DF=function(a,b,c){this.hl&&(z.Uc(this.hl),this.hl=null);a.allowTransparency="true";this.IJ(a,b,c);gy(this,(a.contentDocument||a.contentWindow.document).body);!z.Et&&this.tc()&&this.rB();this.ds()};
z.e.OE=function(){var a="padding:0;"+this.Kc.style.cssText;z.wa(a,";")||(a+=";");a+="background-color:white;";z.C&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var SI;z.v(z.vy,Wx);z.e=z.vy.prototype;z.e.WF=!1;z.e.tP=!1;z.e.Ao=function(){return this.WF};z.e.gF=function(){oy(this,Yx)||wy(this)};
z.e.QA=function(){if(this.Gp?0:this.Gp=!0){var a=!1,b=ly(this);if(b){var c,d=ly(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(uw(d,"height"),10)&&z.Wg(d,"height","1px");z.Cf(z.L(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=SI||(SI=z.Gh())));c=d;this.kQ&&(c=Math.max(c,this.kQ));(0,window.parseInt)(uw(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Gp=!1;a&&this.dispatchEvent("ifrsz")}};z.e.$x="";var TI=!1;z.e=z.vy.prototype;z.e.tc=function(){return!z.Et};
z.e.FA=function(){z.vy.o.FA.call(this);if(this.tc()){var a=ly(this).ownerDocument;this.lc.g(a,PI,this.gF,!0);this.SP=z.Sc(this.mb.Wa(),"load",this.QA,!0,this);this.lc.g(a,"DOMAttrModified",(0,z.r)(this.XE,this,this.gF),!0)}};z.e.ao=function(){oy(this,Yx)||(z.vy.o.ao.call(this),this.tc()&&this.QA())};
z.e.Ar=function(){if(!oy(this,"blur")&&(z.vy.o.Ar.call(this),!z.Et&&!z.Gt)){var a=this.mb.Wa(),b=!1;z.Uc(this.pG);this.pG=z.Sc(a.document.body,"dragover",function(){b=!0});z.t.setTimeout((0,z.r)(function(){if(!b&&this.mb){var a=z.my(this),d=this.mb.Wa();z.Xv(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.rB=function(){z.vy.o.rB.call(this);var a=this.mb.ta();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.QF=function(){this.tc()||TI||(this.Uk&&z.wh(this.Uk,this.m()),TI=!0)};z.e.Xy=function(a){if(this.tc())z.vy.o.Xy.call(this,a);else if(a=this.Kc)gy(this,a),a.contentEditable=!0,iy(this,a.innerHTML,a),this.ds()};z.e.ds=function(){if(this.tc()){var a=this;z.t.setTimeout(function(){xy(a)},0)}z.vy.o.ds.call(this)};z.e.OE=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.FC=function(a){if(!this.tP){var b=this.Kc;b&&(this.WF="auto"==z.bh(b,"overflowY"))}var b=this.Kc,c=z.L(b),d=b.style.width,f=b.style.height;z.Wg(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);var g=tw(b),c=g.width,g=g.height,h="";this.Ao()&&(h="\x26nbsp;",z.Wg(b,"position","relative"),z.Wg(b,"overflow","visible"),z.Wg(a,"position","absolute"),z.Wg(a,"top","0"),z.Wg(a,"left","0"));z.ph(b,
c,g);z.Cf(z.L(b))&&z.Wg(b,"lineHeight","0");z.Vv(b,h);z.ph(a,c,g);z.ph(b,d,f);z.Wg(b,"visibility","");b.appendChild(a);uy(this)||(b=a.contentWindow.document,z.Cf(z.L(a.ownerDocument))&&(b.open(),a=z.md("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.ld(a)),b.close()))};z.e.rx=function(a){var b=this.Kc;if(b)return new Tx(this.id,z.Cf(z.L(b)),!0,this.Ao(),a);throw Error("no field");};
z.e.IJ=function(a,b,c){z.Wg(a,"visibility","hidden");c=this.rx(c);var d=this.Kc,f=this.Uk;if(!this.$x){var g=this.Kc;if(g){var h=g.ownerDocument,l=z.ka(h);if(!KI[l]){for(var n=z.ka(h),p=[],h=Jx(h.styleSheets),w=0,F;F=h[w];w++)if((F=Ix(F))&&F.length)for(var J=0,K=F.length;J<K;J++){var O=new Kx,da;da=O;var Oa=F[J],Za=Oa.style;if(Za){var Na=void 0,Ja="";Za&&(Na=Oa.selectorText)&&(Ja=Za.cssText)?z.C&&(Ja+="/* */"):Oa.cssText&&(Ja=/([^\{]+)\{/,Na=Ja.exec(Oa.cssText)[1],Ja=Oa.cssText.replace(Ja,"").replace(/\}[^\}]*$/g,
""));if(Na){Oa=da;Oa.kh=[];Na=Na.split(/,\s*/gm);for(Za=0;Za<Na.length;Za++){var Re=Na[Za];0<Re.length&&Oa.kh.push(new Mx(Re))}da.Jn=Ja;da=!0}else da=!1}else da=!1;da&&p.push(O)}KI[n]=p}n=KI[l];l=[];for(p=0;p<n.length;p++)l.push(n[p].clone());h=new Qx(g);w=new Nx("body");for(n=0;n<l.length;n++)for(F=l[n].kh,p=F.length,J=0;J<p;J++){K=F[J];O=K;da=h.uid;if(O.uv[da])da=O.uv[da];else{for(var Ja=0,Za=Na=Oa=null,Re=h.YG,Jm=Re.length,Se=0;Se<=O.ri.length;Se++){for(Na=O.ri[Se];Ja<Jm;){var ie=Re[Ja];if(Na&&
Px(Na,ie)){Oa={gE:Ja,wI:Se};Ja++;break}else Za&&Px(Za,ie)&&(Oa={gE:Ja,wI:Se-1});Ja++}Za=Na}da=O.uv[da]=Oa}da&&(O=da.wI,K=K.ri,Ja=K.length-1,da.gE==h.YG.length-1||O<Ja?(K=K.concat(),K.splice(0,O+1,w),O=new Mx,O.ri=K,F.push(O)):0<O&&O==Ja&&(O=new Mx,O.ri=[w,K[Ja]],F.push(O)))}h=new Kx;g=g.currentStyle||z.ye(g).defaultView.getComputedStyle(g,"")||{};n=new Mx;n.ri=[new Nx("html")];h.kh=[n];w={};for(n=0;p=LI[n];n++)w[p]=g[z.cb(p)];Lx(h,w);l.push(h);h=new Kx;w=new Mx;w.ri=[new Nx("body")];F={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(n=0;p=MI[n];n++)F[p]=g[z.cb(p)];Lx(h,F,!0);h.kh=[w];l.push(h);g=[];p=l.length;for(n=0;n<p;n++){F=l[n];h=g;J=F.kh.length;w=!1;for(K=0;K<J;K++){O=F.kh[K].ri;da=O.length;for(Ja=0;Ja<da;Ja++)h.push(O[Ja].OF," ");K<J-1&&h.push(",");z.B&&!z.E("1.9a")&&(w=w||II.test(O[da-1].OF))}F=F.Jn;w&&(F=F.replace(JI,"$1 color: $2 ! important; "));h.push("{",F,"}\n")}this.$x=g.join("")}}d=new Ux(d,f+this.$x);c.Tq&&(f=z.Dh(d.YU),(f.top||f.left||f.right||
f.bottom)&&z.Wg(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));Vx(c,b,d,a);xy(this);z.Wg(a,"visibility","visible")};z.e.Vv=function(){z.Uc(this.pG);z.Uc(this.SP);z.vy.o.Vv.call(this)};var Wy={};Wy._default_={vx:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},ol:Cw,pl:Cw,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},Ry:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
Wy.answer={ol:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},pl:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},UK:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
Wy.question={ol:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},pl:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
Wy.favlist={ol:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},pl:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
Wy.post={vx:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},ol:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},pl:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},Ry:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
Wy.roundtable={vx:function(a){return window.$.get("/roundtable/comments/"+a)},ol:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},pl:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},Ry:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};z.v(yy,z.sc);zy.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.v(Ay,nx);var FG=function(a){return function(b,c){return a(z.xa("/manage/%s/options?action\x3d%s",b,c))}}(z.nu(window.$.getJSON));z.e=Ay.prototype;z.e.dC={remove:"\u5220\u9664",lock:"\u9501\u5b9a",unlock:"\u89e3\u9664\u9501\u5b9a",collapse:"\u6298\u53e0",uncollapse:"\u89e3\u9664\u6298\u53e0",mute:"\u9694\u79bb",unmute:"\u89e3\u9664\u9694\u79bb"};z.e.QE=function(a){return FG(a,this.ll())};z.e.Nk=function(a,b){var c=Ay.o.Nk.call(this,a,b);c.wc.set("ok",this.dC[this.ll()]);return c};z.e.ll=function(){return(0,window.$)(this.Kv).data("op").split("-")[0]};
z.e.JE=function(a){return z.xa("\u786e\u5b9a\u8981%s\u8be5%s\uff1f",this.dC[this.ll()],this.iC[a]||"\u6761\u76ee")};z.e.yI=function(a){(0,window.$)(".footnote",this.px().m()).text(a)};z.e.fF=function(a){a&&(a.trackable?Cy(this,a).then((0,z.r)(this.yI,this)):this.yI(""))};Ay.prototype.submit=function(){var a=(0,window.$)(this.Kv).data(),b=a.action,a=a.content,c=(0,window.$)((0,window.$)("form",this.Kn.m())[0]).serialize();a&&(c+="\x26"+a);By(b,c,this.Pk)};
Ay.prototype.C=function(){this.Pk=this.Kv=null;Ay.o.C.call(this)};Ay.prototype.open=function(a,b,c){this.Kv=a;this.Pk=c||z.Yd.RW;Ay.o.open.call(this,b.type,b.id,"")};z.v(Dy,z.S);z.e=Dy.prototype;z.e.defaults={trigger:{A:"data-editable"},mK:"hc-actionbar",FP:"checked",IT:100,FO:100};z.e.D=function(){Dy.o.D.call(this);this.gn=z.P("div");window.document.body.appendChild(this.gn);Ey(this,this.h)};z.e.tx=function(){return this.KO};
z.e.lL=function(a,b,c){b=z.P("div",{title:a.V,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.P("i","icon icon-actionbar-"+a.name)]);z.yh(b,!0);this.v().g(b,"click",function(){Fy(this,a.name)&&a.Ri(this.re)});return b};z.e.ea=function(){this.gn.innerHTML="";z.Qe(this.gn,z.y.map(z.A.Oa(this.Ym.vu()),this.lL,this))};z.v(z.Hy,z.S);z.Hy.prototype.defaults={wF:{},RK:!0};z.Hy.prototype.D=function(){z.Hy.o.D.call(this);var a=this,b=this.h;this.J.RK&&(this.wq=Uy(b));this.v().g(b,"paste",function(){(0,window.setTimeout)(function(){Iy(a)})}).g(b,"keydown",this.yO)};
z.Hy.prototype.yO=function(a){var b=z.Pg(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.No(),d=b.Y(),f=b.ha(),g=this.h,h,l=Ly(d,g,Ny)||f!==d&&(h||(h=Ly(f,g,Ny)));if(l){var n=z.sf(l),p=b.ua(),w=b.Ka();if(l.getAttribute("data-editable")&&n===l.href){var F=!1;h=h||Ly(f,g,Ny)||l;var g=l.contains(d),J=h.contains(f);if(c)g&&(d=l,p=0,F=!0),J&&(f=h,w=z.Bu(h),F=!0),F&&z.yo(d,p,f,w).select();else if(g&&J&&h===l){if(!b.isCollapsed()||0!==p&&n.length!==p)a.preventDefault(),z.Fu(l)}else g&&
(d=l.nextSibling,p=0,F=!0),J&&(f=h.previousSibling,w=z.Bu(f),F=!0),F&&z.yo(d,p,f,w).select()}}}};var Ty=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,Py=["http:","https:"],Qy=z.nu(function(a){return window.$.post("/scraper",{url:a})});z.v(Vy,z.S);z.e=Vy.prototype;z.e.defaults={tG:!1,autofocus:!0,Bw:"empty",uf:"zm-item-comment"};z.e.ga=function(a){Vy.o.ga.call(this,a);nz(this);fz(this);this.Ad=!0;z.y.forEach(hz(this),this.ut,this)};z.e.Gh="zm-comment-bubble";z.e.DC="."+Vy.prototype.Gh;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.P("div",{"class":this.jD,style:"display:none"});this.gf()};z.e.An=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.C=function(){Vy.o.C.call(this);this.Ba=this.pD=this.wn=this.uC=this.vh=this.Uz=this.uG=null};z.e.Hs=function(a){(a=a.m&&a.m())&&(new z.Hy({wF:{image:z.m}})).w(a)};z.e.Gs=function(a,b){if(a.m){var c=(new z.Yk).add("type",this.type+"_comment").add("resource_id",this.id),d=a.m(),c=new z.jp(d,{Xm:{source:"/people/autocomplete?"+c.toString()},ck:z.N("zu-main")||window.document.body});new z.cp(d,{gA:z.tp});z.ia(b)&&b(c)}};
z.e.NT=Xy(function(a){var b=z.N("zm-comment-content-wrap",a),c=z.N("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.N("zm-comment-editable",c);if(z.vh(c)){if(Av(c)){z.R(c,!1);return}}else z.R(c,!0);dz(g)}else{c=ez(b);g=z.N("zm-comment-editable",c);var h=new z.vy(g);h.Md(!1,"");h.Le();this.Gs(h,function(){dz(g)});this.Hs(h);a=z.N("zm-comment-close",c);b=z.N("zm-comment-submit",c);b.name="";var l=function(){var a=(0,z.Ya)(h.nl()),b=(0,z.Ya)(z.sf(g));a&&b?pz(f,{content:a,TS:d},function(a){a.r||
(z.R(c,!1),h.Md(!1,""),(a=z.y.Yc(hz(f)))&&Lv(a,{offsetTop:100,AC:!0}))}):(z.U("\u8bf7\u586b\u5199\u5185\u5bb9"),g.focus())};z.G(a,"click",function(){z.R(c,!1)});z.G(b,"click",l);z.G(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(l(),a.preventDefault())})}Lv(c,100)},"reply");z.e.iu=function(a){z.T.enable(this.pD,"expanded",a)};z.e.Di=function(a,b){this.dispatchEvent(new yy("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.ha(b)?b:this.Sa()}))};
z.e.qj=function(){this.Ad?lz(this):this.Ct=!0};z.e.ZQ=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.zq(),(0,window.$)(this.Ba).blur(),a.preventDefault());27===a.keyCode&&jz(this)};
z.e.Ma=function(a){var b=z.cn(this.h,a.target,"BUTTON")||z.cn(this.h,a.target);if(b&&b.name){var c=z.Af(b,this.J.uf);a.preventDefault();switch(b.name){case "reply_comment":this.NT(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");ev(0,null,a);break;case "delcomment":this.as(b);break;case "like_comment":this.TN(b);break;case "author_delcomment":rz(this,b);break;case "admin_delcomment":qz(this,b);break;case "closeform":jz(this);break;case "addnew":this.zq();break;
case "load-more":this.Di("comments_all"),this.uG(b)}}};
z.e.uG=function(a){this.ct&&"pending"===this.ct.state()||(a&&z.T.add(a,"loading"),this.ct=this.Uz||this.vG(),this.ct.done((0,z.r)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=hz(this);c.length&&(b=z.y.filter(b,function(a){return!z.y.find(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.y.concat(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.y.forEach(b,this.ut,this),a&&z.Q(a));z.Qe(this.wn,
b)}},this)))};z.e.TN=Xy(function(a){var b=(0,window.$)(a),c=z.Af(a,this.J.uf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");(c=!b.hasClass("liked"))&&this.Di("like_comment");this.wg.Ry(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" \u4eba\u89c9\u5f97\u8fd9\u4e2a\u5f88\u8d5e");d.text(f);b.toggleClass("liked",c);z.Om(b[0],c?"\u53d6\u6d88\u8d5e":"\u8d5e")},"like");z.e.expand=function(){this.Ua(!0)};
z.e.collapse=function(){this.Ua(!1)};z.e.oc=function(){return this.Ad};
z.e.Ua=function(a){if(a!==this.Ad){a&&(this.$(this.DC).hide(),this.gf());this.Ad=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.R(this.h,this.Ad);var b=(0,z.r)(function(){a&&kz(this);this.dispatchEvent(a?"expand":"collapse");this.jl&&!a&&(z.Wo(this.jl),Lv(this.jl.h))},this),c;a&&this.Ct?(c=lz(this))&&c.done(b):(0,window.setTimeout)(b);this.vh&&(a?(this.XR=z.sf(this.vh),z.Om(this.vh,"\u6536\u8d77\u8bc4\u8bba")):z.Om(this.vh,0>this.Ia?this.XR:this.Ia?this.Ia+" \u6761\u8bc4\u8bba":"\u6dfb\u52a0\u8bc4\u8bba"))}};
z.e.Df=function(){this.Ua(!this.Ad)};z.e.vG=function(){return this.wg.pl(this.id)};z.e.cu=function(a){this.yn=a};z.e.MS=function(a){a=z.Ne((0,z.Ya)(a));z.R(a,this.Ad);z.y.forEach((0,window.$)("."+this.J.uf,a).get(),this.ut,this);this.Ct=!1;this.Eb();z.Xe(a,this.h);this.h=a;nz(this)};z.e.fb=function(){var a=(0,z.Ya)(this.cl.nl());return a===this.placeholder?"":a};
z.e.zq=function(){var a=this.fb(),b=(0,z.Ya)(z.sf(this.Ba));a&&"TEXTAREA"===this.Ba.tagName&&b||a?pz(this,a):(z.U("\u8bf7\u586b\u5199\u5185\u5bb9"),this.Ba.focus())};z.e.Sa=function(){return this.Ia};z.e.hN=function(a){if(a.r)return z.Ki("\u63d0\u793a\u4fe1\u606f",a.msg);this.wg.vx(a.msg).done(window.$.proxy(this.NS,this));this.cl.Md("");cz(this);this.iu(!1)};
z.e.ut=function(a){if(z.Is("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e\u5220\u9664',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.Bj(a)};
z.e.Bj=function(a){var b=(0,window.$)("a[name\x3dreport], button.report",a);b.length&&(a=a.getAttribute("data-id"),a=new ox("comment",a,{post:"article_comment_report",question:"question_comment_report",answer:"question_answer_comment_report"}[this.type]),qx(a,b[0]),z.gc(a,this))};z.e.NS=function(a){this.Kj="";a=z.Ne(a);this.wn.appendChild(a);this.ut(a);this.Ia+=1;oz(this)};
z.e.as=function(a){var b=z.Af(a,this.J.uf),c=b.getAttribute("data-id");z.Gi("\u5220\u9664\u8bc4\u8bba","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",function(a){a&&tz(this,c,z.pa(z.Q,b))},this)};z.e.gf=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.r)(function(){if(this.Kj)return"\u4f60\u7684\u8bc4\u8bba\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Mf=function(){(0,window.$)(window).off("beforeunload.CommentForm")};z.v(xz,z.S);z.e=xz.prototype;z.e.ga=function(a){xz.o.ga.call(this,a);this.Gb()};z.e.Gb=function(){var a=this.Ji=(0,window.$)(this.m());z.Zr.ob?a.click(z.nm(window.$.proxy(this.CI,this))):zz(this);a.one("mouseover focus",window.$.proxy(z.zi(this.mS),this))};z.e.CI=function(){this.mk||(this.mk=lw(this.vd,this.yB));this.mk.then(function(a){vz(a.msg.sina)})};
z.e.mS=function(){this.mk||(this.mk=lw(this.vd,this.yB));if(this.HG){var a="/qrcode?"+window.$.param({url:this.BT+"#showWechatShareTip"});(0,window.$)(".js-qrcode-image",this.HG.m()).attr("src",a)}};z.e.gN=function(a){a=a.target.W();0===a?this.CI():2===a&&Az(this)};z.v(Bz,z.S);z.e=Bz.prototype;z.e.Rw="zm-item-expanded";z.e.it="zm-item-meta";z.e.Lj=null;z.e.D=function(){Bz.o.D.call(this);var a=Dz(this.h);this.Nb=a[this.entryType+"-id"];this.Hg=a[this.entryType+"-url-token"];this.Hr=a;this.hn();this.qe();Ez(this)};z.e.Tn=function(){var a=this.entryType+"-"+this.Nb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.hn=function(a){var b={'a[name\x3d"expand"]':function(a){this.Ua(!0);this.Ns&&(a.currentTarget.name="toggleExpanded")},'a[name\x3d"collapse"]':function(){this.Ua(!1)},'a[name\x3d"toggleExpanded"]':this.Df,'a[name\x3d"ignore"]':this.es,".js-close":this.kF,".js-collect":this.rj,".js-hiderelated":this.jF,".js-toggle-commentbox":this.pF,".js-unhide":this.tF,'a[name\x3d"dislike"]':this.WE};z.A.extend(b,a||{});z.A.forEach(b,function(a,b){if(z.ia(a))(0,window.$)(this.h).on("click",b,window.$.proxy(a,
this))},this);var c=(0,window.$)(".zm-meta-panel",this.h);z.A.forEach({'a[name\x3d"toggle-comment"]':function(a){this.pF(a);c.toggleClass("focusin",this.qa.oc())}},function(a,b){c.on("click",b,window.$.proxy(a,this))},this)};z.e.pF=function(a){this.Vp();this.qa.oc()&&(a=(0,window.parseInt)(z.sf(a.currentTarget),10)||0,this.qa.Di("view_comments",a))};z.e.$y=function(){Oz(this.entryType,this.Hg,"read")};z.e.Qj=function(){Oz(this.entryType,this.Hg,"touch")};z.e.oc=function(){return z.T.has(this.h,this.Rw)};
z.e.Df=function(){this.Ua(!this.oc())};z.e.Ua=function(a){if(a===this.oc())return!1;a&&tw(this.h).height<z.Fe().height&&1<(0,window.$)("a.collapse",this.h).length&&(0,window.$)("a.collapse",this.h).eq(0).remove();z.T.enable(this.h,this.Rw,a);this.dispatchEvent(a?"expand":"collapse");return!0};z.e.NR=function(){window.open(z.N(this.Lj,this.h).href)};z.e.kF=function(){(0,window.$)(this.h).fadeOut(150,function(){(0,window.$)(this).remove()})};z.e.rj=z.m;z.e.es=z.m;z.e.tF=z.m;z.e.jF=z.m;
z.e.WE=function(){var a=(0,window.$)(this.h),b=(0,window.$)(".feed-item-inner",a),c=(0,window.$)(".undo-dislike-options",a),d=c.data();c.off().one("click",".revert",function(){b.slideDown();c.slideUp();window.$.post("/topstory/item/uninterest/revert",d)}).one("click",".close",function(){a.slideUp(function(){a.remove()})});window.$.post("/topstory/item/uninterest",d).done(function(){b.slideUp();c.slideDown()})};
z.e.Vp=function(){if(!this.qa){var a=(0,window.$)(".toggle-comment",this.h)[0];this.qa=new Vy(this.Nb,this.entryType);this.L(this.qa);Yy(this.qa,z.N(this.it,this.h),a);uz(this.qa);this.qa.cu(this.Tn())}this.qa.Df()};z.e.Mx=function(){this.qa?this.qa.Ba.focus():this.Vp()};
z.e.qe=function(){this.Nd=z.st.GJ(this.h);z.Nm(this.Nd.register("shift+o",this.NR,this),{group:"\u64cd\u4f5c",name:"\u65b0\u7a97\u53e3\u6253\u5f00\u6761\u76ee"});var a=(0,window.$)('a[name\x3d"dislike"], a[name\x3d"ignore"]',this.h);a.length&&z.Nm(this.Nd.register("i g",function(){a.click()}),{group:"\u64cd\u4f5c",name:"\u4e0d\u611f\u5174\u8da3"})};Fz.prototype={Jc:function(a){if(a)this.cD.push(a);else{var b={current:this.Td,fo:this.fo(),os:this.os()};z.y.forEach(this.cD,function(a){(0,window.setTimeout)(function(){a.call(null,b)})})}},remove:function(a){a=this.items.indexOf(a);-1!==a&&(this.items.splice(a,1),Gz(this),this.Jc());return a},fo:function(){return this.Td<this.Ko},os:function(){return 1!==this.Td},next:function(){this.fo()&&(this.Td+=1,this.Jc())},prev:function(){this.os()&&(--this.Td,this.Jc())},random:function(a){if(this.Ko>=2*
this.$g){for(var b=[],c=1;c<this.Ko+1;c++)b.push(c);0!==a&&z.y.remove(b,this.Td);0!==this.items.length%this.$g&&z.y.remove(b,this.Ko);a=b.length;a=Math.floor(Math.random()*a);this.Td=b[a]}else a===this.$g&&this.items.reverse(),this.Td=1;this.Jc();return this.items.length>this.$g}};z.v(Jz,Bz);Jz.prototype.D=function(){Jz.o.D.call(this);Kz(this)};Jz.prototype.WE=function(){var a=this,b=(0,window.$)(this.h);window.$.post("/actioncard/uninterest",{type:"suggest_topics"},function(){b.slideUp(function(){a.H();b.remove()})})};z.v(Lz,Bz);Lz.prototype.Lj="question_link";Lz.prototype.es=function(){var a=this.Hr["question-id"];this.dispatchEvent({type:"ignore",key:"question-id",value:a});window.$.post("/question/uninterest",{qid:a})};z.v(Mz,Lz);Mz.prototype.D=function(){Mz.o.D.call(this);Nz(this)};Mz.prototype.qe=function(){Mz.o.qe.call(this);z.Nm(z.Nm(this.Nd.register("c",this.Vp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",this.Mx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};
z.v(Pz,Lz);z.e=Pz.prototype;z.e.D=function(){Pz.o.D.call(this);this.xv=Qz(this.h);this.Ns="1"===this.xv.getAttribute("data-isowner");this.lr="1"===this.xv.getAttribute("data-copyable");this.ky();this.Nl()};z.e.Ua=function(a){Pz.o.Ua.call(this,a)&&(a||(cw(this.vg.m()),Rz(this,!1)),a&&this.Nl(),this.vg.EA(a),this.vg.ou.Ua(a))};z.e.ky=function(){var a=z.N("zm-item-answer-author-wrap",this.h);a&&(a=z.N("zm-list-avatar",a),z.qt.add(a))};
z.e.Nl=function(){this.vg=new rG(this.Hr["question-id"],{kb:this.Hr["question-url-token"]},this.Nb);vG(this.vg,z.N("zm-item-meta",this.h));this.L(this.vg);this.vg.w(this.xv);var a=this.vg.ou;this.v().g(a,"expand",function(){this.Ua(!0)});this.Nl=z.m};z.e.qe=function(){Pz.o.qe.call(this);z.Nm(this.Nd.register("o",this.Df,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"})};z.e.hn=function(){Pz.o.hn.call(this,{"a[name\x3dexpandQuestionDetail]":function(){Rz(this,!0)}})};z.v(Sz,Bz);Sz.prototype.D=function(){Sz.o.D.call(this);var a=z.N("column",this.h);cv(a,this.Qj,this)};Sz.prototype.Qj=function(){Oz("column",this.Hg,"touch")};var Xz={GB:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},TE:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.v(Tz,z.S);var Vz={pe:1,rg:-1,eC:0};Tz.prototype.defaults={CU:"up",vM:"down",VL:"count",Ht:"pressed"};z.A.extend(Tz.prototype,Vz);z.e=Tz.prototype;z.e.O=Vz.eC;
z.e.w=function(a){Tz.o.w.call(this,a);var b=this.J;a=this.K=(0,window.$)(a);this.av=(0,window.$)("."+b.CU,a);this.Tu=(0,window.$)("."+b.vM,a);this.LB=(0,window.$)("."+b.VL,a);b=this.av.hasClass(this.J.Ht);a=this.Tu.hasClass(this.J.Ht);b?this.O=Vz.pe:a&&(this.O=Vz.rg);Zz(this);this.av.click(window.$.proxy(this.xu,this));this.Tu.click(window.$.proxy(this.wu,this));return this};z.e.be=function(){return this.O};
z.e.gc=z.nm(function(a){a!==this.O&&z.A.zg(Vz,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.Sh&&"pending"===this.Sh.state()&&this.Sh.abort(),Uz(this,this.O,a),this.O=a,Zz(this),Wz(this).done((0,z.r)(function(a){a.r||this.Jc()},this)))},function(a){var b={};b[Vz.pe]="question_answer_vote_up";b[Vz.rg]="question_answer_vote_down";return{ya:b[a],gd:!0}});z.e.track=function(a){a===Vz.pe?z.fn("vote","voteup","side_vote"):a===Vz.rg&&z.fn("vote","votedown","side_vote")};
z.e.xu=function(){this.gc(this.O===Vz.rg?Vz.pe:this.O^Vz.pe)};z.e.wu=function(){this.gc(this.O===Vz.pe?Vz.rg:this.O^Vz.rg)};z.e.Jc=function(){this.dispatchEvent("change")};z.v($z,z.S);$z.prototype.ga=function(a){$z.o.ga.call(this,a);this.v().g(a,"click",this.QR)};$z.prototype.nM=function(){var a=this.HB;z.Xe(a.m(),this.AJ);z.T.remove(a.m(),this.iq)};$z.prototype.MP='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e\u8d5e\u540c\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e\u53cd\u5bf9\x3c/label\x3e\x3c/div\x3e';
$z.prototype.QR=z.nm(function(){this.Db&&this.Db.H();var a=new z.Ai(null,!1);a.ef=!0;a.jk(!0);a.zE=!0;aA(this);this.v().wa(a,"hide",this.nM);var b=a.aa();b.appendChild(this.HB.m());b.appendChild(z.Ne(this.MP));z.T.add(a.m(),this.vw);a.F(!0);this.Db=a;z.gc(this,a)},!0);z.v(bA,Bz);z.e=bA.prototype;z.e.Lj="post-link";z.e.D=function(){bA.o.D.call(this);cA(this);var a=z.N("zm-votebar",this.h);a&&(this.sb=new Tz(this.Nb,this.entryType),z.gc(this,this.sb),this.sb.w(a),(a=z.N("votenum-mobile",this.h))&&(new $z(this.sb)).w(a));eA(this);this.Cj()};z.e.Ua=function(a){bA.o.Ua.call(this,a)&&(a||cw((0,window.$)(".entry-body",this.h)[0]),this.ou.Ua(a),this.EA(a))};z.e.EA=function(a){var b=this.Dj();b&&z.Vo(b,a)};
z.e.Dj=function(){if(this.yh)return this.yh;var a=!z.Ei,b=z.N("zm-editable-content",this.h),c=this.sb&&this.sb.m();a&&c&&(0,window.$)(c).is(":visible")&&b&&230<(0,window.$)(b).height()&&(a=this.yh=new z.$o(null,b),this.L(a),a.tag="votebar",a.Lz=50,a.w(c))};z.e.Cj=function(){var a=(0,window.$)("a[name\x3dshare]",this.h).get(0),b=(0,window.$)(".post-link",this.h).get(0);a&&b&&wz(a,"post",this.Hg,b.href)};
z.e.es=function(){(0,window.$)(".feed-hide-options",this.h).show().siblings().hide();window.$.post(Kw("/post/uninterest"),{id:this.Nb})};z.e.tF=function(){(0,window.$)(".feed-hide-options",this.h).hide().siblings().show();window.$.post(Kw("/post/undo_uninterest"),{id:this.Nb})};z.e.jF=function(a){a=(0,window.$)(a.currentTarget);var b=a.data();z.Gi(a.attr("title"),Kw("\u786e\u5b9a%s\u5417\uff1f",a.text()),function(a){a&&(this.kF(),window.$.post(Kw("/%s/uninterest",b.type),{id:b.id}))},this)};
z.e.qe=function(){bA.o.qe.call(this);z.Nm(this.Nd.register("v",function(){this.sb&&this.sb.xu()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Nm(this.Nd.register("d",function(){this.sb&&this.sb.wu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Nm(z.Nm(z.Nm(this.Nd.register("o",this.Df,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.Vp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",this.Mx,this),{group:"\u64cd\u4f5c",
name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(hA,Bz);z.e=hA.prototype;z.e.D=function(){hA.o.D.call(this);this.uo()};z.e.Lj="roundtable_link";z.e.es=function(){window.$.post("/roundtable/"+this.Hg,{action:"mute"});this.dispatchEvent({type:"ignore",key:"roundtable-id",value:this.Nb})};z.e.uo=function(){cv(this.h,this.Qj,this)};z.e.Qj=function(){Oz("roundtable",this.Hg,"touch")};z.v(jA,zx);jA.prototype.Zj=function(a){var b=iA(a);this.L(b);b.w(a);b instanceof Pz&&b.Ua(!1)};z.v(kA,z.kk);z.ca(kA);z.e=kA.prototype;
z.e.B=function(){this.tM=!0;this.h=z.P("div",null,[this.RP=z.P("div",null,[this.Ug=z.P("div","zm-favo-list-content"),this.pC=z.P("div","zh-favo-add-new-wrap zm-command",this.TT=z.P("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ \u521b\u5efa\u6536\u85cf\u5939"),this.Wv=z.P("a",{href:"javascript:;","class":"zg-btn-blue"},"\u5173\u95ed")),this.lv=z.P("div","zh-favo-add-new-wrap zm-command",this.FL=z.P("a",{href:"javascript:;","class":""},"\u53d6\u6d88"),this.UT=z.P("a",{"class":"zm-favo-dialog-create zg-btn-blue",
href:"javascript:;"},"\u521b\u5efa\u6536\u85cf\u5939"))]),this.ix=z.P("div",{"class":"zh-favo-add-form",style:"display:none"},[z.P("div",null,["\u6807\u9898",this.kB=z.P("span",{"class":"zh-favo-add-title-error"},"\u8bf7\u586b\u5199\u6807\u9898")]),z.P("div","zg-section",this.Mj=z.P("input",{"class":"zg-form-text-input"})),z.P("div",null,"\u63cf\u8ff0\uff08\u53ef\u9009\uff09"),z.P("div",{"class":"zg-section zg-form-text-input"},this.Tl=z.P("textarea",{"class":"zg-editor-input",style:"height:66px"})),
this.uS=z.P("label",null,[this.yP=z.P("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),z.P("strong",null," \u516c\u5f00 "),z.P("span","zg-gray-normal","\u516c\u5f00\u540e\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u79c1\u5bc6")]),this.IP=z.P("br"),this.rS=z.P("label",null,[this.xP=z.P("input",{type:"radio",value:"private",name:"mode"}),z.P("strong",null," \u79c1\u5bc6 "),z.P("span","zg-gray-normal","\u53ea\u6709\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6536\u85cf\u5939")]),z.P("div","zm-command",
[this.Jw=z.P("label",{href:"javascript:;","class":"zh-favo-error-message-label zg-left"},""),this.YA=z.P("a",{href:"javascript:;","class":"zg-mr10"},"\u53d6\u6d88"),this.dr=z.P("a",{href:"javascript:;","class":"zg-mr10"},"\u5b8c\u6210"),this.jv=z.P("a",{"class":"zg-btn-blue"},"\u786e\u8ba4\u521b\u5efa")])])]);z.R(this.kB,!1);z.R(this.lv,!1);(new z.wn(this.lB)).w(this.Mj);(new z.wn(this.tw)).w(this.Tl);z.y.forEach(this.Sy,function(a){mA(this,a)},this);this.Sy.length||(this.Ug.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6536\u85cf\u5939\uff0c\u5c06\u7b54\u6848\u5206\u7c7b\u6536\u85cf\x3c/div\x3e ',
z.R(this.lv,!0),z.R(this.pC,!1));lA(this);this.Aa.aa().innerHTML="";this.Aa.aa().appendChild(this.h);this.Aa.da()};
z.e.ic=function(){this.hL||(this.hL=!0,this.v().g(this.YA,"click",function(){this.pa?qA(this,0):tA(this)}).g(this.TT,"click",function(){z.X.sa({type:"ga_click_add_collection"});qA(this,1)}).g(this.Wv,"click",function(){tA(this)}).g(this.UT,"click",function(){z.X.sa({type:"ga_click_add_collection"});qA(this,1)}).g(this.FL,"click",function(){tA(this)}).g(this.dr,"click",function(){tA(this)}).g(this.jv,"click",this.Yg).g(this.Ug,"click",this.tR).g(this.Mj,"change",function(){z.R(this.kB,!1)}))};
z.e.tR=function(a){var b=z.yf(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.T.has(b,"zm-favo-list-item-link-active")?(c=!0,this.HD=a):this.ED=a;b=new z.dn;b.add("answer_id",this.pa);b.add("favlist_id",a);this.sA=new z.V(!0);this.locked=!0;this.v().wa(this.sA,"complete",this.BK);this.sA.ajax(c?"/collection/remove":"/collection/add",b.Vc())}};
z.e.BK=function(){this.locked=!1;this.Wv.innerHTML="\u5173\u95ed";var a=z.fe(this.sA);a&&!a.r?(a=z.Ce("zm-favo-list-item-link",this.Ug),z.y.forEach(a,function(a){var c=a.getAttribute("data-lid"),d=z.N("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.HD?(d.innerHTML=f-1+"",z.T.remove(a,"zm-favo-list-item-link-active")):c===this.ED&&(d.innerHTML=f+1+"",z.T.add(a,"zm-favo-list-item-link-active"))},this),this.ED=this.HD=null,z.fn("Favorite","add_favorite")):z.U("\u6dfb\u52a0\u5931\u8d25: "+a.msg)};
z.e.ak=function(){this.ic();this.Wv.innerHTML="\u5173\u95ed";this.pa?(z.R(this.dr,!1),qA(this,0)):(qA(this,1),z.R(this.YA,!1),this.dr.innerHTML="\u53d6\u6d88")};z.e.show=function(a){a?(pA(this),this.Aa.F(!0),this.ak()):(lA(this,"\u6dfb\u52a0\u5230\u6536\u85cf\u5939",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e\u6536\u85cf\u5939\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.Aa.F(!0),this.Vr())};
z.e.Vr=function(){this.pa&&window.$.get("/collections/json",{answer_id:this.pa}).done((0,z.r)(this.eR,this))};z.e.eR=function(a){a&&!a.r&&(this.Sy=a.msg[0],this.$s=a.msg[1],pA(this),this.ak())};
z.e.Yg=function(){if(!this.xhr||!this.xhr.Ub()){(0,window.$)(this.Jw).text("").hide();var a=z.Rm(this.Mj.value);if(a&&a!==this.lB){a=rA(this);this.pa&&a.add("answer_id",this.pa);if(this.Ql){if(this.ZO.Vc()===a.Vc()){tA(this);return}a.add("favlist_id",this.GD[0])}this.xhr=new z.V(!0);vA(this,this.xhr,this.jv,this.Ql);this.v().wa(this.xhr,"complete",this.tK);this.xhr.ajax(this.Ql?"/collection/update":"/collection/create",a.Vc())}else z.R(this.kB,!0)}};
z.e.tK=function(){var a=z.fe(this.xhr);a&&!a.r?this.Ql?(tA(this),z.U("\u7f16\u8f91\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Ql=!1):this.pa?(z.R(this.lv,!1),z.R(this.pC,!0),qA(this,0),this.$s.push(a.msg[0]),mA(this,a.msg,!0),this.Mj.value="",this.Tl.value=""):(tA(this),z.U("\u521b\u5efa\u6210\u529f"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):wA(this.Jw,this.Ql,a.msg)};z.e.T=function(){return this.Aa.T()};var uA="close";
kA.prototype.gf=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.r)(function(){return"\u4f60\u5bf9\u6536\u85cf\u5939\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};kA.prototype.Mf=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.v(AA,z.H);AA.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.xb;if("mousewheel"==a.type){c=1;if(z.C||z.D&&(z.Bm||z.E("532.0")))c=40;d=BA(-a.wheelDelta,c);z.ba(a.wheelDeltaX)?(b=BA(-a.wheelDeltaX,c),c=BA(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ba(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.ha(this.EG)&&(b=ww(b,-this.EG,this.EG));z.ha(this.FG)&&(c=ww(c,-this.FG,this.FG));this.AP&&(b=-b);b=new CA(d,a,b,c);this.dispatchEvent(b)};
AA.prototype.C=function(){AA.o.C.call(this);z.Uc(this.qG);this.qG=null};z.v(CA,z.vc);z.v(DA,z.H);z.e=DA.prototype;z.e.ke=0;z.e.Oo=0;z.e.Lo=100;z.e.Nn=0;z.e.pk=1;z.e.UF=!1;z.e.nt=!1;z.e.Ea=function(a){a=EA(this,a);this.ke!=a&&(this.ke=a+this.Nn>this.Lo?this.Lo-this.Nn:a<this.Oo?this.Oo:a,this.UF||this.nt||this.dispatchEvent("change"))};z.e.W=function(){return EA(this,this.ke)};z.e.du=function(a){a=EA(this,a);this.Nn!=a&&(this.Nn=0>a?0:this.ke+a>this.Lo?this.Lo-this.ke:a,this.UF||this.nt||this.dispatchEvent("change"))};
z.e.Yh=function(){var a=this.Nn;return null==this.pk?a:Math.round(a/this.pk)*this.pk};z.e.Hc=function(){return EA(this,this.Oo)};z.e.Uc=function(){return EA(this,this.Lo)};z.e.Xn=function(){return this.pk};z.v(FA,z.S);z.e=FA.prototype;z.e.Hb="horizontal";z.e.Ks=!1;z.e.pQ=!1;z.e.Gf=10;z.e.kt=0;z.e.XF=!0;z.e.lt=0;z.e.aK=1E3;z.e.kc=!0;z.e.Zd=!1;z.e.B=function(){FA.o.B.call(this);var a=this.M().B("DIV",this.R(this.Hb));this.ga(a)};z.e.ga=function(a){FA.o.ga.call(this,a);z.Jg(a,this.R(this.Hb));a=this.m();var b=z.Ae(null,"goog-slider-thumb",a)[0];b||(b=this.M().B("DIV","goog-slider-thumb"),z.Ag(b,"button"),a.appendChild(b));this.ab=this.Bd=b;z.Ag(this.m(),"slider");VA(this)};
z.e.D=function(){FA.o.D.call(this);this.je=new z.Ih(this.ab);this.Tf=new z.Ih(this.Bd);this.je.Pf(this.Zd);this.Tf.Pf(this.Zd);this.je.pw=this.Tf.pw=z.m;this.vb=new z.tj(this.m());GA(this,!0);this.m().tabIndex=0;PA(this)};z.e.Eb=function(){FA.o.Eb.call(this);z.jc(this.je,this.Tf,this.vb,this.Tj)};
z.e.Zr=function(a){var b=a.Dr==this.je?this.ab:this.Bd,c;"vertical"==this.Hb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Uc()-this.Hc())+this.Hc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Uc()-this.Hc())+this.Hc();c=a.Dr==this.je?Math.min(Math.max(c,this.Hc()),this.W()+this.Yh()):Math.min(Math.max(c,this.W()),this.Uc());NA(this,b,c)};
z.e.ls=function(a){var b="start"==a.type;z.Ng(this.m(),"goog-slider-dragging",b);z.Ng(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Dr==this.je;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.nf=function(a){var b=!0;switch(a.keyCode){case 36:TA(this,this.Hc());break;case 35:TA(this,this.Uc());break;case 33:LA(this,this.Gf);break;case 34:LA(this,-this.Gf);break;case 37:var c=this.Zd&&this.Gd()?1:-1;LA(this,a.shiftKey?c*this.Gf:c*this.bq);break;case 40:LA(this,a.shiftKey?-this.Gf:-this.bq);break;case 39:c=this.Zd&&this.Gd()?-1:1;LA(this,a.shiftKey?c*this.Gf:c*this.bq);break;case 38:LA(this,a.shiftKey?this.Gf:this.bq);break;default:b=!1}b&&a.preventDefault()};
z.e.hs=function(a){this.m().focus&&this.m().focus();var b=a.target;z.ff(this.ab,b)||z.ff(this.Bd,b)||(b="click"==a.type,b&&(0,z.x)()<this.lt+this.aK||(b||(this.lt=(0,z.x)()),this.pQ?TA(this,JA(this,a)):(this.$A(a),this.Te=OA(this,JA(this,a)),this.HF="vertical"==this.Hb?this.Ts<this.Te.offsetTop:this.Ts>SA(this,this.Te)+this.Te.offsetWidth,a=z.ye(this.m()),this.v().g(a,"mouseup",this.ZA,!0).g(this.m(),"mousemove",this.$A),this.fi||(this.fi=new z.$c(200),this.v().g(this.fi,z.Qk,this.oF)),this.oF(),
this.fi.start())))};z.e.dF=function(a){LA(this,(0<a.detail?-1:1)*this.bq);a.preventDefault()};z.e.oF=function(){var a;if("vertical"==this.Hb){var b=this.Ts,c=this.Te.offsetTop;this.HF?b<c&&(a=KA(this,this.Te)+this.Gf):b>c+this.Te.offsetHeight&&(a=KA(this,this.Te)-this.Gf)}else b=this.Ts,c=SA(this,this.Te),this.HF?b>c+this.Te.offsetWidth&&(a=KA(this,this.Te)+this.Gf):b<c&&(a=KA(this,this.Te)-this.Gf);z.ba(a)&&NA(this,this.Te,a)};
z.e.ZA=function(){this.fi&&this.fi.stop();var a=z.ye(this.m());this.v().na(a,"mouseup",this.ZA,!0).na(this.m(),"mousemove",this.$A)};z.e.$A=function(a){this.Ts=IA(this,a)};z.e.Hc=function(){return this.zb.Hc()};z.e.Uc=function(){return this.zb.Uc()};z.e.iF=function(){PA(this);VA(this);this.dispatchEvent("change")};z.e.DM=function(){this.Ks=!1};
z.e.setOrientation=function(a){if(this.Hb!=a){var b=this.R(this.Hb),c=this.R(a);this.Hb=a;this.m()&&(a=this.m(),z.Ig(a,b)&&(z.Lg(a,b),z.Jg(a,c)),b=this.Zd&&this.Gd()?"right":"left",this.ab.style[b]=this.ab.style.top="",this.Bd.style[b]=this.Bd.style.top="",this.Wb&&(this.Wb.style[b]=this.Wb.style.top="",this.Wb.style.width=this.Wb.style.height=""),PA(this))}};
z.e.C=function(){FA.o.C.call(this);this.fi&&this.fi.H();delete this.fi;this.pr&&this.pr.H();delete this.pr;delete this.ab;delete this.Bd;this.Wb&&delete this.Wb;this.zb.H();delete this.zb;this.vb&&(this.vb.H(),delete this.vb);this.Tj&&(this.Tj.H(),delete this.Tj);this.je&&(this.je.H(),delete this.je);this.Tf&&(this.Tf.H(),delete this.Tf)};z.e.bq=1;z.e.Xn=function(){return this.zb.Xn()};z.e.W=function(){return this.zb.W()};z.e.Ea=function(a){NA(this,this.ab,a)};z.e.Yh=function(){return this.zb.Yh()};
z.e.du=function(a){NA(this,this.Bd,this.zb.W()+a)};z.e.F=function(a){z.R(this.m(),a);a&&PA(this)};z.e.Ya=function(a){this.kc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.kc=a,GA(this,a),a||this.ZA(),z.Ng(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.kc};z.v(WA,FA);WA.prototype.R=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.v(XA,z.S);z.e=XA.prototype;z.e.defaults={rD:310,sD:310,ng:250,og:250,fQ:2,opacity:.25,nX:"#eee"};z.e.ga=function(a){XA.o.ga.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.Sm=(this.options.rD-this.options.ng)/2;this.options.Rm=(this.options.sD-this.options.og)/2;this.mr()};
z.e.mr=function(){var a=this.options;this.KB=(0,window.$)((0,z.Gp)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"\u62d6\u52a8\u76f8\u7247"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.sD,
containerHeight:a.rD,windowHeight:a.ng,windowWidth:a.og,windowMarginTop:a.Sm,windowMarginLeft:a.Rm,src:a.src,opacity:a.opacity}));this.cc=this.KB[0];this.KB.insertBefore(this.h);z.R(this.h,!1);this.TL=z.N("avatar-editor-container-inner",this.cc);this.ws=z.N("outer",this.cc);this.ey=z.N("inner",this.cc);this.Vm=(0,window.$)(this.ws);this.Vu=(0,window.$)(this.ey);this.FF=0;this.Vm.load((0,z.r)(this.hJ,this));this.Vu.load((0,z.r)(this.hJ,this));this.ey.src=this.ws.src=this.options.src;this.PT=z.N("goog-slider",
this.cc)};
z.e.D=function(){this.RA=new WA;this.RA.w(this.PT);this.v().g(this.TL,["mousedown","touchstart"],function(a){var b=new z.Ih(this.cc);b.addEventListener("drag",(0,z.r)(function(a){var b=this.zoom;this.Ke={jq:this.options.og/b,Yn:this.options.ng/b,x:(this.options.Rm-(this.NF.left+(a.clientX-this.ku)))/b,y:(this.options.Sm-(this.NF.top+(a.clientY-this.lu)))/b};$A(this)},this));b.addEventListener("end",(0,z.r)(function(){b.H()},this));b.Jm(a);this.Jm(a)});this.v().g(this.cc,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.v().g(this.RA,"change",function(){var a=this.RA.W(),b=this.MJ;YA(this,(this.bV-b)*a/100+b)})};z.e.hJ=function(){this.YO||(this.ey.complete&&this.ws.complete?this.init():(this.FF++,2<=this.FF&&this.init()))};z.e.init=function(){this.vs=this.Vm.width();this.us=this.Vm.height();var a=this.options.og/this.vs,b=this.options.ng/this.us;this.MJ=a=b>a?b:a;this.bV=this.MJ*this.options.fQ;this.Ke={Yn:this.options.og/a,jq:this.options.ng/a,x:0,y:0};YA(this,a);ZA(this,this.vs/2,this.us/2);this.YO=!0};
z.e.Jm=function(a){this.ku=a.clientX;this.lu=a.clientY;this.NF=this.Vu.position();this.Vm.position()};z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.v(aB,z.S);var bB=1;z.e=aB.prototype;z.e.ga=function(a){this.h=a;this.B()};
z.e.B=function(){this.wB=z.Zr.Bu+"/upload_avatar";this.yk=(0,window.$)((0,z.Gp)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.wB,
type:this.Nq,dest_id:this.Nq===bB?z.Y[3]:this.lE,return_size:this.jI}));this.SJ=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.SJ.appendTo(window.document.body);this.input=this.yk.find("input[type\x3dfile]")[0];z.C?(this.yk.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.yk),this.yk.addClass("avatar-editor-form-ie")):(this.yk.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.v().g(this.input,"change",this.Jc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.v().g(z.X,"iframe_data",function(a){(a=a.wf)&&!a.r?"upload"===a.handle_mode?(this.Ll=a.url,this.dy=a.id,cB()||this.$o()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.BD(a)):z.U(a.msg)})};
z.e.Jc=function(a){dB(this);a=this.input=a.target;if(cB()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.r)(function(a){this.Ll=a.target.result;this.$o()},this);b.readAsDataURL(a)}}else this.yk[0].submit();gB(this)};z.e.$o=function(){var a=this.bf.aa();this.cy=new window.Image;this.cy.src=this.Ll;a=(0,window.$)(a);a.html("");a.append(this.cy);this.hw=new XA;this.hw.w(this.cy)};
z.e.BD=function(a){a&&!a.r?this.data=a:z.U(a.msg);this.dispatchEvent({type:"success",src:this.data});this.bf.F(!1)};z.e.getData=function(){return this.data||null};z.e.ml=function(a){return this.data?this.data.url.replace(/(\.\w+)$/,"_"+a+"$1"):""};z.v(iB,z.S);z.e=iB.prototype;z.e.ga=function(a){iB.o.ga.call(this,a);this.ne=(0,window.$)("input",a);this.wd=(0,window.$)(".zm-profile-details-items",this.h);this.vq=[];var b=this;b.vq=this.ne.map(function(){var a=new kB("/topic/autocomplete",this,b.bS||(0,window.$)(this).parents(".topic-input-wrap")[0]);a.cn=!1;var d=(0,z.r)(b.filter,b);a.filter=d;return a});this.rm()};
z.e.D=function(){this.v().g(z.N("add",this.h),"click",this.add);var a=this;this.ne.each(function(){a.v().g(this,"keydown",function(a){this.keydown(a)})});z.y.forEach(this.vq,function(b){a.v().g(b.N,z.yk,a.select)});this.wd.on("click","[name\x3d'del']",window.$.proxy(this.remove,this));this.rm()};
z.e.rm=function(){if(!z.Zr.ob){var a=this;this.Nf&&this.Nf.H();var b=new Gv;b.Er=(0,z.Ya)("profile-edit-item-moving").split(" ");Hv(b,this.wd[0],0);b.init();this.Nf=b;(0,window.$)('a, input, [role\x3d"button"]',this.wd).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})})}};z.e.keydown=function(a){13===a.keyCode&&(0,window.setTimeout)((0,z.r)(function(){jB(this)&&this.add();this.ne[0].value&&this.ne[1]&&!this.ne[1].value&&this.ne[1].focus()},this));return!0};
z.e.qp=function(){z.y.forEach(this.ne,function(a){a.value=""});this.ne[0].focus()};z.e.select=function(){jB(this)&&this.add()};z.e.add=function(){var a=(0,z.Ya)(this.ne[0].value),b={title:a,member_url_token:z.Tp["1"]};if(this.ne[1]){var c=(0,z.Ya)(this.ne[1].value);if(!a&&!c)return;b.sub_title=c}Nv("ProfileEditItemV2",b,this.xQ,this)};
z.e.xQ=function(a){a=(0,window.$)(a);var b;if(a.data("title")){if(b=this.wd.find("[data-title\x3d'"+a.data("title")+"']")[0]){z.Wm(b);this.qp();return}}else if(a.data("sub-title")&&(b=this.wd.find("[data-sub-title\x3d'"+a.data("sub-title")+"']")[0])){z.Wm(b);this.qp();return}this.wd.append(a);this.rm();this.qp();this.dispatchEvent("add")};z.e.remove=function(a){(0,window.$)(a.target).parents("li").remove();this.dispatchEvent("remove")};
iB.prototype.filter=function(a){return z.y.filter(a,function(a){return!this.wd.find("[data-title\x3d'"+a+"']")[0]},this)};z.v(kB,z.Jl);kB.prototype.qm=function(a,b){a=a[0].slice(1);a=z.y.filter(a,function(a){return 3<a.length});a=z.y.map(a,function(a){return a[1]});this.filter&&(a=this.filter(a));kB.o.qm.call(this,a,b)};z.v(lB,z.S);z.e=lB.prototype;z.e.ga=function(a){lB.o.ga.call(this,a);mB(this);this.X=[];var b=this;(0,window.$)(".editable-group",this.h).each(function(){var a=new iB;b.X.push(a);a.w(this)});a=z.M("zm-profile-edit-submit");this.v().g(a,"click",this.Bz);(0,window.$)(this.h).on("change","input, textarea, select",function(){b.gf()})};
z.e.D=function(){lB.o.D.call(this);z.nm(z.m,!0)();var a=z.M("zm-profile-progress-anim"),b=new nB;b.addEventListener("update",function(){var c=100*b.W()|0;10>c&&(c=10);a.style.width=a.innerHTML=c+"%"});z.y.forEach(this.X,function(a,c){b.watch({name:"name"+c,target:a,Vh:["add","remove"],Nh:function(){return!!a.wd.children().length}})},this);var c=this.h,d=z.M("zm-profile-edit-male"),f=z.M("zm-profile-edit-female"),g=z.M("zm-profile-edit-description"),h=(0,window.$)(".business-selection select")[0],
l=z.M("zm-profile-edit-expert-disable");b.watch({name:"expert_progress",target:z.M("zm-profile-edit-expert-enable"),Vh:["change"],Nh:function(){return null!==yA(c,"enable_expert")}}).watch({name:"expert_progress",target:l,Vh:["change"],Nh:function(){return null!==yA(c,"enable_expert")}}).watch({name:"gender_progress",target:d,Vh:["change"],Nh:function(){return null!==yA(c,"gender")}}).watch({name:"gender_progress",target:f,Vh:["change"],Nh:function(){return null!==yA(c,"gender")}}).watch({name:"desc_progress",
target:g,Vh:["blur"],Nh:function(){return!!(0,z.Ya)(g.value)}}).watch({name:"business_progress",target:g,Vh:["blur"],Nh:function(){return!!(0,z.Ya)(g.value)}}).watch({name:"headline_progress",target:h,Vh:["blur"],Nh:function(){return!!(0,z.Ya)(h.value)}})};z.e.gf=function(){(0,window.$)(window).on("beforeunload.profileedit",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Mf=function(){(0,window.$)(window).off("beforeunload.profileedit")};
z.e.Bz=z.nm(function(){var a=(0,window.$)("#zm-profile-edit-male").is(":checked")?1:0,b=(0,window.$)("#zm-profile-edit-headline").val(),c=(0,window.$)("#zm-profile-edit-description").val(),d=(0,window.$)(".business-selection select").val(),f=[];(0,window.$)("#zm-profile-edit-loc-container").children().each(function(){f.push((0,window.$)(this).data("title"))});var g=[];(0,window.$)("#zm-profile-edit-co-container").children().each(function(){var a=(0,window.$)(this);g.push([a.data("title"),a.data("sub-title")||
""])});var h=[];(0,window.$)("#zm-profile-edit-edu-container").children().each(function(){var a=(0,window.$)(this);h.push([a.data("title"),a.data("sub-title")||""])});var l=(0,window.$)("#zm-profile-edit-weibo-enable").is(":checked")?1:0,n=(0,window.$)("#zm-profile-edit-expert-enable").is(":checked")?1:0,a=z.A.filter({gender:a,headline:b,description:c,location:f,business:d,employment:g,education:h,enable_weibo:l,enable_expert:n},fv);zA(a,(0,z.r)(function(){this.Mf();window.location.href="/people/"+
z.Y[1]+"/about"},this),function(a){z.U(z.fa(a)?a[0][1]:a)})},!0);z.v(nB,z.H);nB.prototype.update=function(a,b){this.FH[a]=b;this.dispatchEvent({type:"update"});return this};nB.prototype.watch=function(a){var b=(0,z.r)(function(){this.update(a.name,a.Nh())},this);z.G(a.target,a.Vh,b);b();return this};nB.prototype.W=function(){var a=z.A.Oa(this.FH);return a.length&&z.y.filter(a,Boolean).length/a.length};z.v(oB,z.S);oB.prototype.ga=function(a){oB.o.ga.call(this,a);this.K=(0,window.$)(a);this.K.on("click",'a[href^\x3d"javascript"]',window.$.proxy(this.Ma,this));this.K.on("click",'a[href^\x3d"javascript"], input',!1);this.K.on("click",".item",window.$.proxy(this.PR,this))};oB.prototype.PR=function(a){var b=(0,window.$)(a.currentTarget),c=b.data("href"),b=c&&!b.hasClass(this.Zi);a=a.metaKey||a.ctrlKey;b&&(a?window.open(c):window.location.href=c)};
oB.prototype.Ma=function(a){var b=(0,window.$)(a.currentTarget),c=b.closest(".item");a=b.attr("name");if("edit"===a)b.closest(".description").hide().siblings(".description-edit").show().find("input").focus().closest(".item").addClass(this.Zi).closest(".skilled-topics").addClass(this.Zi),pB(this,c);else if("cancel"===a)b.closest(".description-edit").hide().siblings(".description").show().closest(".item").removeClass(this.Zi).closest(".skilled-topics").removeClass(this.Zi),pB(this,c,!0);else if("save"===
a){var d=new z.V(!0);this.v().g(d,"success",function(){var a=z.fe(d);a.r?z.U(a.msg):(b.closest(".description-edit").hide().siblings(".description").show().children(".des").text(a.msg).siblings(".edit").addClass("zu-edit-button").children(".edit-msg").html("\u4fee\u6539").closest(".item").removeClass(this.Zi).closest(".skilled-topics").removeClass(this.Zi),pB(this,c,!0))});d.ajax("/topic/bio/update","tid\x3d"+b.closest(".item").data("id")+"\x26bio\x3d"+b.parent().siblings("input").val(),"POST")}};z.v(qB,z.S);
qB.prototype.ga=function(a){qB.o.ga.call(this);if(a){this.K=(0,window.$)(a);var b=(0,window.$)(".avatar",this.K);(0,window.$)(".editable-group",this.K).each(function(){(new rB).w(this)});(a=z.M("profile-header-description-input"))&&new z.pn(a);if((a=z.N("zm-profile-header-avatar-container"))&&z.T.has(a,"self")){var c=new aB(bB);c.w(a);this.v().g(c,"beforepost",function(){b.parent().append((0,window.$)('\x3cdiv class\x3d"avatar-edit-preview-loading"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e'))});this.v().g(c,
"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:c.getData().url}}},function(a){if(a&&a.r){(0,window.$)(".avatar-edit-preview-loading").remove();for(var f="\u66f4\u65b0\u5931\u8d25",g=0;g<a.msg.length;++g){var h=a.msg[g];if(2<=h.length&&"avatar_path"===h[0]){f=h[1];break}}z.U(f)}else(0,window.$)(".avatar-edit-preview-loading").remove(),b.attr({src:c.ml("l"),srcset:c.ml("xl")+" 2x"})})})}}};z.v(rB,z.S);
rB.prototype.ga=function(a){rB.o.ga.call(this);this.K=(0,window.$)(a);this.me=(0,window.$)(".info-wrap",this.K);this.Pd=(0,window.$)(".edit-wrap",this.K);(0,window.$)(".title",this.me);this.Wu=(0,window.$)("input",this.Pd)};
rB.prototype.D=function(){rB.o.D.call(this);this.K.on("click","[name\x3d'edit']",z.nm(window.$.proxy(function(){this.K.addClass("editing");var a=this.Pd.find("input").get(0);a?a.focus():(a=this.Pd.find("textarea").get(0))&&a.focus()},this),!0));var a=this;this.vq=[];(0,window.$)("input[type\x3dtext]",this.K).each(function(){var b=new kB("/topic/autocomplete",this,(0,window.$)(this).parents(".topic-input-wrap")[0]);a.vq.push(b)});this.Pd.on("keydown","input",function(a){13===a.keyCode&&(0,window.setTimeout)(function(){var b=
(0,window.$)(a.target),f=b.parents(".edit-wrap").children().index(b.parent()),g=b.parents(".edit-wrap").find("input, select").get(f+1),f=b.parents(".edit-wrap").find("input, select").get(f-1);b.val()&&(g?g.focus():f&&!(0,window.$)(f).val()&&f.focus())})});this.Pd.on("click","[name\x3d'cancel'], [name\x3d'save']",window.$.proxy(function(a){a=a.target.name;"cancel"===a?this.cancel():"save"===a&&this.save()},this));var b=(0,window.$)(".fold-wrap");b.click(function(a){"fold"===a.target.name?b.addClass("fold"):
"unfold"===a.target.name&&b.removeClass("fold")})};
rB.prototype.save=function(){var a=this,b=this.K.data("name");if("location"===b){var b=this.Pd.find("input.location"),c=this.Pd.find("select"),d=this.Pd.find("input.male").is(":checked")?1:0;window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{location:[b.val()],business:c.val(),gender:d}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.location[0].html||(b.location[0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5c45\u4f4f\u5730\x3c/a\x3e"),b.business.html||
(b.business.html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u884c\u4e1a\x3c/a\x3e"),a.me.find("span.location").attr("title",b.location[0].text).html(b.location[0].html),a.me.find("span.business").attr("title",b.business.text).html(b.business.html),b=1===(0,window.parseInt)(b.gender,10)?"male":"female",a.me.find("span.gender i").removeClass("icon-profile-female icon-profile-male").addClass("icon-profile-"+b),a.cancel())})}else"employment"===b?(c=
this.Pd.find("input.employment"),b=this.Pd.find("input.position"),c=c.val(),b=b.val(),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{employment:[[c,b]]}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.employment[0][0].text||b.employment[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.employment[0][0].html||(b.employment[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u516c\u53f8\u4fe1\u606f\x3c/a\x3e"),b.employment[0][1].html||
(b.employment[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u804c\u4f4d\x3c/a\x3e"),a.me.find(".employment").attr("title",b.employment[0][0].text).html(b.employment[0][0].html),a.me.find(".position").attr("title",b.employment[0][1].text).html(b.employment[0][1].html),a.cancel())})):"education"===b?(c=[this.Pd.find("input.education"),this.Pd.find("input.education-extra")],b=c[0].val(),c=c[1].val(),window.$.post("/node/ProfileHeaderV2",{method:"save",
params:{data:{education:[[b,c]]}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.education[0][0].text||b.education[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.education[0][0].html||(b.education[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5b66\u6821\u4fe1\u606f\x3c/a\x3e"),b.education[0][1].html||(b.education[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e13\u4e1a\x3c/a\x3e"),
a.me.find(".education").attr("title",b.education[0][0].text).html(b.education[0][0].html),a.me.find(".education-extra").attr("title",b.education[0][1].text).html(b.education[0][1].html),a.cancel())})):"description"===b&&(b=this.Pd.find("textarea.description"),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{description:b.val()}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.description.text?a.K.removeClass("empty"):(b.description.fold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",
b.description.unfold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",a.K.addClass("empty")),a.me.find(".fold-item .content").empty().html(b.description.fold_html),a.me.find(".unfold-item .content").html(b.description.unfold_html),b.description.shortened?a.me.removeClass("disable-fold"):a.me.addClass("disable-fold"),a.cancel())}))};rB.prototype.cancel=function(){this.K.removeClass("editing")};z.v(sB,z.kk);z.e=sB.prototype;z.e.init=function(a){this.cc=a;this.v().g(a,"click",this.Ma);this.refresh()};z.e.xi=function(a){this.Sg=a};
z.e.Ma=function(a){if(a.target){var b=z.cn(this.cc,a.target);b&&(this.type=b.getAttribute("data-type"),this.id=b.getAttribute("data-id"),this.action=b.name,this.item=z.Af(a.target,this.Sg),this.type&&this.id&&this.action&&this.item&&!this.KJ&&(this.KJ=!0,this.xhr=new z.V(!0),this.v().g(this.xhr,"complete",this.Xg),this.xhr.ajax("/people/"+("top"===this.action?"pin":"unpin")+"_"+this.type,this.type+"_id\x3d"+this.id,"POST")))}};
z.e.Xg=function(){if("cancel-top"===this.action)z.Pm(this.item,!0);else if("top"===this.action){var a=z.Ce(this.Sg,this.cc);z.jh(this.item);a&&2<=a.length&&z.Ue(z.Q(this.item),z.N(this.Sg,this.cc));this.scroll();z.Wm(this.item);a=z.N("zm-item-top-btn-top",this.item);z.R(a,!1);a=z.N("zm-item-top-btn-cancel",this.item);z.R(a,!0);this.refresh()}this.KJ=!1};z.e.scroll=function(){if(this.hT){var a=z.N("zm-profile-section-wrap"),b=z.Df(z.L((z.t||window).document)).y;a&&0>z.jh(a).y-b&&a.scrollIntoView()}};
z.e.refresh=function(){var a=z.Ce(this.Sg,this.cc);a&&0<a.length&&z.y.forEach(a,function(a,c){if(0!==c){var d=z.N("zm-item-top-btn-top",a);d&&z.R(d,!0)}},this)};z.v(uB,z.S);uB.prototype.D=function(){this.v().g(this.h,"click",this.Ma)};uB.prototype.Ma=function(a){var b=z.cn(this.h,a.target);this.tn&&this.tn(b);b&&b.name&&"focus"===b.name&&(0,z.cu)(b,this.gx,function(){b.getAttribute("data-followme")&&(z.T.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$\u5bf9\u65b9\u5df2\u5173\u6ce8\u4f60"):b.setAttribute("data-tip","s$b$\u5df2\u4e92\u76f8\u5173\u6ce8"))},this.ex,{xW:"question"===this.gx?"\u5173\u6ce8\u95ee\u9898":null})};
uB.prototype.xI=function(a){this.tn=a};z.v(z.vB,z.H);z.vB.prototype.handleEvent=function(a){if("input"==a.type)z.C&&z.E(10)&&0==a.keyCode&&0==a.charCode||(wB(this),this.dispatchEvent(xB(a)));else if("keydown"!=a.type||vw(a)){var b="keydown"==a.type?this.h.value:null;z.C&&229==a.keyCode&&(b=null);var c=xB(a);wB(this);this.ma=z.bd(function(){this.ma=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.vB.prototype.C=function(){z.vB.o.C.call(this);this.S.H();wB(this);delete this.h};z.v(yB,z.H);var zB=0;yB.prototype.sz=function(){this.Rk()};yB.prototype.Rk=function(){var a=this.Uh.value.length;if(a>this.ht){var b=this.Uh.scrollTop,c=this.Uh.scrollLeft;this.Uh.value=this.Uh.value.substring(0,this.ht);a=this.ht;this.Uh.scrollTop=b;this.Uh.scrollLeft=c}this.fE&&z.lf(this.fE,String(1==this.rM?a:this.ht-a))};yB.prototype.C=function(){yB.o.C.call(this);delete this.Uh;this.sy.H();this.sy=null};var HB;z.v(AB,z.kk);z.e=AB.prototype;z.e.init=function(){this.Is||(this.Is=!0,this.B(),this.ic())};z.e.ic=function(){z.C||(new z.wn("\u641c\u7d22\u95ee\u9898")).w(this.ad);this.X=new z.Fn("/redirect-question/autocomplete",this.ad,null,null,z.M("zh-question-redirect-diag-content"),!1);this.X.cn=!1;this.X.jg(!0);this.v().g(this.X,"suggestionsupdate",z.nn);this.v().g(this.X,"select",this.vR).g(this.jL,"click",function(){this.Aa.F(!1)})};
z.e.vR=function(){var a=this.X.mj();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.ad.value="";var b=a[3],a=a[1];this.Aa.F(!1);this.ad.value="";this.xhr=new z.V(!0);this.v().wa(this.xhr,"complete",this.CK);this.xhr.ajax("/question/redirect","qid\x3d"+this.oa+"\x26rqid\x3d"+b);this.Vt=b;this.PH=a}};
z.e.CK=function(){var a=z.fe(this.xhr);a&&(a.r?z.U(a.msg):this.Mi?(this.Mi.innerHTML="\u5df2\u7ecf\u91cd\u5b9a\u5411",this.Mi.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.P("div",{id:"zh-question-redirect-diag"},["\u5c06\u95ee\u9898\u8df3\u8f6c\u81f3",z.P("div",{id:"zh-question-redirect-diag-content"},this.ad=z.P("input",{type:"text","class":"zg-form-text-input"})),z.P("div","zm-command",this.jL=z.P("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"\u653e\u5f03\u64cd\u4f5c"))]);this.Aa=new z.Ai(null,!1);this.Aa.jb("\u95ee\u9898\u91cd\u5b9a\u5411");z.ui(this.Aa,null);this.Aa.aa().appendChild(this.h)};
z.e.show=function(){this.init();this.Aa.F(!0)};var EB={},EB=function(){z.H.call(this)};z.v(EB,z.kk);
EB.cv=[["\u9700\u8981\u8be6\u7ec6\u9610\u8ff0","\u7b54\u6848\u8fc7\u4e8e\u7b80\u77ed\u6216\u8868\u8ff0\u4e0d\u6e05\u6670\uff0c\u8bf7\u5b8c\u5584\u7b54\u6848\u3002"],["\u7b54\u975e\u6240\u95ee","\u6ca1\u6709\u6b63\u9762\u6216\u76f4\u63a5\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5e94\u4f5c\u4e3a\u95ee\u9898\u7684\u8bc4\u8bba","\u8be5\u5185\u5bb9\u662f\u5bf9\u95ee\u9898\u672c\u8eab\u7684\u8bc4\u8bba\u800c\u4e0d\u662f\u56de\u7b54\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5e94\u4f5c\u4e3a\u7b54\u6848\u7684\u8bc4\u8bba",
"\u8be5\u5185\u5bb9\u662f\u5bf9\u53e6\u5916\u4e00\u4e2a\u7b54\u6848\u7684\u8bc4\u8bba\u6216\u56de\u5e94\uff0c\u800c\u4e0d\u662f\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5185\u5bb9\u91cd\u590d","\u4e0e\u5df2\u6709\u7b54\u6848\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5185\u5bb9\u5df2\u8fc7\u671f","\u7b54\u6848\u7684\u65f6\u6548\u6027\u5df2\u8fc7\uff0c\u8bf7\u66f4\u65b0\u7b54\u6848\u3002"],["\u9700\u8981\u6ce8\u660e\u5173\u8054\u5229\u76ca",
"\u6709\u5e7f\u544a\u3001\u63a8\u9500\u5acc\u7591\uff0c\u8bf7\u6ce8\u660e\u4f5c\u8005\u4e0e\u5229\u76ca\u65b9\u7684\u5173\u7cfb\u3002"]];EB.Ej=null;EB.U=function(){EB.Ej||(EB.Ej=new EB,EB.Ej.init());return EB.Ej};z.e=EB.prototype;z.e.init=function(){if(!this.h){this.B();this.ic();var a=new z.Jq(this.h);z.ci(a);a.yF=!0;a.jk(!0);a.F(!1);a.Tz=0;a.T()&&a.da();z.Tu(a,new z.Sg(13,0,0,-22));this.Sz=a}};z.e.ic=function(){this.v().g(this.h,"click",this.sR)};
z.e.sR=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.bM.wW(a),this.Sz.F(!1))};
z.e.B=function(){var a=z.P("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.P("div","zg-r5px zu-hovercard-inner",[z.P("div",{id:"zh-answer-flag-popup-header"},[z.P("a",{"class":"zg-right",href:"/question/19867017",target:"_blank"},"\u8fd9\u662f\u4ec0\u4e48\uff1f"),"\u9009\u62e9\u4e00\u4e2a\u7406\u7531\uff1a"]),this.wH=z.P("div",{id:"zh-answer-flog-options-wrap"})]),z.P("div","zu-hovercard-spin-top")]);z.y.forEach(EB.cv,function(a,c){var d=z.P("a",{href:"javascript:;","class":"zm-menu-item-link"},
a[0]);d.setAttribute("data-index",c);this.wH.appendChild(d)},this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.Sz.setPosition(new z.Hq(a,1));BB(this,b.BW());this.Sz.F(!0);this.bM=b};var GB;z.v(CB,z.kk);CB.prototype.init=function(){this.B();DB(this)};
CB.prototype.B=function(){this.h=z.P("div",null,[z.P("div","zg-section",[z.P("div",null,"\u6807\u8bb0\uff1a"),this.il=z.P("select")]),z.P("div",null,[z.P("div",null,"\u539f\u56e0"),this.$z=z.P("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.vn=z.P("div","zm-command",[z.P("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"\u53d6\u6d88"),z.P("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"\u786e\u5b9a")])]);this.il.appendChild(z.P("option",
{value:"no"},"\u9009\u62e9\u6807\u8bb0\u539f\u56e0"));z.y.forEach(EB.cv,function(a,b){this.il.appendChild(z.P("option",{value:b},a[0]))},this);this.Aa=new z.Ai(null,!1);this.Aa.jb("\u6807\u8bb0\u7b54\u6848");z.ui(this.Aa,null);this.Aa.aa().appendChild(this.h)};CB.prototype.show=function(){this.Aa.F(!0)};z.v(JB,z.S);z.e=JB.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){JB.o.D.call(this);VB();TB(this);SB(this);$B(this);UB(this);ZB(this);YB();WB(this);cC();eC(this);KB(this);RB(this);LB(this);NB(this);OB(this);PB(this);QB(this);MB(this);this.so();-1<window.location.search.indexOf("clean-followers-noti\x3d1")&&(new z.V(!0)).ajax("/notification/clear","no_refresh_content\x3dtrue\x26type\x3dfollow");(0,window.$)("#__signin").click(function(){(new z.Fr).F(!0)});(0,window.$)(".zm-profile-header-user-edit").click(z.nm(z.m,!0))};
z.e.oU=function(){z.Gi("\u786e\u5b9a","\u786e\u5b9a\u8981\u5f3a\u5236\u6b64\u7528\u6237\u6539\u540d\u5417\uff1f",function(a){if(a&&(z.M("realname_form").submit(),this.hx.innerHTML="\u5df2\u53d1\u9001",z.T.add(this.hx,"zg-gray"),a=this.hx))if(z.Bc(a))a.Xd&&a.Xd.removeAll(void 0);else if(a=z.Lc(a)){var b=0,c;for(c in a.pc)for(var d=a.pc[c].concat(),f=0;f<d.length;++f)z.Uc(d[f])&&++b}},this)};
z.e.so=function(){this.Aj();var a=z.M("zm-profile-header-pm-btn");a&&z.G(a,"click",z.nb(function(a){a.preventDefault()},z.nm(function(){var b=new z.dr;b.show();z.fr(b,z.Tp[3],z.Tp[0]);z.er(b,a.href);b.Ac.focus()},{ya:"people_message_button",gd:!0})));var b=z.M("zh-profile-cancel-block");b&&this.v().g(b,"click",this.bH);(0,window.$)("#zh-report-people, #profile-side-op a[name\x3dreport]").each(function(a,b){qx(new ox("member",z.Tp[3]),b)});(b=z.M("zh-profile-search-query-mirro"))&&new z.Kl(b,b.getAttribute("placeholder"))};
z.e.bH=function(){z.Gi("\u786e\u5b9a\u53d6\u6d88\u5c4f\u853d\uff1f","\u53d6\u6d88\u5c4f\u853d\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002",function(a){a&&XB(this,!1)},this)};z.e.Lk=function(){this.v().wa(window.document,"click",function(){this.hb.F(!1)})};
z.e.Aj=function(){var a=z.M("profile-side-op");a&&this.v().g(a,"click",this.tj)};z.e.kO=function(a){var b="";a.target===this.LK?b="time":a.target===this.MK?b="vote":a.target===this.KK&&(b="ask");window.location.href="/people/"+z.Y[1]+"/answers?sort\x3d"+b};
z.e.tj=function(a){a=a.target.name;"block"===a?z.Gi("\u786e\u5b9a\u8981\u5c4f\u853d\u8be5\u7528\u6237\uff1f","\u5c4f\u853d\u7528\u6237\u540e\uff0c\u5bf9\u65b9\u5c06\u4e0d\u80fd\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u5b9e\u540d\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u4f60\u7684\u516c\u5f00\u4fe1\u606f\u3002",function(a){a&&XB(this,!0)},
this):"cancel-block"===a&&this.bH()};z.e.HM=function(a){if(a&&a.target&&(a=z.cn(this.h,a.target))){var b=z.N("zm-profile-fav-item-title",a),c=z.N("zm-profile-fav-item-des",a);b&&c&&"fav-edit"===a.name&&(b=b.innerHTML,c=c.innerHTML||"",a=[Number(a.getAttribute("data-id")),Number(a.getAttribute("data-public"))],oA(kA.U(),b,c,a))}};z.e.rR=function(a){(a=a.target)&&a.name&&(bC(this,a.name),this.search())};
z.e.search=function(a,b,c){this.Pe=z.M("zh-profile-search-query").value;this.um="/people/"+z.M("zh-profile-search-form").getAttribute("data_url")+"/search";if(this.Pe){void 0===b&&(b=!0);void 0===c&&(c=!0);if(window.history.pushState){if(this.rA)return;a&&a.preventDefault();this.vm=new z.V(!0);this.rA=!0;this.v().g(this.vm,"complete",this.JJ);b&&window.history.pushState({q:(0,window.encodeURIComponent)(this.Pe),type:this.ik},"","?pq\x3d"+(0,window.encodeURIComponent)(this.Pe)+"\x26type\x3d"+this.ik);
this.vm.ajax(this.um,"type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Pe),"","POST")}else a||(c?(this.Pe=z.M("zh-profile-search-query").value,this.um="/people/"+z.M("zh-profile-search-form").getAttribute("data_url")+"/search",window.location.href=this.um+"?type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Pe)):(this.vm=new z.V(!0),this.rA=!0,this.v().g(this.vm,"success",this.JJ),this.Pe=z.M("zh-profile-search-query").value,this.um="/people/"+z.M("zh-profile-search-form").getAttribute("data_url")+
"/search",this.vm.ajax(this.um,"type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Pe),"","POST")));(a=z.M("zh-profile-search-info"))&&z.R(a,!0)}else a&&a.preventDefault()};
z.e.JJ=function(){this.rA=!1;z.lf(z.M("zh-profile-search-word"),this.Pe);var a=z.fe(this.vm);if(a&&!a.r){var b=z.M("zh-profile-search-list");if(b)if(0===a.msg[0])z.M("zh-profile-list-container").innerHTML='\x3cdiv id\x3d"'+b.id+'"\x3e\x3cdiv style\x3d"margin: 20px;color: #999;text-align: center;"\x3e\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u4efb\u4f55\u7ed3\u679c\x3c/div\x3e\x3c/div\x3e';else{var c;c=""+('\x3cdiv id\x3d"'+b.id+'"\x3e');c+=a.msg[1]+"\x3c/div\x3e";z.M("zh-profile-list-container").innerHTML=
c+'\x3ca href\x3d"javascript:;" id\x3d"zh-load-more" class\x3d"zg-btn-white zu-button-more" style\x3d""\x3e\u66f4\u591a\x3c/a\x3e';(a=z.Ce("zm-item",b))&&a.length&&(this.ph=a[a.length-1].id.split("-")[1]);this.Xa=null;this.Xa=new jA(z.M(b.id),null,!0);this.Xa.init();this.Xa.ph=this.ph;this.Xa.url=this.um;this.Xa.params.pq=this.Pe;this.Xa.params.type=this.ik;z.M("zh-profile-search-query").focus()}}};z.v(dC,z.S);
dC.prototype.ga=function(a){this.h=a;this.Qa=new Yv;this.Qa.w(this.h);this.form=z.M("zm-profile-expert-editform");this.v().g(this.form,"submit",this.Bz);this.v().g(this.Qa,["add","remove","sort"],function(){this.gf()});(0,window.$)(".enable").on("change","input",window.$.proxy(function(){this.gf()},this));var b=z.M("zh-profile-expert-warning");b&&this.v().g(b,"click",function(a){"close"===a.target.name&&z.Pm(b)});(0,window.$)(".enable input[type\x3d'radio']").click(function(a){a=!Number((0,window.$)(a.target).val());
z.R(z.M("zh-profile-expert-reopen-tip"),a)})};dC.prototype.gf=function(){(0,window.$)(window).on("beforeunload.profile",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};dC.prototype.Mf=function(){(0,window.$)(window).off("beforeunload.profile")};
dC.prototype.Bz=function(a){a.preventDefault();z.y.map(this.Qa.data,function(a){return a[3]});a=(0,window.$)(this.form).serializeArray()[0].value;var b=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get(),c=this;window.$.post("/node/ProfileEditExpertTopicsV2",{method:"save",params:{settings:{enable_expert:a,expert_topic:b}}},function(a){a&&a.r||(c.Mf(),window.location.href="/people/"+z.Y[1])})};z.v(fC,z.S);fC.prototype.D=function(){fC.o.D.call(this);var a=z.M("zh-topic-block-editor");a&&(new aw(z.Fs)).w(a);hC(this);iC(this)};z.v(jC,z.S);jC.prototype.init=function(){var a=this;kC();lC();nC();pC();mC();oC();(0,window.$)(".zu-main-content-inner form").on("change","input, textarea, select",function(){a.Ew("SettingsPage")}).on("submit",function(){a.yr("SettingsPage")})};jC.prototype.Ew=function(){(0,window.$)(window).on("beforeunload.SettingsPage",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};jC.prototype.yr=function(){(0,window.$)(window).off("beforeunload.SettingsPage")};z.v(rC,zx);rC.prototype.init=function(a){rC.o.init.call(this,a);this.ic(this.h)};rC.prototype.BB=function(a){this.BB=a};rC.prototype.ic=function(a){if(this.BB){var b=new uB,c=this.OM;b.gx=this.cx;b.ex=c||b.ex;this.tn&&b.xI(this.tn);b.w(a)}};rC.prototype.xI=function(a){this.tn=a};z.v(sC,z.kk);sC.prototype.init=function(){this.v().g(this.h,"click",this.Uo)};sC.prototype.Uo=function(a){a=z.cn(this.h,a.target);"focus"===(a&&a.name)&&(0,z.cu)(a,this.cx,null,this.NM,{follow_text:this.text[0],unfollow_text:this.text[1]})};z.v(tC,z.kk);z.e=tC.prototype;z.e.w=function(a){this.element=a;var b=(0,window.$)("\x3cul\x3e");this.dJ=(0,window.$)("\x3cli\x3e");b.append(this.dJ);(0,window.$)(a).append(b);this.eJ||(this.eJ=!0,this.qB=new z.V(!0),this.v().wa(this.qB,"success",this.RQ),this.qB.ajax(this.url,null,"POST"))};z.e.RQ=function(){var a=z.fe(this.qB);a&&(a&&a.r?z.U(a.msg):(uC(this,this.dJ,a.msg),this.eJ=!1,this.D()))};z.e.D=function(){this.v().g(this.element,"click",this.Uo)};
z.e.Uo=function(a){var b=(a=a.target)?a.name:"";if(b)switch(b){case "load":case "loadmore":if(!this.Jo){var b=a.getAttribute("data-token"),c=a.getAttribute("data-parent");this.Jo=!0;this.Pj=new z.V(!0);this.v().wa(this.Pj,"success",this.Bq);this.tA=a.parentNode;this.tA.innerHTML='\x3cspan class\x3d"zg-gray"\x3e\u52a0\u8f7d\u4e2d...\x3c/a\x3e';this.Pj.ajax(this.url+"?child\x3d"+b+"\x26parent\x3d"+c,null,"POST")}break;case "topic":window.location.href=a.href}};
z.e.Bq=function(){var a=z.fe(this.Pj);if(a)if(a&&a.r)z.U(a.msg);else if(a=a.msg,a[1]){(0,window.$)(this.tA).hide();for(var b=(0,window.$)(this.tA.parentNode),c=0;c<a[1].length;c++){var d=a[1][c],f=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");"topic"!==d[0][0]&&f.addClass("zm-topic-organize-loadmore");b.append(f);uC(this,f,d)}this.Jo=!1}};z.v(wC,z.up);wC.prototype.Yg=function(a){z.Ds[0][0]===a?this.Bi():wC.o.Yg.apply(this,arguments)};wC.prototype.tC=function(a){if(a=z.fe(a.target))a.r?z.U(a.msg):a.msg&&(window.location.href=a.msg)};z.v(xC,z.S);z.e=xC.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){xC.o.D.call(this);CC(this);var a=z.M("zh-topic-top-answerer");a&&(new sC(a,"people",["zg-follow","zg-unfollow"])).init();if(a=z.M("zh-topic-direct-question-list"))a=new rC(a,null,"question",null,!0),a.xi("question-item"),a.init();if(a=z.M("zh-topic-title"))this.cd=new wC(!1,"/topic/update","title"),Wu(this.cd,["tid\x3d"+this.Cf]),this.cd.addEventListener("beforeedit",vC({Yp:!0})),this.cd.w(a),(0,window.$)(a).on("click",".js-pin",function(){var a=(0,window.$)(this),b=a.attr("data-action");
window.$.post(b,{tid:z.Ds[0][3]}).done(function(b){b.r?z.U(b.msg):(b=a.hasClass("pin")?'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/remove" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e':'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/add" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e',
a.replaceWith(b))})});if(a=z.M("zh-topic-desc"))(0,window.$)(a).find(".zm-editable-content").data("editable-maxlength"),this.$k=new z.xp(!0,"/topic/update","description"),this.$k.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u8bdd\u9898\u63cf\u8ff0\x3c/a\x3e\x3c/div\x3e',Wu(this.$k,["tid\x3d"+this.Cf]),this.$k.Zq=!1,this.$k.rJ=!1,this.$k.addEventListener("beforeedit",vC({Yp:!0})),this.$k.w(a);if(a=z.M("zh-topic-faq"))this.Vw=new z.xp(!0,"/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+
"/faq","content"),this.Vw.Sb='\x3cdiv class\x3d"zm-topic-faq-container"\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\u5e38\u89c1\u95ee\u9898\u662f\u8be5\u8bdd\u9898\u4e0b\u7ecf\u5e38\u4f1a\u63d0\u5230\u7684\u95ee\u9898\u7684\u6574\u7406\uff0c\u4ee5\u4fbf\u540e\u6765\u8005\u67e5\u9605\uff08\x3ca href\x3d"/question/20388061" class\x3d"zg-link-litblue"\x3e\u5982\u4f55\u521b\u5efa\uff1f\x3c/a\x3e\uff09\x3c/div\x3e\x3ca href\x3d"javascript:;" name\x3d"edit" class\x3d"zg-link-litblue"\x3e\x3cspan class\x3d"zg-blue-edit"\x3e\x3c/span\x3e\u4e3a\u300c'+
z.Ds[0][0]+"\u300d\u6dfb\u52a0\u5e38\u89c1\u95ee\u9898\x3c/a\x3e\x3c/div\x3e",this.Vw.Zq=!1,this.Vw.w(a);HC(this);IC(this);BC(this);EC(this);FC();GC(this);zC(this);yC();(a=z.N("zm-topic-search-input-new"))&&new z.Kl(a,"\u5728\u8bdd\u9898\u4e2d\u641c\u7d22");var b=(0,window.$)(a);z.Zr.ob||b.focus(function(){b.addClass("stretch-to")}).blur(function(){b.removeClass("stretch-to")});(a=z.N("zm-topic-ask-in-topic"))&&this.v().g(a,"click",this.HA);(a=z.N("zm-topic-feed-container"))&&(new sC(a,"question",
["zg-follow","zg-unfollow"])).init();(a=z.M("zh-topic-side-children-list"))&&(new sC(a,"topic",["zg-follow","zg-unfollow"])).init();LC(this);(a=z.M("zh-topic-info-add"))&&z.y.forEach(z.Ze(a),function(a){var b;a&&a.getAttribute&&(b=a.getAttribute("data-placeholder"))&&new z.Kl(a,b)});(0,window.$)(".js-may-disable").click(z.nm(z.m,!0))};
z.e.dR=function(){this.qr=this.Qa.JD;if(!this.KG&&this.qr){this.KG=!0;this.dz=new z.V(!0);this.v().wa(this.dz,"success",this.xK);this.dz.ajax("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+"/demand","action\x3dmerge\x26target_topic_id\x3d"+this.qr[3]);var a=z.M("zh-topic-merged-msg");z.R(z.M("zh-topic-merge"),!1);z.R(a,!0);a=z.Ae("a",null,a)[0];a.href="/topic/"+this.qr[1];a.innerHTML=this.qr[0];this.Qa&&(this.Qa.qb.value="")}};z.e.xK=function(){var a=z.fe(this.dz);a&&a.r?z.U(a.msg):this.KG=!1};
z.e.NQ=function(){this.QD||(this.QD=!0,this.sw=new z.V(!0),this.v().wa(this.sw,"success",this.vK),this.sw.ajax("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+"/demand","action\x3dremove"))};z.e.vK=function(){var a=z.fe(this.sw);a&&a.r?z.U(a.msg):(a=z.M("zh-topic-del-msg"),z.R(z.M("zh-topic-del-btn"),!1),z.R(a,!0),this.Qa&&(this.Qa.qb.value=""),this.QD=!1)};
z.e.ER=function(a){if((a=a.target)&&a.name)if("add"===a.name){if(a=this.qv.value)this.sv=new z.V(!0),this.v().wa(this.sv,"complete",this.uK),this.sv.ajax(window.location.href,"action\x3dadd_alias\x26alias\x3d"+(0,window.encodeURIComponent)(a))}else"remove"===a.name?(this.eA=new z.V(!0),a=a.parentNode.getAttribute("data-token"),this.v().wa(this.eA,"complete",this.zK),this.eA.ajax(window.location.href,"action\x3dremove_alias\x26alias_token\x3d"+a)):"remove-merged"===a.name&&(this.fA=new z.V(!0),a=a.parentNode.getAttribute("data-token"),
this.v().wa(this.fA,"complete",this.AK),this.fA.ajax("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1]+"/demand"),"action\x3dremove\x26target_topic_id\x3d"+a))};z.e.AK=function(){var a=z.fe(this.fA);a&&a.r?z.U(a.msg):AC(this,a.msg)};z.e.zK=function(){var a=z.fe(this.eA);a&&a.r?z.U(a.msg):AC(this,a.msg)};
z.e.uK=function(){var a=z.fe(this.sv);if(a&&a.r)z.U(a.msg);else{var a=a.msg,b=z.P("li");b.setAttribute("data-token",a[1]);b.innerHTML=a[0]+' \x3ca name\x3d"remove" href\x3d"javascript:;" class\x3d"zg-link-gray"\x3e\u79fb\u9664\x3c/a\x3e';this.rv.appendChild(b);this.qv.value="";z.R(this.rv.parentNode,!0)}};z.e.JA=function(a){this.Fz?this.hb.T()?this.hb.F(!1):(this.hb.F(!0),a.stopPropagation(),a.preventDefault(),this.Lk()):(a.stopPropagation(),a.preventDefault(),this.Aj(),this.Lk());this.Fz=!0};
z.e.Lk=function(){this.v().wa(window.document,"click",function(){this.hb.F(!1)})};z.e.Aj=function(){var a=z.M("zh-topic-side-head"),b=this.bg.getAttribute("data-auth");this.hb=new Zw;this.Vx=!0;"f-topic-manage"===b&&this.hb.Ga(this.JR=new Uw("\u7ba1\u7406\u8bdd\u9898"));this.hb.Ga(this.KR=new Uw("\u7ec4\u7ec7\u8bdd\u9898"));this.hb.Ga(this.IR=new Uw("\u8bdd\u9898\u65e5\u5fd7"));this.Vx&&(this.hb.ea(a),this.v().g(this.hb,"action",this.tj))};
z.e.tj=function(a){var b="";a.target===this.JR?b="admin":a.target===this.KR?b="organize":a.target===this.IR&&(b="log");window.location.href=["/topic",this.oB[1],b].join("/")};z.e.mR=function(){var a=z.fe(this.dA);if(a&&!a.r){var b=[];z.y.forEach(a,function(a){b.push(z.Qm(a,null,!0))});this.FS.innerHTML=b.join("")+'\x3cdiv class\x3d"zg-clear"\x3e\x3c/div\x3e';a.length&&z.R(z.M("zh-topic-side-related-topics-wrap"),!0)}};
z.e.WQ=function(a){var b=a.target;b&&b.name&&"remove"===b.name&&(this.RO=b,this.JF||(this.JF=!0,this.hy=new z.V(!0),this.v().g(this.hy,"success",this.XQ),a="token\x3d"+this.RO.parentNode.getAttribute("data-token")+"\x26action\x3dremove\x26element\x3d"+(0,window.encodeURIComponent)((0,window.$)(a.target).prev("[data-element]").text()),this.hy.ajax("/topic/"+z.Ds[0][1]+"/information/manage",a,"POST")))};
z.e.XQ=function(){this.JF=!1;var a=z.fe(this.hy);a&&(a.r?z.U(a.msg):a.msg&&(a=a.msg,z.N("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html()))};z.e.YQ=function(a){a.preventDefault();this.LF||(this.LF=!0,this.iy=new z.V(!0),this.v().g(this.iy,"success",this.VQ),a=z.Ze(this.Cs),this.iy.ajax("/topic/"+z.Ds[0][1]+"/information/manage","title\x3d"+a[0].value+"\x26content\x3d"+a[1].value+"\x26url\x3d"+a[2].value+"\x26action\x3dadd","POST"))};
z.e.VQ=function(){this.LF=!1;var a=z.fe(this.iy);a&&(a.r?z.U(a.msg):a.msg&&(a=a.msg,z.N("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html(),a=z.Ze(this.Cs),z.y.forEach(a,function(a,c){3>c&&(a.value="")})))};z.e.HA=z.nm(function(){if(!z.Gr()){var a=z.Dp.U();a.show();var b=z.N("zm-topic-search-input-new");b.value&&z.Ep(a,b.value);a.Qa.data.length||a.Qa.lk(z.Ds[0])}},!0);z.v(MC,z.S);MC.prototype.B=function(){this.h=this.M().B("FORM",{method:"POST",style:"display:none"})};MC.prototype.post=function(a,b,c){var d=this.m();d||(this.ea(),d=this.m());d.action=b||"";d.target=c||"";NC(this,d,a);d.submit()};z.v(RC,z.kk);RC.prototype.init=function(){var a=bv(new z.Sk(window.location.href),"group_id");a&&(this.Vj=new z.V(!1),this.v().wa(this.Vj,"success",this.Oz),a&&this.Vj.ajax("/noti7/read","group_id\x3d"+a,"POST"))};RC.prototype.Oz=function(){var a=z.fe(this.Vj);if(a&&!a.r&&a.msg){var b=a.msg;if(!0===b||"true"===b||"True"===b)return;this.rQ=a.msg;this.dispatchEvent("change")}(a=z.fu)&&z.Fq(a)};z.v(SC,z.S);z.e=SC.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){SC.o.D.call(this);UC(this);if(this.Vb=z.M("zh-list-meta-wrap"))this.v().g(this.Vb,"click",this.ap),bv(new z.Sk(window.location.href),"fc")&&WC(this);var a=z.M("zh-favlists-wrap");a&&(new rC(a,null,"favlist",null,!0)).init();TC(this);(a=z.M("zh-favlist-log-list-wrap"))&&(new rC(a,null,"favlist",null,!0)).init();(a=z.M("zh-favlist-following-wrap"))&&(new rC(a,null,"favlist",null,!0)).init();if(a=z.M("zh-favlist-followers-wrap"))a=new rC(a,null,"people",["zg-btn-follow","zg-btn-unfollow"],
!0),a.xi("zm-profile-section-item"),a.BB(!0),a.init();this.v().g(window,"hashchange",this.XW);this.oy();this.Ro=new RC;this.Ro.init()};z.e.vO=function(a){a=a.target;var b=a.id.split("-"),c=b[1],b=b[2];(new z.V(!0)).ajax("/collection/remove","answer_id\x3d"+c+"\x26favlist_id\x3d"+b);if(b=z.yf(a,"div","zm-item"))a=z.Ce("zm-item-answer",b),1===a.length?z.Q(b):(a=z.y.find(a,function(a){return a.getAttribute("data-aid")===c}))&&z.Q(a.parentNode)};z.e.HT=z.nm(function(){kA.U().show(!0)},!0);
z.e.JA=function(a){this.Fz?this.hb.T()?this.hb.F(!1):(this.hb.F(!0),a.stopPropagation(),a.preventDefault(),this.Lk()):(a.stopPropagation(),a.preventDefault(),this.Aj(),this.Lk());this.Fz=!0};z.e.Lk=function(){this.v().wa(window.document,"click",function(){this.hb.F(!1)})};
z.e.Aj=function(){var a=z.M("zh-list-side-head");this.hb=new Zw;this.Vx=!0;this.visible||this.hb.Ga(this.MR=new Uw("\u8bbe\u7f6e\u4e3a\u516c\u5f00"));this.hb.Ga(this.HR=new Uw("\u5220\u9664\u6b64\u6536\u85cf\u5939"));this.Vx&&(this.hb.ea(a),this.v().g(this.hb,"action",this.tj))};z.e.ap=function(a){a=a.target;switch(a&&a.name){case "edit":oA(kA.U());break;case "addcomment":WC(this);this.qa.Df();this.qa.oc()&&this.qa.Di("view_comments",(0,window.parseInt)(z.sf(a),10)||0);break;case "remove":VC(this)}};
z.e.tj=function(a){a.target===this.MR?z.Gi("\u786e\u5b9a\u8bbe\u7f6e\u6536\u85cf\u5939\u4e3a\u516c\u5f00\uff1f","\u6536\u85cf\u5939\u8bbe\u7f6e\u4e3a\u516c\u5f00\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6\u3002",function(a){a&&XC(this)},this):a.target===this.HR&&VC(this)};z.e.oy=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=PC(a).done(function(a){b.html(a)}))})};var gD=(0,window.$)("#is-topstory2").length?"topstory2":"homefeed",ZC=z.C&&!z.E(9),bD={ac:"actioncard",q:"question",a:"answer",p:"article",c:"column",r:"roundtable"},dD={question:"question",answer:"question",article:"column",column:"column",roundtable:"roundtable"},eD={question:"question",answer:"question",article:"article",column:"column",roundtable:"roundtable"};YC.prototype.Gb=function(){this.QB=(0,window.$)('meta[itemprop\x3d"ZReactor"]',this.Ah);this.QB.length&&(aD(this),this.WO())};
YC.prototype.kS=function(){var a=[],b=z.on(550,function(){a.length&&($C(a),a=[])});return function(c){a.push(c);b()}}();
YC.prototype.WO=z.zi(function(){z.G(z.X,"click_feed_fresh",function(a){$C({mid:z.kj.ga_vars.user_hash,object_type:"btn",object_id:2,object_meta:{load_items:a.data.count},action_type:"click",context:gD,others:"",time:(0,z.x)()})});z.G(z.X,"topstory_feed_more",function(){$C({mid:z.kj.ga_vars.user_hash,object_type:"btn",object_id:1,object_meta:{next:(0,window.$)("#js-home-feed-list .feed-item").length+1},action_type:"click",context:gD,others:"",time:(0,z.x)()})})});z.v(hD,zx);hD.prototype.Xg=function(a){a&&!a.r&&(a=a.msg,a.length?(z.R(this.fc,0<a.length),this.offset+=a.length,this.Iq(a),Bx(this,!1),Fx(this)):this.zk.hide())};var UI={ROUNDTABLE_ADD_RELATED:"roundtable",ARTICLE_VOTE_UP:"post_vote",ARTICLE_CREATE:"post_create",RECOMMENDED:"feed_recommended",QUESTION_FOLLOW:"feed_question_follow",QUESTION_CREATE:"feed_question",ANSWER_VOTE_UP:"feed_answer_vote",ANSWER_CREATE:"feed_answer_answer"};
hD.prototype.uO=function(a){var b=a.currentTarget.h.getAttribute("data-feedtype"),b=UI[b];"comment"===a.namespace&&b&&a.Mc.fill("category","feed").fill("label",b)};hD.prototype.Zj=function(a){var b=iA(a);this.L(b);this.v().g(b,"click!",this.uO);b.w(a);new YC(b);return b};hD.prototype.JH=function(a){return{params:a,method:"next"}};z.ca(jD);z.v(oD,z.S);z.e=oD.prototype;z.e.D=function(){oD.o.D.call(this);this.K=(0,window.$)(this.h);if(this.ze=z.M("zh-main-feed-fresh-button"))this.nq=(0,window.$)(this.ze),this.DP?(this.v().g(this.ze,"click",this.DS),this.v().g(z.X,"topstory2",this.rF)):this.cG?(this.v().g(this.ze,"click",this.CS),this.v().g(z.X,"topstory",this.rF)):(this.v().g(this.ze,"click",this.MT),this.v().g(z.X,"homefeed",this.ZN));pD(this);tD(this);sD(this)};
z.e.CS=function(){this.nq.text("\u52a0\u8f7d\u4e2d\u2026");this.Ci=0;var a=this;this.Xa.offset=0;this.Xa.ph=0;Ex(this.Xa,!0,function(){iD(a.Xa)}).done(function(){a.nq.hide();Dx(a.Xa)})};z.e.DS=function(){this.nq.text("\u52a0\u8f7d\u4e2d\u2026");var a=this.Ci;this.Ci=0;var b=this;this.Xa.offset=a;this.Xa.ph="live";Ex(this.Xa,!0,null,function(a){a&&a.msg.length&&(b.Xa.Iq(a.msg,"prepend"),b.nq.hide())});z.X.sa({type:"click_feed_fresh",data:{count:a}})};
z.e.MT=function(){var a=z.N("zm-home-question-list-devider",this.h);a&&z.T.remove(a,"zm-home-question-list-devider");var a=this.pt.length,b=(0,window.$)("."+this.qE,this.h)[0];b&&5<=a&&((0,window.$)(".feed-separator-hook",this.h).next(".feed-item-hook").css("border-top","1px solid #eee").end().remove(),(0,window.$)(b).css("border-top","none").before('\x3cdiv class\x3d"feed-item-hook feed-separator-hook feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u4f60\u770b\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'));
z.y.forEach(this.pt,function(a){var b=(0,window.$)("."+this.qE,this.h)[0];b?z.Ue(a,b):this.h.appendChild(a)},this);this.pt=[];z.R(this.ze,!1);nD();z.X.sa({type:"ga_click_feed_fresh",data:{count:a}})};
z.e.ZN=function(a){var b=(0,z.Ya)(a.wf);a=this.pt;var c=a.length;if(b&&!(500<c)){var d=z.Ne(b),f=this.Fy,g=function(a){return z.A.KM(f,a)},b=function(){return g(function(a){return a.pa===n.pa})},h=function(){return g(function(a){return a.oa===n.oa})},l=function(){return g(function(a){return a.Nb===n.Nb})};if(!function(){return g(function(a){return a.m().id===d.id})}()){var n=this.Xa.Zj(d);if(n.pa){if(b())return}else if(n.oa){if(h())return}else if(n.Nb&&l())return;qD(this,n);a.push(d);c+=1;this.ze&&
(this.ze.innerHTML=(99<c?"99+":c)+" \u6761\u65b0\u52a8\u6001",z.R(this.ze,!0))}}};z.e.rF=function(a){this.Ci=this.Ci||0;this.Ci+=+a.wf;this.ze&&(this.ze.innerHTML=(99<this.Ci?"99+":this.Ci)+" \u6761\u65b0\u52a8\u6001",z.R(this.ze,!0))};z.v(uD,z.S);z.e=uD.prototype;z.e.D=function(){uD.o.D.call(this);var a=z.M("zh-invite-select");a&&this.v().g(a,"change",this.zz);(a=z.N("zm-invite-list"))&&this.v().g(a,"click",this.Ma);(this.ay=z.M("zh-invite-ignore-all-btn"))&&this.v().g(this.ay,"click",this.NO)};
z.e.Ma=function(a){if((a=a.target)&&a.name){if("ignore"===a.name){z.T.add(a,"zg-btn-disabled");this.OO=new z.V(!1);var b="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.Y.Me+"\x26op\x3dpass";this.OO.ajax("/question/askpeople",b,"POST");(b=a.parentNode)&&z.Pm(b,!0)}"recover"!==a.name||this.XH||(this.VH=a,this.XH=!0,z.T.add(a,"zg-btn-disabled"),a.innerHTML="...",this.WH=new z.V(!1),this.v().g(this.WH,"success",this.yK),a="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.Y.Me+"\x26op\x3drecover",
this.WH.ajax("/question/askpeople",a,"POST"))}};z.e.zz=function(a){var b=bv(new z.Sk(window.location.href),"filter_by");(a=a.target)&&a.value&&(a=a.value,a!==b&&(window.location.href="/question/invited?filter_by\x3d"+a))};z.e.yK=function(){this.XH=!1;this.gc(this.VH,"ignore");this.VH.name="ignore"};
z.e.gc=function(a,b){var c=a.parentNode,d=z.N("zm-invite-item-info-label",c);"ignore"===b?(z.T.remove(a,"zg-btn-disabled"),z.T.remove(a,"recover"),z.T.add(a,"ignore"),z.T.add(c,"invite"),z.T.remove(c,"ignore"),d.innerHTML="\u65b0\u9080\u8bf7",a.name="ignore",a.innerHTML="\u5ffd\u7565"):(z.T.remove(a,"zg-btn-disabled"),z.T.remove(a,"ignore"),z.T.add(a,"recover"),z.T.remove(c,"invite"),z.T.remove(c,"draft"),z.T.add(c,"ignore"),d.innerHTML="\u5df2\u5ffd\u7565",a.name="recover",a.innerHTML="\u6062\u590d")};
z.e.NO=function(){this.by||(this.by=!0,this.EF=new z.V(!1),this.v().g(this.EF,"success",this.wK),this.EF.ajax("/question/askpeople","uid\x3d"+z.Y.Me+"\x26op\x3dignore_all","POST"))};z.e.wK=function(){this.by=!1;z.R(this.ay,void 0);this.by=!1;z.y.forEach(z.Ce("zm-invite-item-control"),(0,z.r)(function(a){this.gc(a,"recover")},this))};z.v(vD,z.S);vD.prototype.D=function(){vD.o.D.call(this);this.vl();this.v().g(this.h,"click",this.Ma)};vD.prototype.Ma=function(a){a=a.target;if(a.name)switch(a.name){case "fold":(0,window.$)(a).parent().hide().prev().animate({height:"show"},200);break;case "fold-follow":(0,window.$)(a).parent().hide().prev().show();break;case "unfold-item":(0,window.$)(a).parent(".author-list").hide().siblings(".hidden").show()}};
vD.prototype.vl=function(){this.Jo||(this.Jo=!0,this.Pj=new z.V(!1),this.v().g(this.Pj,"success",this.wz),this.Pj.ajax("/noti7/calendar","","GET"))};
vD.prototype.wz=function(){this.Jo=!1;var a=z.ee(this.Pj);if(a){var b=z.M("zh-noti7-list-inner");/category/.test(a)?(b.innerHTML=a,b&&(a=new zx(b,"/noti7/calendar",!0),a.Iq=function(a){var b=z.P("div","zm-item-more-wrap");b.innerHTML=a;z.Ue(b,this.fc)},Cx(a,function(a){this.ph=this.fc.getAttribute("data-next");return!a||a.msg[0]&&a.msg[1]}),a.init())):b.innerHTML='\x3cdiv class\x3d"empty"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e\u60a8\u6536\u5230\u7684\u6d88\u606f\u4f1a\u663e\u793a\u5728\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'}};z.v(wD,z.kk);wD.prototype.init=function(){var a=z.M("home-suggest-block");a&&(this.h=a,a=z.M("home-suggest-close-button"),this.v().wa(a,"click",function(){(new z.V(!0)).ajax("/option","key\x3dno_show_lookup\x26value\x3d1");z.R(this.h,!1)}),a=z.M("home-suggest-refresh-button"),this.v().g(a,"click",this.lR),this.bt=z.M("home-suggest-list"),zD(this))};wD.prototype.lR=function(){xD(this);return!0};
wD.prototype.LQ=function(a){a.r||((a=a.msg)&&z.fa(a)&&a.length?(this.Zx=[],this.ND=a,xD(this)):this.bt.innerHTML="")};z.v(AD,z.H);z.e=AD.prototype;z.e.show=function(a){if(this.Eo)return this;this.Eo=!0;this.dispatchEvent("willShow");this.K.addClass(this.position).appendTo("body");this.aC=(0,window.$)(a);this.target=this.aC[0];if(!this.target)return this;this.da();this.K.addClass("is-active");this.dispatchEvent("show");this.K.on("click",".js-dismiss",(0,z.r)(this.hide,this));!1!==this.Gz.Lq&&this.Lq();return this};
z.e.da=function(){var a=this.position,b=this.offset(a),c;c=b;var d=this.Gg,f=(0,window.$)(window),g=d.clientWidth,d=d.clientHeight,h=f.scrollTop(),l=f.scrollLeft(),n=f.innerHeight(),f=f.innerWidth();c={top:c.top>h+z.Dh(window.document.body).top,bottom:c.top+d<h+n,left:c.left>l,right:c.left+g<l+f};c=c[a]?a:z.A.Zw(c,z.kb);a!==c&&(b=this.offset(c));0>b.left&&(this.K.find(".tooltip-arrow").css("left",BD(this.Gg).width/2+b.left),b.left=0);this.K.removeClass("top right bottom left").addClass(c).css(b);
this.dispatchEvent("reposition")};z.e.offset=function(a){var b=BD(this.Gg),c=b.width,b=b.height,d=BD(this.target),f=d.width,d=d.height,g=this.aC.offset();switch(a){case "top":return{top:g.top-b,left:g.left+f/2-c/2};case "bottom":return{top:g.top+d,left:g.left+f/2-c/2};case "right":return{top:g.top+d/2-b/2,left:g.left+f};case "left":return{top:g.top+d/2-b/2,left:g.left-c}}};
z.e.hide=function(a){if(this.Eo)return this.dispatchEvent({type:"hide",reason:"string"===typeof a?a:"click"}),this.Eo=!1,window.Modernizr.csstransitions?this.K.onTransitionEnd((0,z.r)(this.clear,this),350).removeClass("is-active"):this.clear(),this};z.e.Lq=function(){function a(){if(!b.Eo)return z.Ys.na("update",a);z.ij(z.Ys,b.Gg)||(b.hide("outOfView"),z.Ys.na("update",a))}var b=this;z.Ys.g("update",a)};z.e.clear=function(){this.K.remove()};(0,z.x)();window.$.validator.addMethod("datetime",function(a,b){return this.optional(b)||(0,window.moment)(a,"YYYY-MM-DDTHH:mm:ss").isValid()},"\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e");window.$.validator.addMethod("dateGreaterThan",function(a,b,c){return new Date(a)>new Date((0,window.$)(c).val())},"\u65f6\u95f4\u8303\u56f4\u4e0d\u6b63\u786e");
window.$.validator.addMethod("realEmail",function(){var a="AC ACADEMY AD AE AERO AF AG AI AL AM AN AO AQ AR ARPA AS ASIA AT AU AW AX AZ BA BB BD BE BF BG BH BI BIKE BIZ BJ BM BN BO BR BS BT BUILDERS BUZZ BV BW BY BZ CA CAB CAMERA CAMP CAREERS CAT CC CD CENTER CEO CF CG CH CI CK CL CLOTHING CM CN CO CODES COFFEE COM COMPANY COMPUTER CONSTRUCTION CONTRACTORS COOP CR CU CV CW CX CY CZ DE DIAMONDS DIRECTORY DJ DK DM DO DOMAINS DZ EC EDU EDUCATION EE EG ENTERPRISES EQUIPMENT ER ES ESTATE ET EU FARM FI FJ FK FLORIST FM FO FR GA GALLERY GB GD GE GF GG GH GI GL GLASS GM GN GOV GP GQ GR GRAPHICS GS GT GU GURU GW GY HK HM HN HOLDINGS HOLIDAY HOUSE HR HT HU ID IE IL IM IN INFO INSTITUTE INT INTERNATIONAL IO IQ IR IS IT JE JM JO JOBS JP KAUFEN KE KG KH KI KITCHEN KM KN KP KR KW KY KZ LA LAND LB LC LI LIGHTING LIMO LK LR LS LT LU LV LY MA MANAGEMENT MC MD ME MENU MG MH MIL MK ML MM MN MO MOBI MP MQ MR MS MT MU MUSEUM MV MW MX MY MZ NA NAME NC NE NET NF NG NI NINJA NL NO NP NR NU NZ OM ONL ORG PA PE PF PG PH PHOTOGRAPHY PHOTOS PK PL PLUMBING PM PN POST PR PRO PS PT PW PY QA RE RECIPES REPAIR RO RS RU RUHR RW SA SB SC SD SE SEXY SG SH SHOES SI SINGLES SJ SK SL SM SN SO SOLAR SOLUTIONS SR ST SU SUPPORT SV SX SY SYSTEMS SZ TATTOO TC TD TECHNOLOGY TEL TF TG TH TIPS TJ TK TL TM TN TO TODAY TP TR TRAINING TRAVEL TT TV TW TZ UA UG UK UNO US UY UZ VA VC VE VENTURES VG VI VIAJES VN VOYAGE VU WF WS XXX YE YT ZA ZM ZW".split(" ");return function(b){return z.y.contains(a,
z.y.Yc(b.split(".")).toUpperCase())}}(),"\u8bf7\u8f93\u5165\u771f\u5b9e\u7684\u90ae\u7bb1\u5730\u5740");window.$.validator.addMethod("strongPassword",function(a,b){return this.optional(b)||/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/.test(a)}," \u5bc6\u7801\u9700\u5305\u542b\u6570\u5b57\u548c\u5b57\u6bcd\uff0c\u4e14\u957f\u5ea6\u5927\u4e8e 8 \u4f4d");z.v(FD,z.S);FD.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};
FD.prototype.D=function(){FD.o.D.call(this);GD(this);var a=z.N("zm-invite-container");a&&(new uD).w(a);z.M("home-settings-page-wrap")&&(a=z.M("zh-topic-block-editor"))&&(new aw(z.Fs)).w(a);(a=z.M("zh-noti7"))&&(new vD).w(a);var b=z.M("zm-home-sidebar-domain-entry-link");b&&(a=!!b.getAttribute("data-expanded"),b=new z.Wj(b,z.M("zm-home-sidebar-domain-entry-nav"),a),a&&z.Sc(b,"toggle",function(){z.Li("/notifeature?feature\x3d4",null,"GET");return!0}));(0,window.$)(".zm-side-pinned-topics").on("click",
".unpin",function(){var a=(0,window.$)(this).parent();window.$.post("/pin-topic/remove",{tid:(0,window.$)(this).attr("data-tid")}).done(function(b){b.r||a.fadeOut()})});(new wD).init();ID();HD();kD();CD()};z.v(JD,z.ii);z.ca(JD);z.e=JD.prototype;z.e.Gb=function(){this.v().g(window.document,"click",this.bs)};
z.e.bs=function(a){a=a.target;if("IMG"===a.tagName&&z.T.has(a,this.iU)){var b=a.getAttribute("data-original");if(b)if(z.Ei)window.open(b);else if(!z.Af(a,"editable")){this.ka('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e\u67e5\u770b\u539f\u56fe\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.F(!0);z.T.add(this.m(),"zm-light-box-fullscreen-image");var b=z.Fe(),c=z.M("zm-light-box-x1"),d=z.M("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.X.sa({type:"ga_click_enlarge_image",target:a})}}};z.e.da=z.m;z.e.focus=z.m;z.e.LN=function(){this.F(!1);z.T.remove(window.document.body,this.SC)};
z.e.oi=function(){JD.o.oi.call(this);z.T.add(window.document.body,this.SC);this.v().wa(window.document,"click",this.LN)};z.e.B=function(){JD.o.B.call(this);z.T.add(this.m(),"zm-light-box")};z.e.Yy=function(){this.Oc=this.M().B("div",this.Qc+"-bg zm-light-box-background");z.R(this.Oc,!1)};JD.U();z.v(KD,Uw);KD.prototype.Jd=function(){return this.dispatchEvent("action")};z.Cj("goog-option",function(){return new KD(null)});z.v(z.LD,Vw);z.ca(z.LD);z.LD.prototype.B=function(a){return a.M().B("DIV",this.Be(a).join(" ")+" goog-inline-block","\u00a0")};z.LD.prototype.w=function(a,b){b=z.LD.o.w.call(this,a,b);z.Jg(b,"goog-inline-block");return b};z.LD.prototype.R=function(){return"goog-toolbar-separator"};z.v(z.MD,z.sn);z.ca(z.MD);z.MD.prototype.Un=function(a){return"HR"==a.tagName?new z.Ww(z.LD.U()):z.MD.o.Un.call(this,a)};z.MD.prototype.R=function(){return"goog-toolbar"};z.MD.prototype.ox=function(){return z.vt};z.v(ND,cx);z.ca(ND);ND.prototype.R=function(){return"goog-toolbar-button"};z.v(z.OD,z.Lj);z.Cj("goog-toolbar-button",function(){return new z.OD(null)});z.v(PD,ex);z.ca(PD);PD.prototype.createCaption=function(a,b){return PD.o.createCaption.call(this,QD(a,b),b)};PD.prototype.Ea=function(a,b){a&&RD(this.aa(a),b)};PD.prototype.Ge=function(a){var b=a.m();this.Ea(b,a.W());z.Jg(b,"goog-color-menu-button");PD.o.Ge.call(this,a)};z.v(SD,z.Rn);SD.prototype.next=function(){do SD.o.next.call(this);while(-1==this.Yb);return this.node};z.v(z.TD,z.vj);z.ca(z.TD);var XD=0;z.e=z.TD.prototype;z.e.B=function(a){var b=this.Be(a);a=a.M().B("DIV",b?b.join(" "):null,UD(this,a.fb(),a.bi(),a.M()));z.Ag(a,"grid");return a};z.e.fw=function(a,b){var c=b.B("TABLE",this.R()+"-table",b.B("TBODY",this.R()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.bc=function(){return!1};z.e.w=function(){return null};
z.e.ka=function(a,b){if(a){var c=z.Ae("TBODY",this.R()+"-body",a)[0];if(c){var d=0;z.y.forEach(c.rows,function(a){z.y.forEach(a.cells,function(a){z.Te(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.L(a),h=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(VD(this,l,g));f.length==h&&(l=WD(this,f,g),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(VD(this,"",g));l=WD(this,f,g);c.appendChild(l)}}}z.yh(a,!0,z.B)}};z.e.R=function(){return"goog-palette"};z.v(ZD,z.H);z.e=ZD.prototype;z.e.jh=null;z.e.yf=null;z.e.tl=function(){return this.Hd.length};z.e.Zh=function(a){return this.Hd[a]||null};z.e.Ga=function(a){this.Ni(a,this.tl())};z.e.Ni=function(a,b){a&&(this.wm(a,!1),z.y.wo(this.Hd,a,b))};z.e.removeItem=function(a){a&&z.y.remove(this.Hd,a)&&a==this.jh&&(this.jh=null,this.dispatchEvent("select"))};z.e.mf=function(){return this.jh};z.e.Fb=function(){return z.y.clone(this.Hd)};
z.e.zf=function(a){a!=this.jh&&(this.wm(this.jh,!1),this.jh=a,this.wm(a,!0));this.dispatchEvent("select")};z.e.lj=function(){var a=this.jh;return a?z.y.indexOf(this.Hd,a):-1};z.e.Ep=function(a){this.zf(this.Zh(a))};z.e.clear=function(){z.y.clear(this.Hd);this.jh=null};z.e.C=function(){ZD.o.C.call(this);delete this.Hd;this.jh=null};z.e.wm=function(a,b){a&&("function"==typeof this.yf?this.yf(a,b):"function"==typeof a.Am&&a.Am(b))};z.v(z.aE,z.Ej);z.e=z.aE.prototype;z.e.Cc=null;z.e.Ra=-1;z.e.la=null;z.e.C=function(){z.aE.o.C.call(this);this.la&&(this.la.H(),this.la=null);this.Cc=null;this.En.H()};z.e.ym=function(a){z.aE.o.ym.call(this,a);dE(this);this.la?(this.la.clear(),$D(this.la,a)):(this.la=new ZD(a),a=(0,z.r)(this.wm,this),this.la.yf=a,this.v().g(this.la,"select",this.uj));this.Ra=-1};z.e.Jg=function(){return""};z.e.xm=function(){};
z.e.md=function(a){z.aE.o.md.call(this,a);var b=YD(this.N,this,a.target);b&&a.relatedTarget&&z.ff(b,a.relatedTarget)||b!=eE(this)&&fE(this,b)};z.e.de=function(a){z.aE.o.de.call(this,a);this.Ub()&&(a=YD(this.N,this,a.target),a!=eE(this)&&fE(this,a))};z.e.Jd=function(a){var b=eE(this);return b?(this.zf(b),z.aE.o.Jd.call(this,a)):!1};
z.e.ec=function(a){var b=this.fb(),b=b?b.length:0,c=this.Cc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.Jd(a);if(36==a.keyCode)return this.Ib(0),!0;if(35==a.keyCode)return this.Ib(b-1),!0;var d=0>this.Ra?this.lj():this.Ra;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Ib(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Ib(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Ib(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Ib(d+c),a.preventDefault(),!0}return!1};z.e.uj=function(){};z.e.bi=function(){return this.Cc};z.e.Ib=function(a){a!=this.Ra&&(gE(this,this.Ra,!1),this.Ly=this.Ra,this.Ra=a,gE(this,a,!0),this.dispatchEvent("j"))};z.e.lj=function(){return this.la?this.la.lj():-1};z.e.mf=function(){return this.la?this.la.mf():null};z.e.Ep=function(a){this.la&&this.la.Ep(a)};z.e.zf=function(a){this.la&&this.la.zf(a)};
z.e.Bc=function(a){a&&-1==this.Ra?this.Ib(-1<this.Ly?this.Ly:0):a||this.Ib(-1);z.aE.o.Bc.call(this,a)};z.e.wm=function(a,b){if(this.m()&&a){var c=a.parentNode;z.Ng(c,this.N.R()+"-cell-selected",b);z.Bg(c,"selected",b)}};z.v(bE,z.Ej);z.v(hE,z.aE);hE.prototype.rt=null;hE.prototype.Rs=null;hE.prototype.yx=function(){var a=this.mf();return a?(a=uw(a,"background-color"),jE(a)):null};hE.prototype.Dp=function(a){a=jE(a);this.rt||(this.rt=z.y.map(this.gr,function(a){return jE(a)}));this.Ep(a?z.y.indexOf(this.rt,a):-1)};z.v(kE,gx);var mE={uV:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),OV:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),KV:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=kE.prototype;z.e.yx=function(){return this.W()};z.e.Dp=function(a){this.Ea(a)};z.e.Ea=function(a){for(var b=0,c;c=this.Zh(b);b++)"function"==typeof c.Dp&&c.Dp(a);kE.o.Ea.call(this,a)};z.e.co=function(a){"function"==typeof a.target.yx?this.Ea(a.target.yx()):"none"==a.target.W()&&this.Ea(null);kE.o.co.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Ab=function(a,b){a&&0==this.tl()&&(this.mh(lE(this.M())),this.Ea(this.W()));kE.o.Ab.call(this,a,b)};
z.Cj("goog-color-menu-button",function(){return new kE(null)});z.v(nE,ex);z.ca(nE);nE.prototype.R=function(){return"goog-toolbar-menu-button"};z.v(oE,nE);z.ca(oE);oE.prototype.createCaption=function(a,b){return fx(QD(a,b),this.R(),b)};oE.prototype.Ea=function(a,b){a&&RD(this.aa(a),b)};oE.prototype.Ge=function(a){this.Ea(a.m(),a.W());z.Jg(a.m(),"goog-toolbar-color-menu-button");oE.o.Ge.call(this,a)};z.v(pE,kE);z.Cj("goog-toolbar-color-menu-button",function(){return new pE(null)});z.v(qE,gx);z.Cj("goog-toolbar-menu-button",function(){return new qE(null)});z.v(rE,gx);z.e=rE.prototype;z.e.la=null;z.e.D=function(){rE.o.D.call(this);tE(this);wE(this)};z.e.ga=function(a){rE.o.ga.call(this,a);(a=this.Jg())?sE(this,a):this.mf()||this.Ep(0)};z.e.C=function(){rE.o.C.call(this);this.la&&(this.la.H(),this.la=null);this.rw=null};z.e.co=function(a){this.zf(a.target);rE.o.co.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.uj=function(){var a=this.mf();rE.o.Ea.call(this,a&&a.W());tE(this)};
z.e.mh=function(a){var b=rE.o.mh.call(this,a);a!=b&&(this.la&&this.la.clear(),a&&(this.la?z.$h(a,function(a){vE(a);this.la.Ga(a)},this):uE(this,a)));return b};z.e.Ga=function(a){vE(a);rE.o.Ga.call(this,a);this.la?this.la.Ga(a):uE(this,this.$a());xE(this)};z.e.Ni=function(a,b){vE(a);rE.o.Ni.call(this,a,b);this.la?this.la.Ni(a,b):uE(this,this.$a())};z.e.removeItem=function(a){rE.o.removeItem.call(this,a);this.la&&this.la.removeItem(a)};
z.e.zf=function(a){if(this.la){var b=this.mf();this.la.zf(a);a!=b&&this.dispatchEvent("change")}};z.e.Ep=function(a){this.la&&this.zf(this.la.Zh(a))};z.e.Ea=function(a){if(null!=a&&this.la)for(var b=0,c;c=this.la.Zh(b);b++)if(c&&"function"==typeof c.W&&c.W()==a){this.zf(c);return}this.zf(null)};z.e.W=function(){var a=this.mf();return a?a.W():null};z.e.mf=function(){return this.la?this.la.mf():null};z.e.lj=function(){return this.la?this.la.lj():-1};
z.e.Ab=function(a,b){rE.o.Ab.call(this,a,b);this.ub()?this.$a().Ib(this.lj()):xE(this)};z.Cj("goog-select",function(){return new rE(null)});z.v(zE,rE);z.Cj("goog-toolbar-select",function(){return new zE(null)});var EE=[10,10,13,16,18,24,32,48];var VI=z.u("Link");z.u("Edit Link");z.u("Text to display:");z.WI=z.u("Link to:");z.u("Web address");z.u("Link to a page or file somewhere else on the web");z.u("Test this link");
z.u("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.u("To what URL should this link go?");z.u("Email address");z.u("Link to an email address");
z.u("Invalid email address");z.u("To what email address should this link?");z.u("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.u("Open this link in a new window");z.u("Image");var XI,YI,OE,NE,ZI,$I,aJ,bJ,DE,cJ,dJ,eJ,fJ,GE,gJ,hJ,iJ,jJ,kJ,lJ,mJ,nJ,oJ,pJ,qJ,rJ,sJ,tJ,uJ,vJ,wJ,xJ,yJ,zJ,AJ,BJ,CJ,DJ,EJ,FJ,GJ,HJ,IJ,JJ,LJ,MJ,NJ;
for(XI=z.u("Normal"),YI=z.u("Normal / serif"),OE=[{caption:XI,value:"arial,sans-serif"},{caption:YI,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],NE={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",
value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},ZI=z.u("Small"),$I=z.u("Normal"),aJ=
z.u("Large"),bJ=z.u("Huge"),DE=[{caption:ZI,value:1},{caption:$I,value:2},{caption:aJ,value:4},{caption:bJ,value:6}],cJ=z.u("Heading"),dJ=z.u("Subheading"),eJ=z.u("Minor heading"),fJ=z.u("Normal"),GE=[{caption:cJ,Ca:"H2"},{caption:dJ,Ca:"H3"},{caption:eJ,Ca:"H4"},{caption:fJ,Ca:"P"}],gJ=z.u("Format"),hJ=z.u("Format"),iJ=z.u("Undo"),jJ=z.u("Redo"),kJ=z.u("Font"),lJ=z.u("Font size"),mJ=z.u("Text color"),nJ=z.u("Bold"),oJ=z.u("Italic"),pJ=z.u("Underline"),qJ=z.u("Text background color"),rJ=z.u("Add or remove link"),
sJ=z.u("Numbered list"),tJ=z.u("Bullet list"),uJ=z.u("Decrease indent"),vJ=z.u("Increase indent"),wJ=z.u("Align left"),xJ=z.u("Align center"),yJ=z.u("Align right"),zJ=z.u("Justify"),AJ=z.u("Remove formatting"),BJ=z.u("Insert image"),CJ=z.u("Strikethrough"),DJ=z.u("Left-to-right"),EJ=z.u("Right-to-left"),FJ=z.u("Quote"),GJ=z.u("Edit HTML source"),HJ=z.u("Subscript"),IJ=z.u("Superscript"),JJ=z.u("Edit HTML"),z.KJ={},LJ=[{Ca:"+undo",V:iJ,Na:"tr-icon tr-undo",factory:PE,ib:!0},{Ca:"+redo",V:jJ,Na:"tr-icon tr-redo",
factory:PE,ib:!0},{Ca:"+fontName",V:kJ,Na:"tr-fontName",factory:function(a,b,c,d,f,g){var h=KE(a,b,c,d,f,g);ME(h);sE(h,XI);z.Jg(h.$a().aa(),"goog-menu-noaccel");h.Fi=function(a){var b=null;a&&0<a.length&&(b=z.Xh(h.$a(),AE(a)));b!=h.mf()&&h.zf(b)};return h},ib:!0},{Ca:"+fontSize",V:lJ,Na:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=KE(a,b,c,d,f,g);CE(h);sE(h,$I);z.Jg(h.$a().aa(),"goog-menu-noaccel");h.Fi=function(a){var b;if(b=z.q(a))b=a.match(GI),b="px"==(b&&b[0]||null);b&&(a=z.y.lastIndexOf(EE,
(0,window.parseInt)(a,10)));a=0<a?a:null;a!=h.W()&&h.Ea(a)};return h},ib:!0},{Ca:"+bold",V:nJ,Na:"tr-icon tr-bold",ib:!0},{Ca:"+italic",V:oJ,Na:"tr-icon tr-italic",ib:!0},{Ca:"+underline",V:pJ,Na:"tr-icon tr-underline",ib:!0},{Ca:"+foreColor",V:mJ,Na:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=LE(a,b,c,d,f,g);a.Dp("#000");a.Fi=z.pa(QE,a);return a},ib:!0},{Ca:"+backColor",V:qJ,Na:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=LE(a,b,c,d,f,g);a.Dp("#FFF");a.Fi=z.pa(QE,a);return a},
ib:!0},{Ca:"+link",V:rJ,caption:VI,Na:"tr-link",ib:!0},{Ca:"+insertOrderedList",V:sJ,Na:"tr-icon tr-insertOrderedList",ib:!0},{Ca:"+insertUnorderedList",V:tJ,Na:"tr-icon tr-insertUnorderedList",ib:!0},{Ca:"+outdent",V:uJ,Na:"tr-icon tr-outdent",factory:z.HE},{Ca:"+indent",V:vJ,Na:"tr-icon tr-indent",factory:z.HE},{Ca:"+justifyLeft",V:wJ,Na:"tr-icon tr-justifyLeft",ib:!0},{Ca:"+justifyCenter",V:xJ,Na:"tr-icon tr-justifyCenter",ib:!0},{Ca:"+justifyRight",V:yJ,Na:"tr-icon tr-justifyRight",ib:!0},{Ca:"+justifyFull",
V:zJ,Na:"tr-icon tr-justifyFull",ib:!0},{Ca:"+removeFormat",V:AJ,Na:"tr-icon tr-removeFormat",factory:z.HE},{Ca:"image",V:BJ,Na:"tr-icon tr-image",factory:z.HE},{Ca:"+strikeThrough",V:CJ,Na:"tr-icon tr-strikeThrough",ib:!0},{Ca:"+subscript",V:HJ,Na:"tr-icon tr-subscript",ib:!0},{Ca:"+superscript",V:IJ,Na:"tr-icon tr-superscript",ib:!0},{Ca:"ltr",V:DJ,Na:"tr-icon tr-ltr",ib:!0},{Ca:"rtl",V:EJ,Na:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.JE(a,b,c,d,f,g);h.Fi=function(a){a=!!a;z.Ng(h.getParent().m(),
"tr-rtl-mode",a);h.Ld(a)};return h},ib:!0},{Ca:"+BLOCKQUOTE",V:FJ,Na:"tr-icon tr-BLOCKQUOTE",ib:!0},{Ca:"+formatBlock",V:gJ,caption:hJ,Na:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=KE(a,b,c,d,f,g);FE(h);sE(h,fJ);z.Jg(h.$a().aa(),"goog-menu-noaccel");h.Fi=function(a){a=a&&0<a.length?a:null;a!=h.W()&&h.Ea(a)};return h},ib:!0},{Ca:"editHtml",V:GJ,caption:JJ,Na:"tr-editHtml",factory:z.HE}],MJ=0,NJ;NJ=LJ[MJ];MJ++)z.KJ[NJ.Ca]=NJ;LJ=null;var OJ={};OJ.track=z.fn;z.v(z.RE,z.Sx);z.qa(z.RE.prototype,OJ);z.RE.prototype.defaults={tk:null,title:"Distraction Free Mode",XK:"back",gT:"publish",jx:"zu-editing-distraction-free",VT:"sticky-goog-scrollfloater",qU:"zm-editable-toolbar-container"};z.RE.prototype.ld=z.jb("FullScreenPlugin");z.KJ.toggleFullScreen={Ca:"toggleFullScreen",V:"\u5199\u4f5c\u6a21\u5f0f",Na:"tr-icon tr-max",factory:z.HE};z.e=z.RE.prototype;z.e.Je=z.pa(z.A.zg,{SV:"toggleFullScreen",nV:"enterFullScreen",oV:"exitFullScreen"});
z.e.C=function(){this.ca.H();z.Q(this.h);this.J=this.Wp=this.yc=this.Cb=this.h=null;z.RE.o.C.call(this)};
z.e.Mv=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.XK+'" name\x3d"return"\x3e\u8fd4\u56de\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.gT+'" name\x3d"save"\x3e\u53d1\u5e03\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ca.g(z.N("back",b),"click",function(a){a.preventDefault();WE(this)});this.ca.g(z.N("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&WE(this)});this.h=b;this.yc=z.N("content",b);this.Wp=z.P("div",{className:"toolbar-info"});this.J.tk||(this.J.tk=this.G.Ba)};z.e.hf=function(a){this.h||this.Mv();switch(a){case "enterFullScreen":TE(this);break;case "exitFullScreen":WE(this);break;case "toggleFullScreen":this.yy()?WE(this):TE(this)}};
z.e.yy=function(){return z.T.has(window.document.body,this.J.jx)};z.e.hH=function(){this.yy()?WE(this):"writing"===window.location.hash.slice(1)&&TE(this)};z.e.Yo=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&WE(this)};z.e.zI=function(a){z.T[a?"add":"remove"](this.Cb,this.J.VT)};z.v(XE,Uw);z.Cj("goog-checkbox-menuitem",function(){return new XE(null)});z.v(YE,z.kk);
YE.prototype.init=function(){this.nm=z.M("zh-question-redirect-info");this.nm.innerHTML&&(this.Do=!0);this.v().g(this.nm,"click",function(a){"cancel"===a.target.name&&$E(this)});var a=z.M("zh-question-side-header-wrap");if(z.Zr.ob&&!z.Zr.dG&&a){var b=z.M("zh-question-filter-wrap");b?z.Ue(a,b):a.style[z.Js]="none"}(this.bg=z.M("zh-question-operation-menu"))&&this.Aj();this.v().g(z.sj,"anon_change",function(a){var b=z.M("zh-question-side-invitation-anon");b&&z.R(b,a.nb);(b=z.M("zh-question-side-invitation-notanon"))&&z.R(b,
!a.nb);this.dm&&this.dm.Ya(jw(this.data.dh)||!a.nb)})};
YE.prototype.Aj=function(){this.hb=new Zw;var a=this.data.bn,b=this.bg.getAttribute("data-auth"),b=b?b.split(","):[];if(null==a||0===a)this.hb.Ga(this.wt=ZE("\u4f7f\u7528\u533f\u540d\u8eab\u4efd",!0)),this.wt.Ld(this.data.nb),z.Gs&&z.y.contains(z.Gs,"question_op_redirect")||"close"===z.As.status||(this.hb.Ga(this.dm=ZE(this.Do?"\u64a4\u6d88\u91cd\u5b9a\u5411":"\u95ee\u9898\u91cd\u5b9a\u5411")),this.dm.Ya(jw(this.data.dh)||!this.data.nb)),z.y.contains(b,"auth-f-manage")&&this.hb.Ga(this.LR=ZE("\u66f4\u65b0\u8bdd\u9898\u9875\u663e\u793a",
!1)),this.v().g(this.hb,"action",this.tj),this.wt&&this.v().g(z.sj,"anon_change",function(a){this.wt.Ld(!!a.nb)}),this.Jb&&z.y.contains(b,"auth-pu-mark")&&(this.hb.Ga(this.Ez=ZE("\u4f18\u8d28\u56de\u7b54",!0)),this.Ez.Ld(this.Jb.uP)),a=new gx("Settings",this.hb),a.hk=!0,ix(a),a.w(this.bg)};
YE.prototype.tj=function(a){var b=this.wt;if(a.target===b)ev(b.qf()?1:0,function(a){a||b.Ld(!b.qf())});else if(a.target===this.dm){if(!1===vC({lm:!0})())return!1;this.gp||(this.gp=new AB(this.oa),this.v().g(this.gp,"change",this.aQ));this.hb.F(!1);this.Do?$E(this):this.gp.show()}else a.target===this.GR?z.Li("/question/"+this.data.kb+(this.GR.qf()?"/unlock_summary":"/lock_summary"),function(){window.top!==window?window.top.location.href="/question/"+z.As.kb:window.location.reload()},"POST"):a.target===
this.LR?window.$.post("/refresh_topic_feeds",{q:z.As.kb}).done(function(a){a.r||z.U("\u64cd\u4f5c\u6210\u529f\uff01")}):a.target===this.Ez&&window.$.post("/answer/"+this.Jb.kb+(this.Ez.qf()?"/good_mark":"/good_unmark")).done(function(a){a.r||z.U("\u64cd\u4f5c\u6210\u529f\uff01")})};
YE.prototype.aQ=function(){this.nm.innerHTML='\x3cdiv class\x3d"zg-wrap"\x3e\x3cdiv class\x3d"zu-global-nitify-inner"\x3e\x3cspan class\x3d"zu-global-notify-icon"\x3e\x3c/span\x3e\u6b64\u95ee\u9898\u5c06\u8df3\u8f6c\u81f3 \x3ca href\x3d"/question/'+this.gp.Vt+'"\x3e'+this.gp.PH+'\x3c/a\x3e\uff08\x3ca href\x3d"javascript:;" name\x3d"cancel"\x3e\u64a4\u6d88\u91cd\u5b9a\u5411\x3c/a\x3e\uff09\x3c/div\x3e\x3c/div\x3e';z.R(this.nm,!0);this.Do=!0;this.dm.xm("\u64a4\u6d88\u91cd\u5b9a\u5411")};z.v(aF,z.up);aF.prototype.Ph=function(){aF.o.Ph.call(this);this.Tk.innerHTML="\u66f4\u65b0"};aF.prototype.ga=function(a){aF.o.ga.call(this,a);a=this.M();var b=a.B("strong",null,hw(this.pB));a.xo(b,this.$b)};z.v(bF,z.kk);var dF=null;bF.prototype.ea=function(a){this.h=z.P("div","zu-bio-editor-wrap",[this.dP=z.P("div","zu-bio-editor-inner-wrap"),this.xc=z.P("div","zm-command",[this.Tk=z.P("a",{name:"save",href:"javascript:;",className:"zg-r3px zg-btn-blue"},"\u5b8c\u6210")])]);z.y.forEach(this.Zk,function(a){a=new aF(a);a.ea(this.dP);this.items.push(a)},this);this.aP&&z.R(this.xc,!1);a.appendChild(this.h);this.v().g(this.xc,"click",this.Ma)};
bF.prototype.lx=function(){var a=this.items.length,b;if(!a&&this.Zk.length)for(b=0;b<this.Zk.length;b++)if(this.Zk[b][1])return this.Zk[b][1];var c=null;for(b=0;b<a;b++)if(c=this.items[b].fb())return c};bF.prototype.Ma=function(a){(a=this.Ig(a.target))&&"save"===a.name&&(this.Aa&&this.Aa.F(!1),this.dispatchEvent("change"))};z.v(gF,z.S);z.e=gF.prototype;z.e.C=function(){kF(this);this.bd.H();gF.o.C.call(this)};
z.e.w=function(a){this.h=a;this.Bs=z.N("draft-saved-info",a);z.R(this.Bs,!1);this.KF=z.N("draft-saved-time",a);this.DL=z.N("draft-clear-button",a);a=this.v().g(this.bd,z.Qk,this.Wt).g(this.DL,"click",this.EL).g(this.Pr,"keydown",this.HP);"oninput"in this.Pr&&!z.C?a.g(this.Pr,"input",this.fP):a.g(this.Pr,"keydown",this.gP);var b=z.ys.Qd&&1E3*z.ys.Qd[1];b&&(lF(this,b),this.jB=(0,window.setInterval)((0,z.r)(function(){lF(this,b)},this),22E3))};
z.e.HP=function(a){(a.metaKey||a.ctrlKey)&&"s"===z.Gm[a.keyCode]&&(this.YP(),this.isContentEditable||a.preventDefault())};z.e.Ew=function(){(0,window.$)(window).on("beforeunload.DraftSaver",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u6210\u529f\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.yr=function(){(0,window.$)(window).off("beforeunload.DraftSaver")};z.e.fP=function(){jF(this);hF(this)};
z.e.gP=function(a){z.Pg(a.keyCode)&&(jF(this),hF(this))};z.e.ka=function(a){this.wb.ka(a);this.wb.yp()};z.e.fb=function(){return this.wb.lf()};z.e.nI=function(){if(!this.Vd){var a=this.fb();if(a){iF(this,"\u4fdd\u5b58\u4e2d\u2026");var a=(new z.Yk).add("qid",this.oa).add("content",a).add("timestamp",(0,z.x)()),b=new z.V;b.ajax("/answer/draft/save",a.toString(),"POST");this.v().g(b,"success",(0,z.r)(this.Yg,this));this.mG=b}}};z.e.TU=150;z.e.Wt=z.on(gF.prototype.TU,gF.prototype.nI);z.e.ZP=350;
z.e.YP=z.on(gF.prototype.ZP,gF.prototype.nI);z.e.hP=3E3;z.e.eP=z.on(gF.prototype.hP,function(){this.Vd||(this.fb()?this.Wt():mF(this))});z.e.Yg=function(a){a=z.fe(a.target);var b="",c=!1;0===a.r?b="\u5df2\u4fdd\u5b58":(b=a.msg||"\u4fdd\u5b58\u5931\u8d25\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002",c=!0);kF(this);z.R(this.Bs,!0);iF(this,b,c);this.yr();"\u4fdd\u5b58\u6210\u529f"===a.msg&&this.dispatchEvent("saveContent");this.bd.start()};
z.e.EL=function(a){a.preventDefault();z.Gi("\u6e05\u9664\u8349\u7a3f",this.VF?"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5e76\u53d6\u6d88\u7f16\u8f91\u5417\uff1f":"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5417\uff1f",function(a){a&&(this.VF?(mF(this),this.wb.dispatchEvent("cancel_edit"),this.wb.Bi()):(this.ka(""),mF(this),Uu(this.wb)))},this)};var qF=z.zi(function(){var a=oF();(0,window.$)("body").append(a);return a});z.v(rF,z.S);
rF.prototype.B=function(){rF.o.B.call(this);var a=(0,window.$)('\x3cdiv class\x3d"carousel"\x3e\x3cdiv class\x3d"carousel-navigation-btn"\x3e\x3cdiv class\x3d"carousel-left-btn copyright-ico-prev"\x3e \x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-content"\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-navigation-btn"\x3e\x3cdiv class\x3d"carousel-right-btn copyright-ico-next"\x3e \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');this.OP=(0,window.$)(".carousel-left-btn",a);this.dT=(0,window.$)(".carousel-right-btn",a);
this.ZC=(0,window.$)(".carousel-content",a);this.$C=(0,window.$)("\x3cdiv\x3e\x3c/div\x3e").addClass("carousel-navigation-dot-group");z.y.forEach(this.contents,function(a,c){this.ZC.append(a);this.$C.append(this.Cr[c])},this);this.ZC.append(this.$C);sF(this,0);this.ga(a[0]);this.K=(0,window.$)(this.h).addClass(this.className)};rF.prototype.D=function(){rF.o.D.call(this);this.OP.click(window.$.proxy(this.prev,this));this.dT.click(window.$.proxy(this.next,this))};
rF.prototype.next=function(){sF(this,this.Cg+1)&&this.dispatchEvent({type:"rightShow",offset:this.Cg})};rF.prototype.prev=function(){sF(this,this.Cg-1)&&this.dispatchEvent({type:"leftShow",offset:this.Cg})};z.v(vF,z.xp);z.e=vF.prototype;z.e.NE=function(){var a=z.Ae("h2","zm-editable-content",z.M("zh-question-title"))[0];return{title:a&&(/answer\/\d+$/.test(window.location.pathname)?z.sf(a):a.firstChild.nodeValue)||"",tk:this.$i}};z.e.lx=function(){return this.kn};z.e.bu=function(a){this.nb=a};z.e.Ya=function(a,b){this.enabled=a;this.Is?(this.Bi(),this.Sb=b,this.$b.innerHTML=this.Sb):b&&(this.Sb=b)};z.e.ga=function(a){vF.o.ga.call(this,a);this.Is=!0;z.T.add(this.$b,"zu-answer-form-disabled-wrap")};
z.e.C=function(){this.Es&&(z.Q(this.Es),this.vJ=this.Es=null);vF.o.C.call(this)};z.e.qj=function(a){this.bu(a.nb);this.Eq&&(this.Eq.checked=a.nb)};z.e.D=function(){vF.o.D.call(this);this.v().g(z.sj,"anon_change",this.qj)};
z.e.Bg=function(){vF.o.Bg.call(this);var a=this.M(),b=z.Y.ya();this.Es=a.B("div","zh-answer-form clearfix",[b?iw(this.uJ):"",this.vJ=a.B("div",null,[a.B("div","zu-answer-form-title",[b?gw(this.uJ):"\u6211\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898",this.dL=a.B("span")])])]);wF(this,this.kn);a.xo(this.Es,this.$i);this.v().g(this.vJ,"click",this.Ma);z.Y.ya()?z.Y.active||xF(this,'\x3cdiv class\x3d"activate-mask-tip-answer"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e',
'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):xF(this,'\x3cdiv class\x3d"signin-mask-tip-answer"\x3e\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u56de\u7b54\x3c/a\x3e\x3c/div\x3e')};
z.e.$r=function(a){switch(a){case "edit_bio":a=cF();if(!this.Dv){var b=z.As.kb;a.Qy=!0;a.$H=b;this.v().g(a,"change",this.rz)}this.Dv=!0;fF(a);break;case "cancel_delete":this.dispatchEvent("cancel_delete_answer");break;case "answer_my_question":yF(this)}return!0};z.e.we=function(){"editing"===this.status?this.Mb&&z.R(this.Mb,!0):this.Mb&&z.R(this.Mb,!1);z.R(this.hd,!1);this.$b&&z.R(this.$b,!this.enabled)};
z.e.KL='\x3cdiv class\x3d"zm-command clearfix"\x3e\x3clabel class\x3d"zg-left anno-box"\x3e\x3cinput name\x3d"anno-checkbox" type\x3d"checkbox"\x3e \u533f\u540d \x3cspan\x3e\x26nbsp;\x3c/span\x3e\x3c/label\x3e \x3clabel class\x3d"zg-left copyright-box"\x3e\x3cinput name\x3d"copyright-checkbox" type\x3d"checkbox"\x3e\u672a\u7ecf\u8bb8\u53ef\uff0c\u7981\u6b62\u8f6c\u8f7d'+(z.Zr.ob?"":'\x3ca href\x3d"/terms#sec-licence-6" target\x3d"_blank"\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark" style\x3d"margin-left: 5px;" id\x3d"copyright_question_mark" data-copyright-demo\x3d"true"\x3e\x3c/i\x3e\x3c/a\x3e')+
'\x3c/label\x3e \x3c% if (questionStatus !\x3d\x3d "normal") { %\x3e\x3cspan class\x3d"zg-gray-normal" style\x3d"margin-right:5px;"\x3e\u88ab\x3c%\x3d statusText %\x3e\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\x3c/span\x3e\x3ca class\x3d"zg-right" data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e\x3c% } %\x3e\x3cspan class\x3d"\x3c%\x3d (questionStatus !\x3d\x3d "normal" ? "hidden" : "") %\x3e zg-right"\x3e\x3ca class\x3d"submit-button zg-btn-blue" name\x3d"save" href\x3d"javascript:;"\x3e\u53d1\u5e03\u56de\u7b54\x3c/a\x3e\x3c/span\x3e\x3cdiv class\x3d"draft-controls zg-right '+
(z.Zr.ob?"draft-controls-mobile":"")+'"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
z.e.Ph=function(){var a=(0,z.Gp)(this.KL);this.xc=z.Ne(a({questionStatus:z.As.status,statusText:{suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"}[z.As.status]}));this.Tk=(0,window.$)(".submit-button",this.xc)[0];zF(this);this.yD=(0,window.$)("input[name\x3dcopyright-checkbox]",this.xc)[0];this.yD.checked=!this.lr;this.Mb.appendChild(this.xc);this.ready(function(){if(this.La&&this.La.on)this.La.on("load",this.my,!1,this)});z.Zr.ob||uF()};
z.e.my=function(){var a=new gF(this);z.gc(this,a);this.v().g(a,"saveContent",function(){var a=!this.Cd&&this.La.$h("FullScreenPlugin");a&&SE(a)},!1,this);var b=Vu(this);this.v().g(b,"focus",function(){a.bd.start()}).g(b,"blur",function(){jF(a);a.Wt()}).g(this,"saveSuccess",function(){jF(a);mF(a)});a.w(this.xc);this.bE=a};z.e.rz=function(){var a=cF().lx();a&&wF(this,a)};z.v(AF,z.S);AF.prototype.B=function(){AF.o.B.call(this);this.h=z.Ne(PJ)};AF.prototype.D=function(){AF.o.D.call(this);this.Ji=(0,window.$)(this.m());this.mk=lw("answer",this.BC);var a="/qrcode?"+window.$.param({url:window.location.protocol+"//"+window.location.hostname+"/question/"+this.wS+"/answer/"+this.BC+"#showWechatShareTip"});(0,window.$)(".js-qrcode-image",this.Ji).attr("src",a);this.Gb()};
AF.prototype.Gb=function(){var a=this;(0,window.$)("button.weibo",this.Ji).click(function(){a.mk.done(function(a){a.r||(vz(a.msg.sina),z.fn("share","answer_weibo"))})})};var PJ='\x3cdiv class\x3d"answer-share-tip"\x3e\u5206\u4eab\u6211\u7684\u56de\u7b54\u5230\x3cbutton class\x3d"wechat hidden-phone"\x3e\x3cdiv class\x3d"qr-code"\x3e\u626b\u63cf\u4e8c\u7ef4\u7801\x3cimg class\x3d"js-qrcode-image" alt\x3d"\u5fae\u4fe1\u5206\u4eab\u4e8c\u7ef4\u7801"\x3e\x3c/div\x3e\x3cspan class\x3d"ico z-ico-wechat"\x3e\x3c/span\x3e\u5fae\u4fe1\x3c/button\x3e\x3cbutton class\x3d"weibo"\x3e\x3cspan class\x3d"ico z-ico-weibo"\x3e\x3c/span\x3e\u5fae\u535a\x3c/button\x3e\x3c/div\x3e';z.v(BF,z.xp);var EF=[{value:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0",label:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0"},{value:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f",label:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f"},{value:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f",label:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f"},{value:"other",label:"\u5176\u4ed6"}];z.e=BF.prototype;z.e.w=function(a){BF.o.w.call(this,a);this.v().g(z.sj,"anon_change",this.qj)};
z.e.qj=function(a){this.Ns||z.T.enable(this.h,"zm-editable-disabled",a.nb)};
z.e.Ph=function(){BF.o.Ph.call(this);this.aA=z.P("div",{"class":"zm-editable-require-reason-wrap",style:"padding:10px 0 0 0"},[z.P("a",{"class":"zg-right zg-link-litblue",href:"/question/19550238/answer/12202028",target:"_blank"},"\u4e3a\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u88ab\u516c\u5171\u7f16\u8f91\uff1f"),DF(),this.LG=z.P("span"),this.zS=z.P("div",{"class":"zg-form-text-input",style:"height:22px;margin:10px 0 0 0;display:none"},this.yS=z.P("textarea",{style:"width:100%;height:22px !important;min-height:22px !important;"}))]);
z.Ue(this.aA,this.xc);this.pp&&FF(this," * \u5fc5\u9009","zg-gray-normal");var a=z.Ae("select",null,this.aA)[0];this.v().g(a,"change",function(){z.R(this.zS,"other"===a.value);FF(this," * \u5fc5\u9009","zg-gray-normal")})};
z.e.Yg=function(a){var b=z.Ae("select",null,this.aA)[0],c=b.value;if(this.pp){if("none"===c){FF(this,"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531");return}if("other"===b.value&&(c=z.Rm(this.yS.value),!c)){FF(this,"\u8bf7\u586b\u5199\u4fee\u6539\u7406\u7531");return}}"title"===this.ur&&-1===a.indexOf("?")&&-1===a.indexOf("\uff1f")?FF(this,"\u8fd8\u6ca1\u6709\u8f93\u5165\u95ee\u53f7"):("none"===c&&(c=""),this.params=["id\x3d"+this.oa+"\x26reason\x3d"+(0,window.encodeURIComponent)(c)+"\x26question_id\x3d"+
this.oa],this.dispatchEvent("change"),BF.o.Yg.call(this,a),FF(this,"* \u5fc5\u9009","zg-gray-normal"),this.pp=!0)};z.e.lf=function(){return this.Cd&&this.TR?(0,z.ln)(z.Aa(this.La.value)):BF.o.lf.call(this)};z.e.gf=function(){(0,window.$)(window).on("beforeunload.EditorWithReason",(0,z.r)(function(){return"\u4f60\u5bf9\u95ee\u9898\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Mf=function(){(0,window.$)(window).off("beforeunload.EditorWithReason")};
z.e.Bi=function(){BF.o.Bi.call(this);this.Mf()};z.e.Af=function(){BF.o.Af.call(this);this.gf()};z.v(GF,z.Gq);GF.prototype.da=function(a,b,c,d){var f=Tv(z.ye(a)),g=this.Oh.x+f.x,f=this.Oh.y+f.y,h=z.yl(a),g=g-h.x,f=f-h.y;z.Al(new z.te(g,f),a,b,c,null,null,d)};z.v(HF,GF);HF.prototype.Go=0;HF.prototype.zm=function(a){this.Go=a};HF.prototype.da=function(a,b,c,d){var f=z.fh(a),f=z.ih(f),g;g=z.L(a);g=z.He(g.Ja);g=new z.te(this.Oh.x+g.scrollLeft,this.Oh.y+g.scrollTop);var h=b,l=z.Al(g,a,h,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)h^=2;if(l&64||l&128)h^=1;l=z.Al(g,a,h,c,f,10,d);0!=(l&496)&&z.Al(g,a,b,c,f,this.Go,d)}};z.v(IF,Zw);z.e=IF.prototype;z.e.nU=!1;z.e.iG=0;z.e.Lf=null;z.e.ga=function(a){IF.o.ga.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.M().m(a),1)};z.e.D=function(){IF.o.D.call(this);this.Bf.forEach(this.EC,this);var a=this.v();a.g(this,"action",this.vQ);a.g(this.M().ta(),"mousedown",this.dH,!0);z.D&&a.g(this.M().ta(),"contextmenu",this.dH,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.Bf.Sd(z.ka(a))||(a?(b={h:a,QI:b,gQ:c,Mw:d?"contextmenu":"mousedown",Zy:f},this.Bf.set(z.ka(a),b)):b=null,this.va&&this.EC(b),a=z.pa(this.cR,a),this.m()&&this.v().g(this.m(),"keydown",a))};z.e.cR=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.Zh(this,this.Ra).m(),d=new z.vc(b.xb,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.Bc(c)?z.Zc(c,"keydown",!1,d):z.Wc(c,"keydown",!1,d);32==b.keyCode&&this.hide()}};
z.e.EC=function(a){this.v().g(a.h,a.Mw,this.sH);"contextmenu"!=a.Mw&&this.v().g(a.h,"keydown",this.AR)};z.e.detach=function(a){if(!a||!this.Bf.Sd(z.ka(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ka(a);if(this.va){var b=this.Bf.get(a);this.v().na(b.h,b.Mw,this.sH)}this.Bf.remove(a)};z.e.FI=function(a,b,c){b=z.ba(a.QI)?new $w(a.h,a.QI,!0):new HF(b,c);b.zm&&b.zm(5);JF(this,b,a.gQ,a.Zy,a.h)};
z.e.hide=function(){this.T()&&(this.F(!1),this.T()||(this.iG=(0,z.x)(),this.Lf=null))};z.e.Cy=function(){return this.T()||150>(0,z.x)()-this.iG};z.e.vQ=function(){this.hide()};z.e.sH=function(a){KF(this,a)};z.e.AR=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||KF(this,a);40==a.keyCode&&z.Ju(this)};z.e.dH=function(a){this.T()&&!this.If(a.target)&&this.hide()};z.e.Wc=function(a){IF.o.Wc.call(this,a);this.hide()};z.e.C=function(){IF.o.C.call(this);this.Bf&&(this.Bf.clear(),delete this.Bf)};z.v(LF,z.S);LF.prototype.L=function(a,b){LF.o.L.call(this,a,b);this.v().g(a,"beforeexpand",this.sO)};LF.prototype.sO=function(a){var b=a.target;z.$h(this,function(a){b!==a&&a.oc()&&a.Ua(!1)})};LF.prototype.H=function(){this.v().H();LF.o.H.call(this)};z.v(MF,z.Ai);MF.prototype.D=function(){MF.o.D.call(this);z.Di(this,490);(0,window.$)(this.m()).addClass("user-guiding-dialog")};z.v(QF,z.S);z.e=QF.prototype;z.e.B=function(){QF.o.B.call(this);this.h=z.P("div",{className:"question-invite-panel"})};z.e.D=function(){QF.o.D.call(this);this.K=(0,window.$)(this.m())};z.e.C=function(){QF.o.C.call(this);this.Z&&this.Z.H();delete this.Z;delete this.Ol;delete this.Fj};z.e.oc=function(){return this.jf};z.e.Df=function(){this.Ua(!this.jf)};z.e.Ua=function(a){a!==this.oc()&&(a&&!this.Ic&&RF(this),this.jf=a,this.K.toggle(a))};
z.e.jy=function(a){var b=this,c=(0,z.Gp)(QJ),d=new z.Rl(a,{Id:20,source:"/question/ac/invite-people?question_token\x3d"+this.ep,fh:this.m(),placeholder:"\u641c\u7d22\u4f60\u60f3\u9080\u8bf7\u7684\u4eba",qd:function(a,b,d){d.innerHTML=c(a.data)},filter:function(a){return z.y.filter(a,function(a){return!WF(b,a.member_hash)})},select:function(){return""},format:function(a){return a}});d.ui=function(){return!1};var f=d.N;f.className="suggest-persons search";f.gg="person";f.jg(!1);var g=(0,window.$)(".suggest-persons-wrapper",
this.h),h=z.zi(function(){(0,window.$)(f.m()).on("click","button",window.$.proxy(b.bF,b))}),l=(0,window.$)(".invite-title .spinner-gray");(0,window.$)(".search-input",this.h).on("input",function(){l.css("display","inline-block")});d.addEventListener("show",function(){l.hide();var a=f.m();g.hide();(0,window.$)(".no-result-tips",b.h).remove();var c=(0,window.$)(".person",a);5<c.length&&(c.hide().slice(0,5).show(),(0,window.$)('\x3ca class\x3d"js-more" href\x3d"#"\x3e\u66f4\u591a\u641c\u7d22\u7ed3\u679c\x3c/a\x3e').appendTo(a).one("click",
function(){c.show();(0,window.$)(this).remove();return!1}));h()});d.addEventListener("hide",function(){l.hide();a.value.length?(0,window.$)(".no-result-tips",b.h).length||(g.hide(),(0,window.$)('\x3cspan class\x3d"no-result-tips"\x3e\u6ca1\u6709\u627e\u5230\u4f60\u60f3\u9080\u8bf7\u7684\u4eba\x3c/span\x3e').appendTo(b.h)):(g.show(),(0,window.$)(".no-result-tips",b.h).remove())});d.addEventListener("dismiss",function(){(0,window.$)(".no-result-tips",b.h).remove();g.show()});this.Z=d};
z.e.AQ=function(){this.oc()?(this.Z&&this.Z.H(),RF(this)):this.Ic=!1};z.e.lN=function(){ev(0)};
z.e.bF=function(a){var b=a.target,c=this.DH((0,window.$)(b).parents(".person"));this.Ol&&"pending"===this.Ol.state()&&this.Ol.abort();a=b.getAttribute("data-type");var d=z.T.has(b,this.SF),f=(0,z.r)(function(a){a?(YF(this,b,!0),this.Fj.unshift(c),$F(this),XF(this,c.id,!0),this.uL()):(YF(this,b,!1),ZF(this,c.id),XF(this,c.id,!1))},this);d?(this.Ol=mw(this.ep,c.id),f(!1)):(this.Ol=window.$.post("/question/askpeople",{qid:this.ep,uid:c.id,_source_type:a,op:"add"}).done(function(a){a.r&&(z.U(a.msg),f(!1))}),
f(!0),VF(this,a))};z.e.mN=function(a){a=a.target.getAttribute("data-uid");mw(this.ep,a);XF(this,a,!1);ZF(this,a)};z.e.uL=z.zi(function(){z.Y.dh&&window.$.post("/question/popup",{action:"invite",question_token:this.ep},function(a){a&&PF(new MF,a)})});z.e.DH=function(a){var b=(0,window.$)(".zm-item-link-avatar",a),c=(0,window.$)(".zg-link",a);return{id:String((0,window.$)("button",a).data("uid")),avatar:(0,window.$)("img",b).attr("src"),fullname:c.text(),url_token:b.attr("href").split("/").slice(-1)[0]}};
var SF='\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cdiv class\x3d"spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e',bG='\u4f60\u5df2\u9080\u8bf7 \x3cspan class\x3d"invited-shortlist"\x3e\x3c% helper.each(persons.slice(0, 2), function(person, i, sliced) { %\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3c%\x3d i !\x3d\x3d sliced.length - 1 ? "\u3001" : ""%\x3e\x3c% }); %\x3e\x3c%\x3dhelper.fullList()%\x3e\x3c/span\x3e\x3c% if (persons.length \x3e 2) { %\x3e \u7b49 \x3c%\x3dpersons.length%\x3e \u4eba \x3c% } %\x3e\x3c% if (persons.length \x3c 6) { %\x3e \uff0c\u8fd8\u53ef\u4ee5\u9080\u8bf7 \x3c%\x3d6-persons.length%\x3e \u4eba\x3c% } %\x3e',
aG='\x3cdiv class\x3d"invited-hovercard"\x3e\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cul class\x3d"invited-fulllist"\x3e\x3c% helper.each(persons, function(person, i) { %\x3e\x3cli\x3e\x3ca title\x3d"\x3c%-person.fullname%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3dperson.url_token%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3dperson.avatar%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray" title\x3d"\x3c%-person.fullname%\x3e"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3cbutton class\x3d"cancel-button zg-link-btn zg-link-gray" data-uid\x3d"\x3c%\x3dperson.id%\x3e"\x3e\u6536\u56de\u9080\u8bf7\x3c/button\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3c/div\x3e',
QJ='\x3ca data-tip\x3d"p$t$\x3c%\x3durl_token%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3durl_token%\x3e" title\x3d"\x3c%\x3dfullname%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3davatar_path%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"content"\x3e\x3cbutton class\x3d"invite-button zg-btn zg-btn-green" data-uid\x3d"\x3c%\x3dmember_hash%\x3e" data-type\x3d"search"\x3e\u9080\u8bf7\u56de\u7b54\x3c/button\x3e\x3cdiv class\x3d"describe"\x3e\x3ca data-tip\x3d"p$t$\x3c%\x3durl_token%\x3e" href\x3d"/people/\x3c%\x3durl_token%\x3e" class\x3d"zg-link"\x3e\x3c%\x3dhighlighted_fullname%\x3e\x3c/a\x3e\x3c% if(headline) { %\x3e \uff0c\x3cspan class\x3d"bio" title\x3d"\x3c%-headline%\x3e"\x3e\x3c%\x3dhighlighted_headline%\x3e\x3c/span\x3e \x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"reason"\x3e\x3c% if (detailed_info) {%\x3e \x3c%\x3ddetailed_info%\x3e\x3c% } %\x3e\x3c% if (topic["answer_num"]) {%\x3e\u5728 \x3ca href\x3d"/people/\x3c%\x3durl_token%\x3e/topic/\x3c%\x3dtopic["url_token"]%\x3e/answers" data-tip\x3d"t$b$\x3c%\x3dtopic["url_token"]%\x3e" data-token\x3d"\x3c%\x3dtopic["url_token"]%\x3e" data-topicid\x3d"\x3c%\x3dtopic["id"]%\x3e"\x3e \x3c%\x3dtopic["name"]%\x3e \x3c/a\x3e \u8bdd\u9898\u4e0b\u6709 \x3c%\x3dtopic["answer_num"]%\x3e \u4e2a\u56de\u7b54 \x3c% } %\x3e\x3c/div\x3e\x3c/div\x3e';z.v(cG,z.S);z.e=cG.prototype;z.e.D=function(){cG.o.D.call(this);this.v().g(this.h,"click",this.ap);dG(this);this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("label","question")})};z.e.Bj=function(){var a=(0,window.$)("a[name\x3dreport-question]",this.m());a.length&&qx(new ox("question",this.data.oa),a[0])};
z.e.Cj=function(){var a=(0,window.$)('a[name\x3d"share"]',this.m()).get(0);a&&wz(a,"question",this.data.kb,window.location.protocol+"//"+window.location.host+"/question/"+this.data.kb)};
z.e.ap=function(a){var b=(a=z.cn(this.h,a.target))&&a.name;if(b)switch(b){case "addcomment":"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(a).text())?z.nm(this.Yr,{ya:"question_add_comment_start"}).call(this,a):this.Yr(a);break;case "remove":fG(this);break;case "admin":eG(this,a);break;case "invite":this.vy.Df(),a=this.vy.oc(),(0,window.$)('a[name\x3d"invite"]',this.m()).text(a?"\u6536\u8d77\u9080\u8bf7":"\u9080\u8bf7\u56de\u7b54"),a=this.vy.oc(),this.dispatchEvent(new yy("click!invitation",
{category:"invitation",action:(a?"show":"hide")+"_ask_to_answer_card",label:"?",value:this.data.te}))}};z.e.Yr=function(a){this.qa.Df();this.qa.oc()&&this.qa.Di("view_comments",(0,window.parseInt)(z.sf(a),10)||0)};z.e.QL=function(a){this.mC.W(a.msg.action);this.mC.xm(a.msg.caption)};z.v(fA,z.S);z.e=fA.prototype;z.e.Sa=function(){return this.Um.data("votecount")};z.e.Jc=function(){this.dispatchEvent("change")};z.e.kp=function(a){if(a=(0,z.Ya)(a))a=(0,window.$)(a),this.Um.replaceWith(a),this.Um=a,this.ic(),this.Jc()};
z.e.ic=function(){function a(a,d){var f=z.P("div","zm-voters");a.appendChild(f);var g=z.P("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.Nb+"/voters_profile",l=new Mw({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.Um.data("votecount",c.total),b.Jc()),h=c.next);return{results:a.payload,next:!!h}})}});l.w(g);l.Dd().setAttribute("hidden","true");z.gc(d,l);l.v().wa(l,"next",function(){l.Fb().length?(l.Dd().removeAttribute("hidden"),
l.use("autoload",{GC:!1,viewport:f})):(l.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e\u8fd8\u6ca1\u6709\u4eba\u8d5e\u540c\x3c/div\x3e')});return l.Ul()}var b=this;(0,window.$)("a.more",this.Um).click(function(){var c=sw({mi:!0,title:b.Sa()+" \u4eba\u8d5e\u540c",className:"zm-voters-dialog",cw:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.aa(),c).then(function(){b.resolve(null)})})}).promise()});c.v().g(b,"change",function(){c.jb(b.Sa()+" \u4eba\u8d5e\u540c")})})};
z.e.D=function(){this.Um=(0,window.$)(this.h);this.ic()};gG.prototype.Gb=function(){var a=[this.K.get(0)].concat(this.K.parents().get()),b=window.$.map(a,function(a){return(0,window.$)(a).data("navigable")})[0];this.qQ=b&&window.$.grep(b.items(),function(b){return~window.$.inArray(b,a)})[0]};gG.prototype.getItem=function(){return this.qQ};z.v(hG,z.xp);z.e=hG.prototype;z.e.D=function(){hG.o.D.call(this);this.ready(function(){if(this.La&&this.La.on)this.La.on("load",this.my,!1,this)})};
z.e.my=function(){var a=new gF(this,!0);z.gc(this,a);this.v().g(a,"saveContent",function(){var a=!this.Cd&&this.La.$h("FullScreenPlugin");a&&SE(a);(0,window.$)(this.$q).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09")}).g(a,"clearContent",function(){(0,window.$)(this.$q).text("\u53d6\u6d88");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539")});
var b=Vu(this);this.v().g(b,"focus",function(){a.bd.start()}).g(b,"blur",function(){jF(a);this.UL!==this.lf()&&a.Wt()}).g(this,"saveSuccess",function(){delete z.ys.Qd;jF(a);mF(a)}).g(this,"save_unchanged",function(){delete z.ys.Qd;jF(a);mF(a)});a.w(this.xc);z.ys.Qd&&z.ys.Qd[0]&&(0,window.$)(this.$q).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00")};
z.e.Ph=function(){this.xc=z.P("div","zm-command",[(0,window.$)('\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u53d6\u6d88\u7f16\u8f91\u5e76\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e')[0],this.$q=
z.P("a",{"class":"zm-command-cancel",name:"cancel",href:"#"},"\u53d6\u6d88"),this.Tk=z.P("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"#"},"\u53d1\u5e03")]);this.Mb.appendChild(this.xc)};z.e.Ww=function(){var a=this;window.$.get("/draft/get",{qid:this.sp},function(b){b.r||(a.eu(b.msg),a.UL=b.msg)})};
z.e.LE=function(){var a=[];if(!this.disabled){var b="\u4fee\u6539";z.ys.Qd&&z.ys.Qd[0]&&(b="\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09");a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+b+"\x3c/span\x3e\x3c/a\x3e")}return a.join("")};z.v(iG,Pw);z.ca(iG);iG.prototype.B=function(a){var b=iG.o.B.call(this,a);z.Jg(b,"goog-submenu");jG(this,a,b);return b};iG.prototype.w=function(a,b){b=iG.o.w.call(this,a,b);z.Jg(b,"goog-submenu");jG(this,a,b);var c=z.Ae("DIV","goog-menu",b);if(c.length){var d=new Zw(a.M()),c=c[0];z.R(c,!1);a.M().ta().body.appendChild(c);d.w(c);a.mh(d,!0)}return b};iG.prototype.ka=function(a,b){var c=this.aa(a),d=c&&c.lastChild;iG.o.ka.call(this,a,b);d&&c.lastChild!=d&&z.Ig(d,"goog-submenu-arrow")&&c.appendChild(d)};
iG.prototype.Ge=function(a){iG.o.Ge.call(this,a);var b=a.aa(),c=a.M(),c=z.Be(c.Ja,"SPAN","goog-submenu-arrow",b)[0];kG(a,c);c!=b.lastChild&&b.appendChild(c);z.Bg(a.m(),"haspopup","true")};z.v(lG,Uw);var EG=218;z.e=lG.prototype;z.e.Ud=null;z.e.MA=null;z.e.cz=!1;z.e.sc=null;z.e.Nr=!1;z.e.Cq=!0;z.e.wP=!1;z.e.D=function(){lG.o.D.call(this);this.v().g(this.getParent(),"hide",this.nH);this.sc&&pG(this,this.sc,!0)};z.e.Eb=function(){this.v().na(this.getParent(),"hide",this.nH);this.sc&&(pG(this,this.sc,!1),this.Nr||(this.sc.Eb(),z.Q(this.sc.m())));lG.o.Eb.call(this)};z.e.C=function(){this.sc&&!this.Nr&&this.sc.H();this.sc=null;lG.o.C.call(this)};
z.e.Bc=function(a,b){lG.o.Bc.call(this,a);b&&(this.$a().vf=!0);a||(this.Ud&&z.cd(this.Ud),this.Ud=z.bd(this.Dg,EG,this))};z.e.ju=function(){var a=this.getParent();a&&z.Ku(a)==this&&(oG(this,!0),nG(this))};z.e.Dg=function(){var a=this.sc;a&&a.getParent()==this&&(oG(this,!1),z.$h(a,function(a){"function"==typeof a.Dg&&a.Dg()}))};z.e.F=function(a,b){var c=lG.o.F.call(this,a,b);c&&!this.T()&&this.Dg();return c};
z.e.ec=function(a){var b=a.keyCode,c=this.Gd()?37:39,d=this.Gd()?39:37;if(!this.cz){if(!this.isEnabled()||b!=c&&b!=this.fz)return!1;this.ju();z.Ju(this.$a());mG(this)}else if(!this.$a().ec(a))if(b==d)this.Dg();else return!1;a.preventDefault();return!0};z.e.JQ=function(){this.sc.getParent()==this&&(mG(this),this.xl().Bc(this),nG(this))};z.e.nH=function(a){a.target==this.xl()&&(this.Dg(),mG(this))};z.e.md=function(a){this.isEnabled()&&(mG(this),this.MA=z.bd(this.ju,EG,this));lG.o.md.call(this,a)};
z.e.Jd=function(a){mG(this);if(z.yj(this,8)||z.yj(this,16))return lG.o.Jd.call(this,a);this.ju();return!0};z.e.Ga=function(a){this.$a().L(a,!0)};z.e.Ni=function(a,b){this.$a().Dk(a,b,!0)};z.e.removeItem=function(a){(a=this.$a().removeChild(a,!0))&&a.H()};z.e.Zh=function(a){return z.Zh(this.$a(),a)};z.e.tl=function(){return z.Yh(this.$a())};z.e.Fb=function(){return this.$a().Fb()};
z.e.$a=function(){this.sc?this.Nr&&this.sc.getParent()!=this&&z.Wh(this.sc,this):this.mh(new Zw(this.M()),!0);this.sc.m()||this.sc.B();return this.sc};z.e.mh=function(a,b){var c=this.sc;a!=c&&(c&&(this.Dg(),this.va&&pG(this,c,!1)),this.sc=a,this.Nr=!b,a&&(z.Wh(a,this),a.F(!1,!0),a.an=!1,a.Re(!1),this.va&&pG(this,a,!0)))};z.e.If=function(a){return this.$a().If(a)};z.Cj("goog-submenu",function(){return new lG(null)});z.v(qG,lG);qG.prototype.ec=function(a){var b=qG.o.ec.call(this,a);a=(0,window.parseInt)(z.Gm[a.keyCode],10);(0,window.isNaN)(a)||this.$a().Ib(a-1);return b};z.v(dA,z.S);z.e=dA.prototype;z.e.defaults={SI:"textarea.content",WC:".toggle-expand",$T:".summary",bw:"zm-editable-content",Rr:!1};
z.e.D=function(){dA.o.D.call(this);var a=this.h,b=this.J;b.Rr?(this.Ve=(0,window.$)("."+b.bw,a),this.content=this.Ve.val(),this.Dc=(0,window.$)(b.WC,a)):(this.uq=(0,window.$)(b.SI,a),this.content=this.uq.is(":input")?this.uq.val():this.uq.html(),this.Ve=(0,window.$)(b.$T,a),this.Dc=(0,window.$)(b.WC,this.Ve));if(this.Ve.length){if(this.Dc.length)this.Dc.click(!1).on("click",window.$.proxy(this.expand,this));this.Ve.on("click",window.$.proxy(this.lO,this))}else this.valid=!1,this.expand=this.collapse=
z.m,this.dispatchEvent("invalid")};z.e.Dd=function(){return this.Dc.get(0)};z.e.fb=function(){return this.content};z.e.Ua=function(a,b){a?this.expand(b):this.collapse(b)};z.e.lO=function(a){var b=z.No();b&&b.mc()||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),this.expand()))};
z.e.expand=function(a){this.Ad||!1===this.dispatchEvent("beforeexpand")||(this.Ad=!0,this.J.Rr?(this.Ve.removeClass("fixed-summary"),this.Dc.remove()):(this.Ue?this.Ue.show():this.Ve.length&&(this.Ue=(0,window.$)("\x3cdiv\x3e",{html:this.content,"class":this.J.bw}).insertBefore(this.uq)),this.Ve.hide()),!0!==a&&this.dispatchEvent("expand"))};z.e.collapse=function(a){this.Ad&&(this.Ad=!1,this.Ue&&this.Ue.hide(),this.J.Rr?this.Ve.addClass("fixed-summary"):this.Ve.show(),!0!==a&&this.dispatchEvent("collapse"))};z.v(rG,z.S);var LG={all_can_comment:"\u5141\u8bb8\u4efb\u4f55\u4eba\u8bc4\u8bba",followee_can_comment:"\u5141\u8bb8\u6211\u5173\u6ce8\u7684\u4eba\u8bc4\u8bba",nobody_can_comment:"\u5173\u95ed\u8bc4\u8bba"};z.e=rG.prototype;z.e.Tn=function(){return"#answer-"+this.pa};z.e.Bj=function(){var a=(0,window.$)("a[name\x3dreport]",this.Vb);if(a.length){var b=new ox("answer",this.pa);qx(b,a[0]);z.gc(b,this)}};
z.e.Cj=function(){var a=(0,window.$)("a[name\x3dshare]",this.Vb).get(0),b=(0,window.$)(".answer-date-link",this.Vb).get(0)||(0,window.$)(this.Vb).closest(".feed-item, .zm-item").find(".question_link").get(0);a&&b&&(b=b.href,/\/answer\//.test(b)||(b=b.replace(/#answer-\d+/,"")+"/answer/"+this.kb),wz(a,"answer",this.kb,b))};z.e.$y=function(){Oz("answer",this.kb,"read")};z.e.Qj=function(){Oz("answer",this.kb,/^\/question\//.test(window.location.pathname)?"read":"touch")};
z.e.D=function(){rG.o.D.call(this);tG(this);this.Ff=z.N("zm-item-answer-author-info",this.h);var a=!1;!z.Y.ya()&&0<(0,window.$)(this.h).parents('div[data-fixed-summary\x3d"1"]').length&&(a=!0);uG(this,a);this.Vb=this.Vb||z.N("zm-item-meta",this.h);(this.ki=z.N("zm-meta-panel",this.Vb))&&this.v().g(this.ki,"click",this.ap);if(this.Ne)IG(this),this.Ff&&(this.xH=(this.nb=z.Ra(this.Ff.innerHTML,"\u533f\u540d\u7528\u6237"))?null:this.Ff.innerHTML.replace(/src=".+?"/g,'src\x3d"'+z.Y[2]+'"'),this.v().g(this.Ff,
"click",function(a){"cancel-anon"===a.target.name&&ev(!1)}));else if(this.qy(),!this.lr){var a=(0,window.$)(".copyright",this.Vb).data("author-avatar"),b=(0,window.$)(".zm-item-rich-text",this.h);a&&b.length&&pF(b,a)}wG(this);this.Dj();(0,window.$)(this.h).on("contentchange",window.$.proxy(this.Dj,this));this.ky();this.ic();HG(this);this.Bj();this.Cj();z.Ei&&!z.Fi&&xG(this)};z.e.EA=function(a){var b=this.Dj();b&&z.Vo(b,a)};
z.e.qy=function(){var a=z.N("zm-votebar",this.h)||z.N("zm-votebar",this.ki);if(a){var b=new Tz(this.pa);b.w(a);this.sb=b;this.v().g(b,"change",this.GS).g(b,"action",function(a){a.data.state===Vz.pe?z.X.sa({type:"ga_click_vote_up",target:this}):a.data.state===Vz.rg&&z.X.sa({type:"ga_click_vote_down",target:this})});(a=z.N("votenum-mobile",this.ki))&&(new $z(b)).w(a)}};
z.e.Dj=function(){if(this.yh)return this.yh;var a=z.N("zm-editable-content",this.h),b=this.sb&&this.sb.m();!this.Ne&&!z.Ei&&b&&(0,window.$)(b).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.yh=new z.$o(null,a),this.L(a),a.tag="votebar",a.Lz=50,a.w(b))};z.e.GS=function(){this.uk&&gA(this.uk)};
z.e.ic=function(){this.Ff&&this.v().g(this.Ff,"click",this.Ma);this.Ne&&(this.SK=z.Y);this.v().g(z.sj,"anon_change",function(a){this.Ne?this.bu(a.nb):this.sb.be()===Vz.pe&&gA(this.uk)});yG(this);(0,window.$)(this.h).on("focusin focusout",function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)})};z.e.Ig=function(a){return z.cn(this.h,a)};
z.e.Ma=function(a){if(a=(a=this.Ig(a.target))&&a.name)if("edit"===a){a=cF();if(!this.Dv){var b=z.As.kb;a.Qy=!0;a.$H=b;this.v().g(a,"change",this.rz)}this.Dv=!0;fF(a)}else"complex"===a&&(a=z.N("zm-item-answer-summary",this.h),b=z.N("zm-item-rich-text",this.h),z.R(a,!1),z.R(b,!0))};z.e.rz=function(){var a=cF().lx()||z.Y[4]||"";if(a){var b=z.N("zu-question-my-bio",this.Ff);b.title=a;b.innerHTML=a}};z.e.ky=function(){var a=z.N("zm-item-answer-author-wrap",this.h),a=z.N("zm-list-avatar",a);z.qt.add(a)};
z.e.bu=function(a){a?this.Ff.innerHTML='\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e\u533f\u540d\u7528\u6237\x3ca class\x3d"zg-link-gray cancel-anon" href\x3d"javascript:void(0);" name\x3d"cancel-anon"\x3e\u53d6\u6d88\u533f\u540d\x3c/a\x3e\x3c/h3\x3e':this.Ne&&(this.xH?this.Ff.innerHTML=this.xH.replace("\x3c/h3\x3e","").replace("\x3c/H3\x3e","")+'\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e\x3c/h3\x3e':
(a=[],a.push('\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e'),a.push(ew()),a.push(fw(z.Y,"zm-item-answer-creator")),a.push("\x3c/h3\x3e"),this.Ff.innerHTML=a.join("")))};z.e.qH=function(){var a=(0,window.$)(this.h);a.hide("fast",function(){a.remove()});this.H()};
z.e.ap=function(a){var b=this.Ig(a.target),c=b&&b.name;if(c)switch(c){case "addcomment":this.Hx();this.qa&&this.qa.oc()&&this.qa.Di("view_comments",(0,window.parseInt)(z.sf(b),10)||0);break;case "remove":this.as();break;case "thanks":z.X.sa({type:"ga_click_thank_answer",target:b});this.ks();break;case "comment_opt":this.$v||KG(this);break;case "admin":AG(this);break;case "nohelp":this.eF(a);break;case "favo":z.X.sa({type:"ga_click_collect_answer_box",target:b}),this.rj()}};
z.e.gO=function(){(new ox("answer",this.pa)).EI()};z.e.eF=sG(function(a){a=a.target;var b=!!a.m;z.X.sa({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.uw&&"pending"===this.uw.state()&&this.uw.abort();var c,d;d=b?a.Jg():a.innerHTML;d=(c=-1<d.indexOf("\u64a4\u9500"))?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9";b?a.xm(d):a.innerHTML=d;c=c?"/answer/helpful":"/answer/not_helpful";b||z.Wm(a);this.uw=window.$.post(c,{aid:this.pa})},{ya:"question_answer_not_helpful",gd:!0});
z.e.jO=sG(function(){yz(this.kb)},{ya:"question_answer_share"});z.e.rj=sG(function(){var a=kA.U();nA(a,this.pa);a.show()},{ya:"question_answer_collect",gd:!0});z.e.NL=function(){this.qa||zG(this);this.qa.Df();(0,window.$)(this.ki).toggleClass("focusin",this.qa.oc())};z.e.Hx=sG(rG.prototype.NL,function(){return{ya:"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(z.N("toggle-comment",this.h)).text())?"question_answer_add_comment_start":!1}});
z.e.Yr=sG(function(a){this.qa&&this.qa.oc()?this.qa.Ba.focus():this.Hx();a.preventDefault()},{ya:"question_answer_add_comment_start"});
z.e.ks=sG(function(){var a=(0,window.$)("a[name\x3dthanks]",this.ki)[0];a&&!z.T.has(a,"disabled")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Om(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.pa})):(z.Om(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.pa})),z.Wm(a))},{ya:"question_answer_thank"});
z.e.xA=function(a){Yz.xA(this.pa,a);(0,window.$)(".copyright",this.Vb).text(a?"\u4f5c\u8005\u4fdd\u7559\u6743\u5229":"\u7981\u6b62\u8f6c\u8f7d").attr("href",a?"/terms#sec-licence-1":"/terms#sec-licence-6")};z.e.pN=function(a){var b=a.target;a=b.W();"\u7981\u6b62\u8f6c\u8f7d"===a?this.xA(!b.qf()):"\u5220\u9664"===a?this.as():a in LG&&window.$.post("/answer/comment_permission",{answer_id:this.pa,permission:a}).done((0,z.r)(function(a){a&&!a.r&&z.y.forEach(this.aw,function(a){a.Ld(a===b)})},this))};
z.e.as=function(){z.Gi("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u81ea\u5df1\u7684\u7b54\u6848\u5417\uff1f","\u7b54\u6848\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4f60\u8fd8\u53ef\u4ee5\u64a4\u6d88\u672c\u6b21\u5220\u9664\u64cd\u4f5c\u3002",function(a){a&&(this.gi=!0,this.status=-1,MG(this))},this)};z.e.m=function(){return this.h};z.v(OG,rG);OG.prototype.w=function(a){OG.o.w.call(this,a);this.Ne&&this.bu(this.eM.nb)};OG.prototype.T=function(){return(0,window.$)(this.h).is(":visible")};z.v(PG,z.S);var gH=z.zi(ED);z.e=PG.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};z.e.D=function(){PG.o.D.call(this);var a=z.M("zh-question-meta-wrap");a&&(this.RH=new cG(this.data),this.L(this.RH),this.RH.w(a));this.to();RG(this);this.Ro=new RC;this.v().g(this.Ro,"change",this.Oz);this.Ro.init();this.BI();QG(this);(a=z.kj.topic_errors_info)&&z.ok(a)};
z.e.BI=function(){this.data.kb=z.As.kb;ZG(this,!0);z.Y.ya()&&(XG(this),YG(this));cH(this);(this.Yv=z.M("zg-question-suggested-topics"))&&this.v().g(this.Yv,"click",this.yQ);this.so();this.v().g(window,"hashchange",function(a){a=a.xb;a.oldURL&&"writing"===a.oldURL.split("#")[1]||VG(this)});aH(this);SG(this);z.zs&&(0,window.setTimeout)(function(){window.location.href=z.zs},5E3)};
z.e.to=function(){Oz("question",this.data.kb,"read");this.v().g(this,["click!","show!"],function(a){"comment"===a.namespace&&a.Mc.fill("category","question_answer").fill("label","question_answer");"invitation"===a.namespace&&a.Mc.fill("label","question_page")})};z.e.Oz=function(){this.CO=!0;this.rk=(0,window.$)(this.Ro.rQ)[0];z.Ve(this.rk,z.M("zh-question-redirect-info"));z.R(this.rk,!0);z.Zr.ob||(this.hj=new z.To,this.hj.w(this.rk),Xu(this.hj));this.v().g(this.rk,"click",this.ZE);VG(this)};
z.e.UO=function(a){"close"!==z.As.status&&(a=a.target.m(),this.Kb=new BF(this.data.oa,"/question/detail","content",!0,null),CF(this.Kb,jw(this.data.dh)),this.Kb.gW=z.en,z.N("zm-editable-content",a).innerHTML&&(this.Kb.pp=!0),this.Kb.w(a),this.v().g(this.Kb,"click_edit",function(){z.X.sa("ga_question_supplement_edit_start")}),this.v().g(this.Kb,"cancel_edit",function(){z.X.sa("ga_question_supplement_edit_cancel")}),this.v().g(this.Kb,"save_changed",function(){z.X.sa("ga_question_supplement_edit_save_changed")}),
this.v().g(this.Kb,"save_unchanged",function(){z.X.sa("ga_question_supplement_edit_save_unchanged")}),this.Kb.addEventListener("beforeedit",vC({lm:!0})))};
z.e.XO=function(a){a=a.target.m();var b=z.M("zh-question-answer-summary-link"),c;!a||!z.Zr.TF&&this.data.ZT||(c=new z.xp(!0,"/question/summary","content"),Wu(c,["id\x3d"+this.data.oa]),c.Zq=!1,c.w(a));if(b){var d=z.M("zh-question-answer-summary-wrap");this.v().g(b,"click",function(){c&&(z.R(d,!0),c.Af())}).g(d,"click",function(a){"cancel"===a.target.name&&(a=!c.lf(),z.R(d,!a))})}this.YT=c;this.YT.addEventListener("beforeedit",vC({lm:!0}))};
z.e.ZE=function(a){if("close"===a.target.name){if(this.hj&&(z.Wo(this.hj),z.Vo(this.hj,!1),window.history.replaceState)){a=new z.Sk(window.location.href);var b=a.Vc();b.remove("q");b.remove("psq");window.history.replaceState({},"",a.Oe+"?"+b.toString())}z.R(this.rk,!1);z.R(this.Jt,!1)}else if("A"===a.target.tagName&&"zh-question-suggest-reask"===a.target.id&&(z.R(this.Jt,!1),z.Dp.U().show()),b="a"===(0,window.$)(a.target).prop("tagName").toLowerCase()?a.target:this.Ig(a.target,"A"))a.preventDefault(),
a.stopPropagation(),a=b.getAttribute("data-source")||b.href,b=a.indexOf("#"),VG(this,z.Nd(0>b?null:a.substr(b+1)))};z.e.YN=function(){var a=this.vg,b=a.m(),c=a.se.fb()[0];z.R(b,!1);c=z.Ne((0,z.Ya)(c));z.Ue(c,b);this.Oi[a.pa]=null;this.Fq=z.y.filter(this.Fq,function(b){return b!==a.pa},this);var d=999;this.yv=z.y.filter(this.yv,function(b){b.aid===a.pa&&(d=b.vote);return b.aid!==a.pa},this);z.Q(b);a.H();bH(this,c,d,!1)};
z.e.qz=function(a){a=a.target;if(a instanceof OG){var b=a.m();switch(a.ev){case "collap":this.un.appendChild(b);z.T.add(b,"zm-item-collapsed");this.data.te--;WG(this);break;case "cancel_collap":this.Hq.appendChild(b);z.T.remove(b,"zm-item-collapsed");fH(this,b);this.data.te++;WG(this);break;case "set_delete":UG(this);this.data.te--;WG(this);break;case "cancel_delete":fH(this,this.Oi[this.ni].m()),UG(this),this.data.te++,WG(this)}}};z.e.GE=function(a){return this.Oi[a]};
z.e.aU=function(a){(a=z.cn(this.Mh,a.target))&&a.name&&("expand"===a.name?(this.JL||eH(this),dH(this,!0)):dH(this,!1))};z.e.IQ=function(){var a=this.Oi[this.ni],b;a?(NG(a),fH(this,a.m())):(b=this.Uj,a=new z.V(!0),this.v().wa(a,"success",function(){window.location.href="/question/"+z.As.kb+"/answer/"+b.url_token}),a.ajax("/answer/unremove","aid\x3d"+b.id))};
z.e.zQ=function(){var a=this.wb,b=a.Eq.checked,c=Number(!a.yD.checked),a={mi:!0,title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5728\u8be5\u95ee\u9898\u4e0b\u7684\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"},d=(0,z.r)(function(){if(!this.xhr||!this.xhr.Ub()){var a=this.wb.lf();if(a){var d=new z.V(!0),h=new z.Yk,l=b?1:0;h.add("id",this.oa).add("content",a).add("anon",l).add("copyable",c);d.on("success",function(){z.As.nb!==l&&
z.sj.dispatchEvent(new Pu(l));var a=z.fe(this.xhr);a&&!a.r?(a=z.Ne((0,z.Ya)(a.msg[0])),this.Hq.appendChild(a),bH(this,a,this.Fq.length,!0),z.Wm(a),UG(this),jF(this.wb.bE),mF(this.wb.bE),this.wb.H(),z.As.nb||(new AF(this.data.kb,this.Oi[this.ni].kb)).ea((0,window.$)(".zu-main-content-inner").get(0)),this.data.te++,WG(this)):z.Ki("\u63d0\u793a\u4fe1\u606f",a.msg)},!1,this);d.ajax("/answer/add",h.toString());this.xhr=d}}},this);z.As.nb&&!b?z.Gi(a,function(a){a&&d()}):d()};z.e.Ig=function(){};
z.e.yQ=function(a){if((a=this.Ig(a.target))&&a.name){var b=a.name;"close"===b?z.R(this.Yv,!1):"addtag"===b&&(this.Qa.Ye(a.id.split("-")[1],a.innerHTML),z.R(a,!1))}};z.e.so=function(){this.OA=new YE(this.oa);this.OA.init()};z.v(hH,PG);z.e=hH.prototype;z.e.BI=function(){(this.zr=z.M("zh-single-answer-disable-wrap"))&&this.v().g(this.zr,"click",this.bT);this.Nl();this.so();kH();ZG(this,!1);var a=(0,window.$)("#zh-question-answer-collections \x3e .zh-general-list").get(0);if(a){var b=new Mw({use:["autoload","nodeSource"]});this.L(b);b.w(a)}iH(this)};z.e.to=function(){this.v().g(this,["click!","show!"],function(a){"invitation"===a.namespace&&a.Mc.fill("label","answer_page")});hH.o.to.call(this)};
z.e.bT=function(a){a.target&&a.target.name&&NG(this.Jb)};z.e.Nl=function(){var a=z.N("zm-item-answer",z.M("zh-question-answer-wrap"));if(a){this.Jb=new OG(this.oa);this.L(this.Jb);this.Jb.w(a);a=this.v();a.g(this.Jb,"change",this.qz);if(this.Jb.Ne){a.g(z.sj,"anon_change",function(a){jH(this,a.nb)});var b=this.Jb.se;b&&a.g(b,"change",function(){var a=(0,z.Ya)(b.fb()[0]),a=z.Ne(a);z.Xe(a,this.Jb.h);this.Jb.H();this.Nl(a)})}lH(this);zG(this.Jb,{autofocus:!1,tG:!0});ED(this.Jb)}};
z.e.GE=function(a){if(this.Jb.pa===a)return this.Jb};z.e.TK='\x3ch3\x3e\u5173\u4e8e\u4f5c\u8005\x3c/h3\x3e\x3c% if (author) { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"/people/\x3c%\x3d author.url_token %\x3e" tabindex\x3d"-1"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"\x3c%\x3d author.avatar_path.replace("_s.","_m.") %\x3e"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\x3ca href\x3d"/people/\x3c%\x3d author.url_token %\x3e"\x3e\x3c%\x3d author.fullname %\x3e\x3c/a\x3e\x3c/h2\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\x3c%\x3d author.headline || "" %\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"javascript:;"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"http://img.zhihu.dev:4080/66/6b/666b0abfc_m.jpg"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\u533f\u540d\u7528\u6237\x3c/h2\x3e\x3c/div\x3e\x3c% } %\x3e';
z.e.so=function(){this.OA=new YE(this.oa,this.Jb);this.OA.init();var a=z.M("js-sidebar-author-info");a&&(new sC(a)).init()};z.e.qz=function(a){a=a.target;if(a instanceof OG)switch(a.ev){case "collap":z.T.add(a.m(),"zm-item-collapsed");break;case "cancel_collap":z.T.remove(a.m(),"zm-item-collapsed");break;case "set_delete":case "cancel_delete":lH(this),window.location.reload()}};z.v(mH,z.S);z.e=mH.prototype;z.e.init=function(){var a=z.N("js-topic-feed-page");this.w(a)};
z.e.D=function(){mH.o.D.call(this);var a=this;this.MB=(0,window.$)(".js-topic-feed-container",this.h);this.MB.find(".js-topic-item").each(function(){var b=new pH;a.L(b);b.w(this);a.v().g(b,"unfollow",function(){qH(a)})});this.Dt=new uH;this.Dt.w((0,window.$)(".js-pinned-topics",this.element)[0]);(this.fc=z.M("js-load-more"))&&this.v().g(this.fc,"click",this.Az);this.v().g(this.Dt,"change",function(a){(0,window.$)("#tf-"+a.ZI).find(".js-pin").replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')});
this.Ru=(0,window.$)(".follow-topics-count");rH(this);this.to()};z.e.Az=function(){nH(this.fc,!0);this.xhr=new z.V(!0);this.v().wa(this.xhr,"complete",(0,z.r)(this.Xg,this));var a=new z.dn;a.add("page",++this.page);this.xhr.ajax(window.location.pathname,a.Vc())};z.e.Xg=function(){var a=z.fe(this.xhr);a&&!a.r&&(0<a.msg.length?(oH(this,a.msg),nH(this.fc,!1)):(0,window.$)(this.fc).hide())};
z.e.to=function(){var a=(0,window.$)(this.m());window.$.each({".zu-main-sidebar .topics-plaza a":["visit_topic_square","topic_feed_sidebar"],".hidden-topics-plaza a":["visit_topic_square","topic_feed_recommend"],".js-pager.topics-pager":["click_change_recommend_topic","topic_feed_recommend"],".js-nomore-recommend":["click_nomore_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-follow":["click_follow_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-unfollow":["click_unfollow_recommend_topic",
"topic_feed_recommend"],'.topic-recommend .topic-feed-item a[href^\x3d"/question/"]':["visit_question","topic_feed_recommend"]},function(b,c){a.on("click",b,function(){z.W.apply(null,["topic"].concat(c))})})};z.v(pH,z.S);pH.prototype.D=function(){pH.o.D.call(this);this.v().g(this.h,"click",(0,z.r)(this.oz,this))};
pH.prototype.oz=function(a){var b=a.target;a=(0,window.$)(b).attr("data-action");var c=(0,window.$)(this.h).find(".topic-avatar img"),d=c.clone(),f,g=(0,window.$)(this.h).data("id");if("pin-topic"===a)f=this.getParent().Dt,xH(f,g).done(function(a){if(!a.r&&a.msg){(0,window.$)(".zu-main-sidebar .side-title").show();z.Wm(b);(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"unpin-topic" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e');
a=c.offset();var g=(0,window.$)(f.h).offset();1E3<a.top-g.top?(g=(0,window.$)(".top-nav-topic-selector.current a").offset(),g={top:g.top+20,left:g.left+15,width:"25px",height:"25px",opacity:.1},d.css({position:"absolute","z-index":"999"}).css("top",a.top).css("left",a.left).appendTo("body").animate(g,300,function(){d.remove()})):d.css({position:"absolute","z-index":"999"}).appendTo("body").css("top",a.top).css("left",a.left).animate({top:g.top-63+(0,window.$)(f.h).height(),left:g.left,width:"-\x3d50px",
height:"-\x3d50px",opacity:.5},300,function(){d.remove()});(0,window.$)(".no-pin-topics").hide()}});else if("unpin-topic"===a)yH(this.getParent().Dt,g,function(){var a=(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"zg-gray pin topic-hover-content" style\x3d""\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')[0];z.Wm(a)});else if("unfollow"===a){var h=this,l=(0,window.$)(h.h);(a=(0,window.$)(".topic-recommend .zg-btn-unfollow[data-id\x3d"+
b.id.match(/-(.*)/)[1]+"]").get(0))?(0,z.cu)(a,"topic",null,["zg-btn-follow","zg-btn-unfollow"]):(0,z.cu)(b,"topic",null,["follow","unfollow"]);l.fadeOut(function(){l.remove();h.dispatchEvent("unfollow")})}};z.v(uH,z.S);uH.prototype.SS=(0,z.Gp)('\x3cdiv class\x3d"side-topic-item js-pin-item  cursor-move" data-topicid\x3d"\x3c%\x3dtopic.id%\x3e" \x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"pin-topic-avatar-link"\x3e\x3cimg src\x3d"\x3c%\x3dtopic.avatar_path%\x3e" alt\x3d"" title\x3d"\u62d6\u52a8\u4ee5\u6392\u5e8f" class\x3d"side-topic-avatar js-topic-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-content ellipsis"\x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"topic-link side-topic-title"\x3e\x3c%\x3dtopic.name%\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-meta"\x3e\x3c% if (topic.children_num \x3e 0) { %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.children_num%\x3e \u4e2a\u5b50\u8bdd\u9898\x3c/span\x3e\x3cspan class\x3d"bull"\x3e\x26bull;\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.followers_num%\x3e \u4eba\u5173\u6ce8\x3c/span\x3e\x3c/div\x3e\x3c% if (topic.feed_num \x3e 0) { %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\x3c%\x3dtopic.feed_num %\x3e \u6761\u52a8\u6001\x26nbsp;\x26raquo;\x3c/a\x3e\x3c% }else{ %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\u8fdb\u5165\u8bdd\u9898 \x26raquo;\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e\x3ca href\x3d"javascript:;" data-action\x3d"up" class\x3d"up" data-tip\x3d"s$b$\u7f6e\u9876"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" data-action\x3d"remove" class\x3d"delete"\x3e\x3c/a\x3e\x3c/div\x3e');
uH.prototype.D=function(){uH.o.D.call(this);this.v().g(this.h,"click",(0,z.r)(this.oz,this));vH(this)};
uH.prototype.oz=function(a){var b=this,c=a.target,d=(0,window.$)(c).attr("data-action");if(d){var f=(0,window.$)(c).parents(".js-pin-item");if("up"===d){a=f.position();var g=f.clone();f.before(g).css({position:"absolute","z-index":"999"}).css("top",a.top).animate({top:(0,window.$)(b.h).position().top},200,function(){g.remove();f.css({position:"relative",top:0}).prependTo(b.h);b.pu()});g.css("opacity",0)}else"remove"===d&&f.fadeOut(function(){f.remove();b.pu();b.dispatchEvent({type:"change",ZI:f.attr("data-topicid")});
0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})}else a.stopPropagation()};uH.prototype.pu=function(){var a=[];(0,window.$)(this.h).find("div.js-pin-item").each(function(){a.push((0,window.$)(this).attr("data-topicid"))});return window.$.post("/pin-topic",{topic_ids:a.join(",")},function(){})};z.v(zH,z.S);z.e=zH.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){zH.o.D.call(this);this.Qu=(0,window.$)("ul.zm-topic-cat-main").children();var a=this.wd=(0,window.$)("div.zh-general-list"),b=new Mw({use:["autoload","nodeSource"]});this.L(b);b.w(a.get(0));this.v().g(b,"next",this.Bq);this.oG=b;a.on("click","a.follow",function(){(0,z.cu)(this,"topic",z.pa(z.Wm,this),null,{follow_text:"\u5173\u6ce8"})});z.G(window,"hashchange",this.iH,!1,this);this.iH()||(a.show(),this.Bq())};
z.e.Bq=function(){var a=this.wd.show().children();if(!a.length)return this.wd.html('\x3cp class\x3d"zg-gray-normal" style\x3d"text-align:center;line-height:4;"\x3e\u6ca1\u6709\u5b50\u8bdd\u9898\u3002\x3c/p\x3e');a.removeClass("no-border "+this.nE);a.filter(":odd").addClass(this.nE);a=a.last();a.index()%2?a.add(a.prev()).addClass("no-border"):a.addClass("no-border");a=this.Vr();a=BH(this,a.params&&a.params.topic_id);a.length&&a.addClass(this.Dn).siblings().removeClass(this.Dn)};z.e.Vr=function(){return this.wd.data("init")};
z.e.iH=function(){var a;a:{if(a=(0,window.decodeURIComponent)(window.location.hash.slice(1))){var b=AH(this,a);if(b.length&&this.Qu.filter("."+this.Dn).text()!==a){b.addClass(this.Dn).siblings().removeClass(this.Dn);a={params:{topic_id:b.data("id")}};b=this.Vr();window.$.extend(!0,b,a);this.wd.attr("data-init",JSON.stringify(b));this.wd.empty();this.oG.Ui();this.oG.Ul();a=!0;break a}}a=void 0}return a};z.v(CH,z.S);
var HH={We:"/settings/account/",VS:function(){return window.$.get(HH.We+"request_unlock")},WS:function(){return window.$.Deferred().resolve((0,window.$)("#tmpl-unlock-form").html())},xU:function(a){return window.$.post(HH.We+"unlock_with_digits",a)},yU:function(a){return window.$.post(HH.We+"unlock_with_password",a)},uT:function(a){return window.$.post(HH.We+"send_unlock_digits",{type:a})},MU:function(a){return window.$.post(HH.We+"validate_email",a)},NU:function(a){return window.$.post(HH.We+"validate_phone",
a)},rT:function(a){return window.$.post(HH.We+"send_new_email_digits",{email:a})},sT:function(a){return window.$.post(HH.We+"send_new_phone_digits",{phone_no:a})},EU:function(a){return window.$.post(HH.We+"update_password",a)},DU:function(a){return window.$.post(HH.We+"update_email",a)},FU:function(a){return window.$.post(HH.We+"update_phone",a)},vU:function(a){return window.$.Deferred(function(b){window.$.post("/oauth/unbind/"+a,function(a){a.r?b.reject(a.msg):b.resolve()})}).promise()}};
CH.prototype.D=function(){CH.o.D.call(this);JH(this);var a=(0,window.$)(".phone-form",this.h);a.length&&IH(a,{zD:60,vA:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u624b\u673a",uA:HH.sT,submit:HH.FU,vt:z.pa(DH,"\u624b\u673a\u7ed1\u5b9a\u6210\u529f")});a=(0,window.$)(".password-form",this.h);a.length&&IH(a,{submit:HH.EU,vt:z.pa(DH,"\u5bc6\u7801\u8bbe\u7f6e\u6210\u529f")});KH(this);if(a=z.jn.get("SettingsAccountPage:pageAlert"))z.Qr(a),z.jn.remove("SettingsAccountPage:pageAlert")};
z.ta("ZH.entrySettingsAccount",function(){var a=new CH;a.w((0,window.$)(".settings-acount-main")[0]);return a});z.v(LH,z.S);
LH.prototype.init=function(){(0,window.$)(".report-table .report-appeal").click(function(a){a.preventDefault();var b=(0,window.$)(this).closest("tr"),c=new z.Ai;z.pi(c,!0);c.ef=!0;z.ui(c,z.ji());c.jb("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");c.ka('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');c.F(!0);c.da();c.v().g(c,z.Yl,function(){window.$.post("/report/appeal",{report_id:b.data("id"),
reason:(0,window.$)('[name\x3d"reason"]',c.h).val()},function(){z.Gi({title:"\u7533\u8bc9\u63d0\u4ea4",mi:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",da:!0,buttons:["\u77e5\u9053\u5566"]})})})});(0,window.$)(".report-table .report-show-deleted").click(function(a){a.preventDefault();
(0,window.$)(this).next(".report-deleted").toggleClass("hidden")})};z.v(MH,z.S);MH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};MH.prototype.D=function(){MH.o.D.call(this);NH(this,"zh-global-logs-wrap");NH(this,"zh-global-logs-questions-wrap");NH(this,"zh-question-log-list-wrap")};z.v(OH,z.S);OH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};OH.prototype.D=function(){OH.o.D.call(this);this.qo("zh-question-followers-list-wrap")};OH.prototype.qo=function(a){if(a=z.M(a)){var b=new Mw;this.L(b);b.use("locationSource");b.w(a)}};z.v(QH,Mw);QH.prototype.Wq=function(){return z.Ne('\x3cbutton class\x3d"feeds-loading"\x3e\x3cspan\x3e\u66f4\u591a\x3c/span\x3e\x3c/button\x3e')};QH.prototype.LA=function(a){this.Rd&&(z.lf(this.Rd.firstChild,a?"\u52aa\u529b\u52a0\u8f7d\u4e2d...":"\u66f4\u591a"),z.T.enable(this.Rd,"loading",a))};z.v(RH,z.S);RH.prototype.Bk=function(){Bz.call(this,"answer");this.Rw="entry-expaneded";this.it="item-footer";this.iq="votebar"};z.v(RH.prototype.Bk,Bz);z.e=RH.prototype.Bk.prototype;
z.e.hn=function(){RH.prototype.Bk.o.hn.call(this,{".js-expand":this.Ua,".js-thank":this.ks});this.qy();var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new Zw;b.w((0,window.$)(".menu",a)[0]);b=new gx("operation",b);b.hk=!0;ix(b);hx(b);b.bc=z.as;b.w((0,window.$)(".menubutton",a)[0])}SH(this);this.Dj();b=(0,window.$)(".js-copyright-enable",this.h);b.length&&(a=(0,window.$)(".entry-content",this.h),b=b.data("author-avatar"),pF(a,b));this.Cj()};
z.e.Cj=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=(0,window.$)(this.m()).closest(".item").find(".question-link, .item-title .link").get(0);a&&b&&wz(a,"answer",this.Hg,b.href+"/answer/"+this.Hg)};
z.e.Dj=function(){var a=(0,z.r)(function(){if(!this.yh){var a=z.N("entry-content",this.h),c=this.sb&&this.sb.m();!z.Ei&&c&&(0,window.$)(c).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.yh=new z.$o(null,a),this.L(a),a.tag="votebar",a.w(c))}},this);this.v().g(this,["expand","collapse"],function(b){(b="expand"===b.type)&&a();this.yh&&z.Vo(this.yh,b)})};
z.e.qy=function(){var a,b,c=(0,window.$)("."+this.iq,this.m())[0];c&&(a=this.sb=new Tz(this.Nb,this.entryType),this.L(a),z.gc(this,a),a.w(c),(c=(0,window.$)(".js-mobi-vote",this.m())[0])&&(new $z(a)).w(c));if(c=(0,window.$)(".zm-item-vote-info",this.m())[0])b=new fA(this.Nb,this.entryType),this.L(b),z.gc(this,b),b.w(c);a&&b&&this.v().g(a,"change",function(){gA(b)}).g(b,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(b.Sa())})};
z.e.ks=Cz(function(a){(a=a.target)&&!z.T.has(a,"thanked")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Om(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.Nb})):(z.Om(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.Nb})))},{ya:"question_answer_thank"});z.e.rj=Cz(function(){var a=kA.U();nA(a,this.Nb);a.show()},{ya:"question_answer_collect",gd:!0});
z.e.qe=function(){RH.prototype.Bk.o.qe.call(this);z.Nm(this.Nd.register("v",function(){this.sb&&this.sb.xu()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Nm(this.Nd.register("d",function(){this.sb&&this.sb.wu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Nm(z.Nm(z.Nm(z.Nm(this.Nd.register("o",this.Df,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.Vp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("s c",this.rj,this),
{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("shift+c",this.Mx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};RH.prototype.hC=function(){Bz.call(this,"question");this.it="item-footer"};z.v(RH.prototype.hC,Bz);RH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body);this.uo();this.Fs();TH();var a=(0,window.$)(".rt-comment-box")[0];if(a){var b=new Vy(this.tp.id,"roundtable");this.L(b);b.w(a)}};
RH.prototype.uo=function(){this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("label","roundtable").fill("category",this.Zg)})};RH.prototype.Fs=function(){function a(a){a=a.getAttribute("data-type");return(a={answer:RH.prototype.Bk,question:RH.prototype.hC}[a])?new a:new z.S}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new QH;c.use("childConstructor",{factory:a});null!==this.getAttribute("data-navigable")&&c.use("shortcut",{items:"\x3e.item"});b.L(c);c.w(this)})};z.v(UH,z.S);UH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body);this.Fs();WH(this);XH(this);VH();PH("[data-highlight]",this.qA)};
UH.prototype.Fs=function(){function a(a){var b=new z.S;(0,window.$)("li.answer-item",a).each(function(){var a=new RH.prototype.Bk;a.it="actions";a.iq="zm-votebar";b.L(a);a.w(this)});return b}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new Mw({use:["autoload","dataPagingSource"]});c.use("childConstructor",{factory:a});var d=(0,window.$)(this).data("navigable");d&&c.use("shortcut",d);b.L(c);c.w(this);Iw(c,function(a){PH((0,window.$)("[data-highlight]",a),b.qA)})})};z.v(YH,z.H);
z.qa(YH.prototype,{defaults:{source:"/topic/autocomplete",cc:null,jM:"",Rv:!1,HU:"/topic/%s",template:'\x3cli data-id\x3d"\x3c%\x3did%\x3e"\x3e\x3ca class\x3d"tag-link" href\x3d"\x3c%\x3durl%\x3e"\x3e\x3c%\x3dname%\x3e\x3c/a\x3e\x3c/li\x3e',parse:function(a){var b=(0,window.$)(a);return{Rt:!0,id:b.data("id"),url:a.href,name:b.text()}},GT:z.as,zM:"canedit",Bw:"empty",pn:"button",HS:"remove-button"},bU:function(a){return Kw(this.J.HU,a.url_token)},has:function(a){return!!z.y.find(this.sh,function(b){return b.name===
a.name||b.id===a.id})},JM:function(a){return z.y.find(this.sh,function(b){return b.name===a})},uW:function(a){return z.y.find(this.sh,function(b){return b.id===a})},Jc:function(){var a=!!z.Ze(this.cc).length;z.T.enable(this.cc,this.J.Bw,!a);this.dispatchEvent("change")},add:function(a,b){a&&(this.has(a)||this.sh.push(a),a.Rt=!1,b||this.J.GT.call(this,a))&&(this.QS(a),a.Rt=!0,this.dispatchEvent("add"),this.Jc())},remove:function(a){this.sh=z.y.filter(this.sh,function(b){return a!==b.id},this);this.dispatchEvent("remove");
this.Jc()},bN:function(){return z.y.filter(this.sh,function(a){return!1!==a.Rt})},aN:function(){return z.y.map(this.bN(),function(a){return a.id})},QS:function(a){a=z.Ne(this.dI(a));this.cc.appendChild(a);this.Le(a)},dI:function(a){return(0,z.Gp)(this.J.template,a)},ea:function(){this.cc.innerHTML=z.y.map(this.sh,this.dI,this).join("")},dS:function(){return z.y.map(this.RE(),this.J.parse)},RE:function(){return z.Ze(this.cc)},ug:function(){var a=this,b=a.J;this.Z=$H(this.input,{source:b.source,fh:function(a){return z.zf(a,
function(a){return"static"!==window.$.css(a,"position")})}(a.input),placeholder:this.input.getAttribute("placeholder"),select:function(c){a.add({id:c.id,name:c.id?c.label:a.input.value,url:a.bU(c),avatar:c.avatar,url_token:c.url_token});return b.jM},filter:function(c){return z.y.filter(c,function(c){return b.Rv&&!c.id?!1:!z.y.find(a.sh,function(a){return a.Rt&&a.id===c.id})})}});z.y.forEach(this.RE(),this.Le,this);z.G(this.input,"keypress",function(c){var d;13!==c.keyCode||b.Rv||!(d=(0,z.Ya)(this.value))||
a.Z.ub()||a.add(a.JM(d)||{id:null,name:d,url:"/topic/"+d})});this.Jc()},removeTag:function(a){this.remove((0,window.$)(a).remove().data("id"))},fS:function(a,b){var c=z.y.find(this.Nv,function(b){return b.action===a});c&&c.method&&c.method.call(this,b);this.input.focus()},Le:function(a){var b=this.J;z.T.add(a,b.zM);z.y.forEach(this.Nv,function(c){var d=new z.Lj(" ",z.Uj.U());d.Eh([b.pn,c.iw].join(" "));d.ea(a);d.Ya(!0);d.rc(c.V);d.addEventListener("action",function(){this.fS(c.action,a)},!1,this)},
this)}});aI.prototype.init=function(){bI(this);dI(this)};z.v(fI,z.S);fI.prototype.xF=function(){var a=window.location.hash.slice(1);a&&(a=(0,window.$)('[data-section\x3d"'+a+'"]'),a.length&&z.Wm(a[0]))};fI.prototype.init=function(){(0,window.$)("a.js-obfuscate-email").each(function(){var a=(0,window.$)(this),b=a.data("email").split("").reverse().join("");a.attr("href","mailto:"+b).text(b)});this.xF();this.v().g(window,"hashchange",this.xF)};z.v(gI,z.S);gI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};gI.prototype.D=function(){gI.o.D.call(this);var a=(0,window.$)("#zh-following-question-item-list").children(".zh-general-list");if(a.length){var b=new Mw;this.L(b);b.use("nodeSource");b.w(a.get(0))}};z.v(hI,z.S);hI.prototype.D=function(){this.v().g(this.h,"click",this.Uo)};hI.prototype.Uo=function(a){var b=a.target;b&&"rmdraft"===b.name&&z.Gi("\u5220\u9664\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8349\u7a3f\u5417\uff1f",function(a){a&&(z.Li("/draft/delete",null,"POST","qid\x3d"+b.id.split("-")[1]),z.Q(this.h))},this)};z.v(iI,z.S);iI.prototype.init=function(){var a=z.M("zh-draft-page-wrap");a&&this.w(a)};
iI.prototype.D=function(){z.G(z.M("zh-clear-all-draft"),"click",function(){z.Gi("\u5220\u9664\u6240\u6709\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u8349\u7a3f\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",function(a){a&&z.Li("/draft/clear",function(){window.location.href="/draft"},"POST")});return!1});this.qo()};iI.prototype.qo=function(){var a=z.M("zh-draft-item-list");if(a){var b=new Mw;b.use("locationSource",{At:!0}).use("childConstructor",{Vk:hI});b.w(a)}};z.v(jI,z.S);jI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};jI.prototype.D=function(){jI.o.D.call(this);kI(this);this.oy();mI(this);this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Mc.fill("category",this.Zg).fill("label",this.IM)})};jI.prototype.oy=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=PC(a).done(function(a){b.html(a)}))})};z.v(lI,Mw);
lI.prototype.D=function(){lI.o.D.call(this);this.use("childConstructor",{Vk:Pz})};z.v(oI,z.S);oI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};oI.prototype.D=function(){oI.o.D.call(this);this.qo()};oI.prototype.qo=function(){var a=z.M("js-suggest-people");if(a){var b=new Mw({source:pI()});this.L(b);b.w(a)}};qI.$inject=["$scope"];qI.prototype.removeTag=function(a,b){a.splice((0,z.y.indexOf)(a,b),1)};qI.prototype.moveupTag=function(a,b){var c=(0,z.y.indexOf)(a,b);0<c&&(a.splice(c,1),a.splice(c-1,0,b))};qI.prototype.onActvityUrlChange=function(){var a=this.Yt,b=a.activityUrl,c=a.roundtable.activityUrls;b&&-1===(0,z.y.indexOf)(c,b)&&(c.push(b),a.activityUrl="")};
qI.prototype.submit=function(a,b){var c="create"===b,d={roundtable:JSON.stringify(a)};if(c&&3>a.activityUrls.length)return z.U("\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e09\u6761\u52a8\u6001");window.$.post(window.location.pathname+window.location.search,d).then(function(c){c.success?"create"===b?(z.U(c.message||"\u6d3b\u52a8\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"),(0,window.setTimeout)(function(){window.location.href="/roundtable"},3E3)):(z.U(c.message||"\u6d3b\u52a8\u4fee\u6539\u6210\u529f"),
(0,window.setTimeout)(function(){window.location.href="/roundtable/"+a.slug},3E3)):z.U(c.message||"\u63d0\u4ea4\u5931\u8d25")})};z.v(sI,z.Rl);tI.$inject=["$parse","$timeout"];vI.$inject=["$interpolate"];xI.$inject=["$interpolateProvider"];z.v(yI,RH);yI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body);this.Fe();zI(this);AI(this);TH();this.Fs()};
yI.prototype.Fe=function(){var a=(0,window.$)(".add-pending-activities-form");if(a.length){var b=(0,window.$)(".url",a),c=(0,window.$)(".time",a);c.datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"}).datetimepicker("update",new Date);var d=this.tp;a.submit(function(a){function g(a){a.success?(z.U("\u6dfb\u52a0\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},3E3)):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")}
a.preventDefault();if(!b.val())return z.U("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u5fc5\u987b\u586b\u5199");if(!c.val())return z.U("\u53d1\u5e03\u65f6\u95f4\u5fc5\u987b\u586b\u5199");a=(a=b.val().match(/\/question\/\d+\/answer\/(\d+)/))&&a[1];var h=b.val().match(/\/question\/(\d+)/),h=h&&h[1];a?window.$.post("/roundtable/"+d.slug,{action:"add_pending_activity",publish_time:c.val(),type:"answer",url_token:a},g):h?window.$.post("/roundtable/"+d.slug,{action:"add_pending_activity",publish_time:c.val(),
type:"question",url_token:h},g):z.U("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u4e0d\u6b63\u786e")})}};z.v(BI,z.S);BI.prototype.init=function(){var a=window.location.hash.slice(1);a&&(z.Wm((0,window.$)("."+a).get(0)),(0,window.$)(".zh-friendliness-sidenav").find('[data-section\x3d"'+a+'"]').addClass("active"));(0,window.$)(".zh-friendliness-sidenav a").click(function(b){a=(0,window.$)(b.target).data("section");z.Wm((0,window.$)("."+a).get(0));(0,window.$)(".zh-friendliness-sidenav a").removeClass("active");(0,window.$)(b.target).addClass("active")})};z.v(CI,z.S);
CI.prototype.init=function(){this.K=(0,window.$)(".friendly-quiz-container");this.FB=(0,window.$)(".view",this.K);(0,window.$)(".welcome-view",this.K);this.OK=(0,window.$)(".answering-view",this.K);this.Mp=(0,window.$)(".success-view",this.K);this.gl=(0,window.$)(".failed-view",this.K);this.Jp=(0,window.parseFloat)(this.K.data("star"));this.Zz=3;this.UJ=(0,window.$)(".item",this.K);this.EE=5;(0,window.$)(".start-btn",this.K).click(window.$.proxy(this.KI,this));(0,window.$)(".continue-btn",this.K).click(window.$.proxy(this.KI,
this));(0,window.$)(".choose-btn",this.K).click(window.$.proxy(this.vL,this))};CI.prototype.KI=function(){this.FB.hide();this.OK.show();this.rr=0;this.UB=(0,window.$)(this.UJ.splice(0,this.Zz));this.iD=[];DI(this)};
CI.prototype.vL=function(a){a=(0,window.$)(a.target).data("isfriendly");var b=this.Su.data("id");this.iD.push({id:b,isFriendly:a});this.rr<this.Zz?DI(this):window.$.post("/community/friendly/quiz",{params:JSON.stringify(this.iD)},window.$.proxy(function(a){a.r||(a=a.msg,a.contain_errors?a.can_answer?FI(this,a.wrong_question_ids,!0):FI(this,a.wrong_question_ids,!1):(this.Jp+=.5,a.can_answer&&this.Jp!==this.EE?EI(this,!0):EI(this,!1)))},this))};z.ta("ZH.entryCommunity",function(){(new LH).init()});z.ta("ZH.entryQuestionLog",function(){(new MH).init()});z.ta("ZH.entryQuestionFollowersPage",function(){(new OH).init()});z.ta("ZH.entrySQ",function(){(new PG).init()});z.ta("ZH.entrySA",function(){(new hH).init()});z.ta("ZH.entryL",function(){(new SC).init()});z.ta("ZH.entryT",function(){(new xC).init()});z.ta("ZH.entryTS",function(){(new zH).init()});z.ta("ZH.entryP",function(){(new JB).init()});z.ta("ZH.entrySearch",function(){(new UH).init()});
z.ta("ZH.entryPM",function(){(new tx).init()});z.ta("ZH.entryPMDetail",function(){(new vx).init()});z.ta("ZH.entrySettings",function(){(new jC).init()});z.ta("ZH.entryTopicFeed",function(){(new mH).init()});z.ta("ZH.entryRQ3",function(){(new aI).init()});z.ta("ZH.entryTerms",function(){(new fI).init()});z.ta("ZH.entryHome",function(){(new FD).init()});z.ta("ZH.entryQuestionFollowing",function(){(new gI).init()});z.ta("ZH.entryDraft",function(){(new iI).init()});z.ta("ZH.entryExplore",function(){(new jI).init()});
z.ta("ZH.entryLookup",function(){(new oI).init()});z.ta("ZH.entryRb",function(){(new RH).init()});z.ta("ZH.entryRbEdit",function(){var a=window.angular.module("roundtableApp",[]);a.controller("RoundtableFormCtrl",qI);a.directive("uiAvatarEditor",uI);a.directive("uiSuggest",vI);a.directive("uiTimepicker",tI);a.filter("avatarUrl",wI);a.config(xI);window.angular.bootstrap(window.document.body,["roundtableApp"])});z.ta("ZH.entryRbPending",function(){(new yI).init()});z.ta("ZH.entryFriendlinessPage",function(){(new BI).init()});
z.ta("ZH.entryFriendlyQuiz",function(){(new CI).init()});z.rg("app");}).call(this, __z_z__);
//@ sourceURL=module_app.js