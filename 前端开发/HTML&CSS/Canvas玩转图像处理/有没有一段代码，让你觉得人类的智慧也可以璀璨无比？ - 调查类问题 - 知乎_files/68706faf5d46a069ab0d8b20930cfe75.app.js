(function(z){
var yu=function(a){return 1==a.nodeType&&!z.Pe(a)};z.zu=function(a,b){this.node=a;this.offset=b};z.Au=function(a){return a.length||a.childNodes.length};z.Bu=function(a,b){return a.Oc&&b?z.y.indexOf(a.Oc,b):-1};z.Cu=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&yu(g))break;a=g;b=z.Au(a)}else{if(d&&yu(f))break;a=f;b=0}}else{if(d&&yu(a.lastChild))break;a=a.lastChild;b=z.Au(a)}else break}return new z.zu(a,b)};
var Du=function(a,b,c){c=0>c?z.Bu(a,a.pc):c;var d=z.Yh(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Zh(a,c);if(g&&a.VC(g)){a.uA(c);break}f++;c=b.call(a,c,d)}};z.Eu=function(a,b){var c=a.parentNode,d=z.y.indexOf(c.childNodes,a)+(b?0:1),c=z.Cu(c,d,b,!0);z.Qo(c.node,c.offset).select()};var Fu=function(a){Du(a,function(a,c){a--;return 0>a?c-1:a},a.Ra)};var Gu=function(a){Du(a,function(a,c){return(a+1)%c},a.Ra)};var Hu=function(a){Du(a,function(a,c){a--;return 0>a?c-1:a},0)};
z.Iu=function(a){Du(a,function(a,c){return(a+1)%c},z.Yh(a)-1)};z.Ju=function(a){return z.Zh(a,a.Ra)};var Ku=function(a,b){var c=b.m(),c=c.id||(c.id=b.ae());a.vg||(a.vg={});a.vg[c]=b};var Lu=function(a,b){var c=a.v(),d=a.dc();b?c.g(d,"focus",a.Cd).g(d,"blur",a.Uc).g(a.Qr(),"key",a.ec):c.na(d,"focus",a.Cd).na(d,"blur",a.Uc).na(a.Qr(),"key",a.ec)};var Mu=function(a,b){a&&(a.tabIndex=b?0:-1)};
z.Nu=function(a,b){if(z.Gk(a))a.selectionStart=b,a.selectionEnd=b;else if(z.C){b=z.Ik(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};var Ou=function(a){this.type="anon_change";this.ob=a};var Pu=function(a){return a.hj.length?a.hj.pop():a.An()};z.Qu=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.ye(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};z.Z=function(a,b){return z.aa[a]=b};z.Ru=function(a,b){a.jo=b||null};
z.Su=function(a,b){a.Uy=null==b||b instanceof z.Sg?b:new z.Sg(b,void 0,void 0,void 0);a.T()&&a.ba()};var Tu=function(a){a.ready(function(){var a=this.La;this.Zd?z.Nu(a,a.value.length):a.Aa.lastChild?z.Eu(a.Aa.lastChild):a.Vf();this.fl&&(this.fl.scrollTop=this.fl.scrollHeight)})};var Uu=function(a){return a.Zd?a.La:a.La.m()};var Vu=function(a,b){a.params=b};var Wu=function(a){a.ty=!0;a.CD=z.Ah(a.m()).height;z.Zt+=a.CD;z.y.forEach(z.To,function(a){a&&!a.ty&&a.ll&&a.ip()})};
var Xu=function(a,b){a.Gw=b};z.Yu=function(a,b,c){z.S.call(this,c);this.N=b||z.rn.U();this.Gb=a||this.N.hx()};var Zu=function(a){var b={};z.y.forEach(a.data.hb(),function(a){b[a]=this.data.get(a)},a);return b};var $u=function(a){a.Ub()&&a.fire()};var av=function(a,b){return a.ge.get(b)};var bv=function(a,b,c){var d=z.Ys;d.ca.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ca.na(this,"update",g))})};
var cv=function(a,b,c){b.v().g(a,"update",function(a){var f;z.Bc(b)?f=b.hasListener("nearbottom",void 0):(f=z.Lc(b),f=!!f&&f.hasListener("nearbottom",void 0));f&&c(a.target.size)&&b.dispatchEvent("nearbottom")})};
var dv=function(a,b,c){function d(){var b=new z.V(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.As.oa);b.on("success",function(){var c=z.fe(b);c&&!c.r&&f.dispatchEvent(new Ou(a))});b.ajax(d,g)}var f=z.sj,g={title:"\u786e\u8ba4\u4f7f\u7528\u533f\u540d\u8eab\u4efd\uff1f",content:'\x3cp\x3e\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u540e\uff0c\u4f60\u5c06\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e\u4e0d\u80fd\u5728\u8be5\u95ee\u9898\u4e0b\u8bc4\u8bba\uff08\u4f60\u4e4b\u524d\u7684\u8bc4\u8bba\u5c06\u88ab\u9690\u85cf\uff09\x3c/li\x3e\x3cli\x3e\u4e0d\u80fd\u9080\u8bf7\u522b\u4eba\u56de\u7b54\u8be5\u95ee\u9898\x3c/li\x3e\x3c/ul\x3e'},
h={title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\u3001\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"};z.Gi(a?g:h,function(a){a&&d();b&&b(a)})};var ev=function(a){return null!=a};var fv=function(){this.WA="";this.cK=gv};z.hv=function(a){return!/[^\t\n\r ]/.test(a)};z.iv=function(a,b,c){this.UG=a;this.$S=!!c;a&&!b&&this.next()};
var jv=function(a){return a instanceof fv&&a.constructor===fv&&a.cK===gv?a.WA:"type_error:Const"};z.kv=function(a){return 1==a.nodeType||3==a.nodeType&&!z.hv(a.nodeValue)};z.lv=function(a){try{return a.next()}catch(b){return null}};var mv=function(a,b,c){z.ba(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.iv.call(this,a.childNodes[c],!0,b)};var nv=function(){this.KH="";this.fK=ov};var pv=function(){this.km="";this.bK=qv};var rv=function(a){return 1==a.length?"0"+a:a};
var sv=function(a,b,c,d,f,g){z.sc.call(this,a);this.event=c;this.zr=g};var tv=function(a,b){return a>b};var uv=function(a,b){return a<b};var vv=function(a){return a.left||0};var wv=function(a){return a.left+a.width-1};var xv=function(a){return a.top+a.height-1};var yv=function(a,b){var c=a.bl;return Math.abs(b.y-(c.top+(c.height-1)/2))};
var zv=function(a,b){var c=window.$.extend({all:!1},zv.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};var Av=function(a,b,c){var d=z.jh(a);b instanceof z.te&&(c=b.y,b=b.x);z.dh(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};var Bv=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:z.bf(a.nextSibling,!0)};
var Cv=function(a){function b(a){if(z.fa(a))z.y.forEach(a,b);else{if(!(a instanceof z.jd)){var g=null;a.$x&&(g=a.rl());a=z.md(z.Fa(a.Nl?a.qj():String(a)),g)}d+=z.ld(a);a=a.rl();0==c?c=a:0!=a&&c!=a&&(c=null)}}var c=0,d="";z.y.forEach(arguments,b);return z.md(d,c)};z.Dv=function(a){for(var b;b=a&&1==a.nodeType?z.lv(z.I.filter(new mv(a,!1),z.kv)):null;)a=b;return a};
var Ev=function(a,b,c){z.Fn.call(this,a,0,c?"\u6dfb\u52a0\u7236\u8bdd\u9898":"\u6dfb\u52a0\u5b50\u8bdd\u9898");this.xy=c;this.Bf=b;this.zs="";this.YH="/topic/parent/remove"};var Fv=function(){z.H.call(this);this.Qc=[];this.cl=[];this.tw={};this.S=new z.dd(this);this.pP=this.VF=!1;this.qB=!0};var Gv=function(a,b,c){b.YD=c;b.Zi=void 0;a.Qc.push(b)};var Hv=function(a,b){for(var c=0,d=a.Qc.length;c<d;c++){var f=a.Qc[c];f.bl=z.th(f)}c=0;for(d=a.cl.length;c<d;c++)f=a.cl[c],f!=b&&(f.bl=z.th(f))};
var Iv=function(a){z.ic(a.Kb);a.Fc&&z.Q(a.Fc);a.Za&&"none"==a.Za.style.display&&(a.tt.insertBefore(a.Za,a.Cz),a.Za.style.display="");a.dw&&a.Za?z.Mg(a.Za,a.dw||[]):a.Za&&(a.Za.style.visibility="visible");for(var b=0,c=a.Qc.length;b<c;b++){var d=a.Qc[b];d.Zi&&z.Lg(d,d.Zi)}};var Jv=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};
var Kv=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({xJ:zv},z.tt,b||{});if(!c.xJ(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.xC?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var Lv=function(a,b){b.all=!0;return zv(a,b)};
var Mv=function(a,b,c,d){var f=null;d&&(c&&(c=window.$.proxy(c,d)),f&&(f=window.$.proxy(f,d)));window.$.get("/node/"+a,{params:b},function(a){a&&a.r?f&&f(a):c&&c(a)})};var Nv=function(a){var b=a.match(Ov);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var Pv=function(a){if(!Qv.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Rv,"#$1$1$2$2$3$3"));return a.toLowerCase()};
var Sv=function(a){var b=a.body;a=a.documentElement;return new z.te(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};z.Tv=function(a){z.Qo(z.Dv(a),0).select()};z.Uv=function(a,b){z.C&&z.Te(a);a.innerHTML=b};z.Vv=function(a,b){var c=z.vf(a);if(a.getElementsByTagName)for(var d in z.At)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"\u00a0"==c||z.hv(c)};z.Wv=function(a){if(a=z.Sn(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(c){}};
var Xv=function(a){z.Fn.call(this);this.He="\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\u3001\u533b\u5b66\u3001\u6cd5\u5f8b\u3001\u6570\u5b66...";this.data=a||[]};var Yv=function(a){if(a.Sf)(0,window.$)(a.Sf).on("click",".del",window.$.proxy(function(a){var c=(0,window.$)(a.target).parents(".item");c.data("active")?(z.We(this.$m,c[0],0),z.Vm(c[0])):z.Q(c[0]);z.y.forEach(this.data,function(a,b){a+""===c.data("url-token")+""&&this.data.splice(b,1)},this);this.Sk();this.dispatchEvent("remove")},a))};
var Zv=function(a){if(a.$m)(0,window.$)(a.$m).on("click",".add",window.$.proxy(function(a){a=(0,window.$)(a.target).parents(".item");z.We(this.Sf,a[0],0);z.Vm(a[0]);this.Sk();this.dispatchEvent("add")},a))};var $v=function(a){z.Fn.call(this,a,0);this.zs="";this.OC="/topic/ignore"};var aw=function(){z.Fn.call(this,null,null,"\u641c\u7d22\u8bdd\u9898");this.He="";this.data=[z.Ds[0]]};
var bw=function(a){if(a){var b=a.getBoundingClientRect(),c=b.bottom,b=b.top;c<z.Fe().height&&0>b&&(0,window.setTimeout)(function(){var b=a.getBoundingClientRect().bottom,f=Sv(window.document);window.scrollTo(f.x,f.y+b-c)})}};var cw=function(a,b,c){var d=(0,window.$)(a);d.addClass("animated "+b);(0,window.$)(a).one("webkitAnimationEnd animationend",function(){d.removeClass("animated "+b);z.ia(c)&&c()})};
var dw=function(a){function b(a){return window.$.isNumeric(a)?a+" ":a}var c;c=c||+new Date;if(0>=c-a)return"\u521a\u521a";a=Math.floor((c-a)/1E3);c=Math.floor(a/31536E3);if(1<=c)return b(c)+"\u5e74\u524d";c=Math.floor(a/2592E3);if(1<=c)return b(c)+"\u6708\u524d";c=Math.floor(a/604800);if(1<=c)return b(c)+"\u5468\u524d";c=Math.floor(a/86400);if(1<=c)return b(c)+"\u5929\u524d";c=Math.floor(a/3600);if(1<=c)return b(c)+"\u5c0f\u65f6\u524d";c=Math.floor(a/60);if(1<=c)return b(c)+"\u5206\u949f\u524d";c=
Math.floor(a);return b(c)+"\u79d2\u524d"};var ew=function(){var a=z.Y;return 1===a||0===a?"\u533f\u540d\u7528\u6237":['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'" title\x3d"'+a[0]+'" class\x3d"','zm-item-link-avatar"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+a[2]+'" /\x3e',"\x3c/a\x3e"].join("")};
var fw=function(a,b){return z.fa(a)?['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'"',b?' class\x3d"'+b+'"':"",' title\x3d"',a[0],'"\x3e',a[0],"\x3c/a\x3e"].join(""):"\u533f\u540d\u7528\u6237"};var gw=function(a){if(0===a||1===a)return"\u533f\u540d\u7528\u6237";var b=z.P("a",{href:"/people/"+a[1],title:a[0]},a[0]);b.setAttribute("data-tip","p$t$"+a[1]);return b};var hw=function(a){return z.P("a",{href:"/topic/"+a[1],title:a[0],"class":""},a[0])};
var iw=function(a){if(0===a||1===a)return z.P("span");if(z.fa(a)){var b=z.P("a",{href:"/people/"+a[1],title:a[0],"class":"zm-item-link-avatar"},z.P("img",{src:a[2],"class":"zm-list-avatar"}));b.setAttribute("data-tip","p$t$"+a[1]);return b}};var jw=function(a){return 1===a?!0:z.fa(a)?a[3]===z.Y[3]:!1};var kw=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};var lw=function(a,b){return window.$.get("/"+a+"/"+b+"/sharetext")};
var mw=function(a,b){return window.$.post("/question/askpeople",{qid:a,uid:b,op:"remove"})};var nw=function(a,b,c){return window.$.post("/question/askpeople",{qid:a,uid:b,_source_type:c,op:"add"})};var ow=function(a,b,c,d,f){z.pl.call(this,a,[b],[c],d,f)};var pw=function(a,b,c,d,f){z.pl.call(this,a,[b],[c],d,f)};var qw=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");z.pl.apply(this,arguments)};
var rw=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Qv.test(c))return b.ns=Pv(c),b.type="hex",b;c=Nv(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=rv(d.toString(16));a=rv(a.toString(16));c=rv(c.toString(16));b.ns="#"+d+a+c;b.type="rgb";return b}if(sw&&(c=sw[a.toLowerCase()]))return b.ns=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var tw=function(a){var b=window.$.extend({},{title:"\u4fe1\u606f",FI:"\u52a0\u8f7d\u4e2d",buttons:[],onload:z.m},a),c=z.P("div",{className:"modal-dialog-async-loading",innerHTML:(b.FI||"\u52a0\u8f7d\u4e2d")+'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e'}),d=z.Gi(b);d.Z().appendChild(c);b.Xv&&b.Xv.then(function(a){z.Q(c);d.Td||(a&&d.ha(a),d.ba(),b.onload(d.Z(),d))});return d};
var uw=function(a){var b=z.ye(a),c=z.C&&a.currentStyle;if(c&&z.Cf(z.L(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=z.Bh(a,c.width,"width","pixelWidth"),a=z.Bh(a,c.height,"height","pixelHeight"),new z.ve(b,a);c=z.Ah(a);b=z.Dh(a);a=z.lh(a);return new z.ve(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};var vw=function(a,b){var c=a.style[z.cb(b)];return"undefined"!==typeof c?c:a.style[z.Xg(a,b)]||""};
var ww=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.B;default:return 166>a.keyCode||183<a.keyCode}};var xw=function(a,b,c){return Math.min(Math.max(a,b),c)};
var yw=function(a){if(!zw.test("input"))throw Error("Invalid tag name \x3cinput\x3e.");if("INPUT"in z.os)throw Error("Tag name \x3cinput\x3e is not allowed for SafeHtml.");var b=null,c="\x3cinput";if(a)for(var d in a){if(!zw.test(d))throw Error('Invalid attribute name "'+d+'".');var f=a[d];if(null!=f){var g;g=d;if(f instanceof fv)f=jv(f);else if("style"==g.toLowerCase()){if(!z.ja(f))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof f+" given: "+f);
if(!(f instanceof z.hd)){var h="",l=void 0;for(l in f){if(!/^[-_a-zA-Z0-9]+$/.test(l))throw Error("Name allows only [-_a-zA-Z0-9], got: "+l);var n=f[l];if(null!=n){if(n instanceof fv)n=jv(n);else if(Aw.test(n)){for(var p=!0,x=!0,F=0;F<n.length;F++){var J=n.charAt(F);"'"==J&&x?p=!p:'"'==J&&p&&(x=!x)}p&&x||(n="zClosurez")}else n="zClosurez";h+=l+":"+n+";"}}f=h?(new z.hd).qo(h):z.ms}f=f instanceof z.hd&&f.constructor===z.hd&&f.aK===z.id?f.Qz:"type_error:SafeStyle"}else{if(/^on/i.test(g))throw Error('Attribute "'+
g+'" requires goog.string.Const value, "'+f+'" given.');if(g.toLowerCase()in z.ns)if(f instanceof nv)f=f instanceof nv&&f.constructor===nv&&f.fK===ov?f.KH:"type_error:TrustedResourceUrl";else if(f instanceof pv)f=f instanceof pv&&f.constructor===pv&&f.bK===qv?f.km:"type_error:SafeUrl";else throw Error('Attribute "'+g+'" on tag "input" requires goog.html.SafeUrl or goog.string.Const value, "'+f+'" given.');}f.Nl&&(f=f.qj());g=g+'\x3d"'+z.Fa(String(f))+'"';c+=" "+g}}d=void 0;null!=d?z.fa(d)||(d=[d]):
d=[];!0===z.ls.input?c+="\x3e":(b=Cv(d),c+="\x3e"+z.ld(b)+"\x3c/input\x3e",b=b.rl());(a=a&&a.dir)&&(b=/^(ltr|rtl|auto)$/i.test(a)?0:null);return z.md(c,b)};var Bw=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};z.Cw=function(a){return a.replace(/^[\s\xa0]+/,"")};var Dw=function(){throw Error("unimplemented abstract method");};var Ew=function(a){z.H.call(this);this.view=this.name=null;z.A.extend(this.options={},this.defaults,a||{})};
var Fw=function(a,b){function c(b){Ew.call(this,b);this.name=a}z.v(c,Ew);z.qa(c.prototype,b);Gw[a]=c};var Hw=function(a,b){var c=Gw[a];if(!c)throw Error("Cannot find constructor");return new c(b)};var Iw=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{});this.source=this.J.source;this.promise=window.$.Deferred().resolve();this.Id={}};var Jw=function(a,b,c){a.ua&&z.y.forEach(a.Eb(),b,c);a.v().g(a,"itemcreated",function(a){b.call(c,a.item)})};
var Kw=function(a){a.Pd&&(z.Q(a.Pd),a.Pd=null);a.dispatchEvent("complete")};var Lw=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,p,x,F){if("%"==p)return"%";var J=c.shift();if("undefined"==typeof J)throw Error("[goog.string.format] Not enough arguments");arguments[0]=J;return Mw[p].apply(null,arguments)})};
var Nw=function(a){Iw.call(this,a)};var Ow=function(){};var Pw=function(a,b,c){z.Ej.call(this,a,c||Ow.U(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.O=1};var Qw=function(){this.Mv=[]};var Rw=function(a,b){var c=a.Mv[b];if(!c){switch(b){case 0:c=a.R()+"-highlight";break;case 1:c=a.R()+"-checkbox";break;case 2:c=a.R()+"-content"}a.Mv[b]=c}return c};var Sw=function(a,b,c){a=Rw(a,2);return c.B("DIV",a,b)};
var Tw=function(a,b){var c=a.Z(b);if(c){var c=c.firstChild,d=Rw(a,1);return!!c&&z.df(c)&&z.Ig(c,d)}return!1};var Uw=function(a,b,c,d){z.wj(a,c,b.ci());z.xj(a,b,c);d!=Tw(a,c)&&(z.Ng(c,"goog-option",d),c=a.Z(c),d?(a=Rw(a,1),c.insertBefore(b.M().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};var Vw=function(a,b,c,d){z.Ej.call(this,a,d||Qw.U(),c);this.Ea(b)};var Ww=function(){};
z.Xw=function(a,b){z.Ej.call(this,null,a||Ww.U(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.O=1};var Yw=function(a){this.Fq=a||"menu"};var Zw=function(a){z.Xw.call(this,Ww.U(),a)};var $w=function(a,b){z.Yu.call(this,z.wt,b||Yw.U(),a);this.Re(!1)};var ax=function(a,b,c,d){z.Hq.call(this,a,b);this.Fo=c?5:0;this.Fz=d||void 0};var bx=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var cx=function(a,b,c,d){ax.call(this,a,b,c||d);(c||d)&&this.Am(65|(d?32:132))};var dx=function(){};
var ex=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.Ya)(f))a.removeChild(c);else{c.nodeValue=b?z.Cw(f):z.Da(f);break}}else break;c=d}};var fx=function(){};var gx=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};
var hx=function(a,b,c,d,f){z.Lj.call(this,a,c||fx.U(),d);this.Rb(64,!0);this.Xl=new cx(null,5);b&&this.mh(b);this.GG=null;this.ma=new z.$c(500);!z.ts&&!z.Fi||z.E("533.17.9")||(this.Js=!0);this.hQ=f||Yw.U()};var ix=function(a){a.GG=new z.Sg(7,0,7,0)};var jx=function(a){a.Xl.Am&&a.Xl.Am(33)};
var kx=function(a){if(a.ka.ua){var b=a.Xl;a.Xl.element=a.iS||a.m();var c=a.ka.m();a.ka.T()||(c.style.visibility="hidden",z.R(c,!0));!a.vt&&a.Xl.Un&&a.Xl.Un()&32&&(a.vt=z.rh(c));b.ba(c,b.Jf^1,a.GG,a.vt);a.ka.T()||(z.R(c,!1),c.style.visibility="visible")}};var lx=function(a,b,c){var d=a.v();c=c?d.g:d.na;c.call(d,b,"action",a.bo);c.call(d,b,"close",a.zx);c.call(d,b,"highlight",a.Gx);c.call(d,b,"unhighlight",a.Ox)};var mx=function(a,b){var c=a.v();(b?c.g:c.na).call(c,a.m(),"keydown",a.NN)};
var nx=function(a,b){var c=a.m(),d=z.Dg(b,"activedescendant"),d=z.ye(b).getElementById(d)||b;if(!d.id){var f=z.Rh.U();d.id=z.Sh(f)}z.Eg(c,d);z.Bg(c,"owns",d.id)};var ox=function(){z.H.call(this)};var px=function(a,b,c){z.S.call(this);this.type=a;this.id=b;this.tv=c||qx[a]||"other_report"};var rx=function(a,b){if(a.type&&a.id&&!(0,window.$)(b).hasClass("goog-menu-button")){var c=new hx("report",new $w);c.hk=!0;c.bc=z.as;c.w(b);z.gc(c,a);a.FG=c;a.v().Ba(c.m(),["mouseover","focus"],z.zi(a.UO))}};
var sx=function(a,b){window.$.get("/report/reported",{type:"question",id:a.id},window.$.proxy(function(a){if(a.r)z.U(a.msg);else if(a.reported)z.U(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5");else{a=new tx(this.type,this.id);var d=(0,z.Fp)(a.yE,{each:z.y.forEach,options:b,headnote:'\x3ca href\x3d"/question/19806261" class\x3d"zg-link-gray"\x3e\u77e5\u4e4e\u63d0\u95ee\u89c4\u8303\x3c/a\x3e'});a.Ok("\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539",d);a.Oq(b)}},a))};
var tx=function(a,b){z.H.call(this);this.type=a;this.id=b};var ux=function(){z.H.call(this);this.sf="zm-pm-item"};var vx=function(a){var b=new z.V(!0);b.on("success",function(){var a=z.fe(b);a.r?z.U(a.msg):window.location.reload()});b.ajax("/inbox/delete","type\x3dthread\x26token\x3d"+a)};var wx=function(){z.H.call(this);this.sf="zm-pm-item"};var xx=function(a){if(a.Eb().length){var b=new Nw;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a.Ys)}};
var yx=function(a,b){z.Gi("\u5220\u9664\u79c1\u4fe1","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u5c01\u79c1\u4fe1\u5417\uff1f",function(a){a&&zx(this,b)},a)};var zx=function(a,b){var c=new z.V(!0);a.v().Ba(c,"success",function(){var a=z.fe(c);a.r?z.U(a.msg):window.location.reload()});c.ajax("/inbox/delete","type\x3dsingle\x26token\x3d"+b)};var Ax=function(a,b,c){z.S.call(this);this.offset=this.qh=0;this.ET=c;this.zM=a;this.url=b||window.location.href;this.Qg="zm-item";this.params={}};
var Bx=function(a,b){a.url=b};var Cx=function(a,b){b?a.Ak.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\u6b63\u5728\u52a0\u8f7d').prop("disabled",!0):a.Ak.html("\u66f4\u591a").prop("disabled",!1)};var Dx=function(a,b){a.js=b};var Ex=function(a){var b=a.Eb();a.offset=a.hz?a.hz(b):b.length;a.js?(b=a.js(),z.R(a.fc,b)):a.fc&&("-1"===a.Ak.attr("data-next")||!b||10>b.length?a.Ak.hide():a.Ak.removeClass("hidden").show())};
var Fx=function(a,b,c,d){c=c||z.m;if(!a.Ch||"pending"!==a.Ch.state()){var f=a.GH(window.$.extend(a.params,{offset:a.offset,start:a.qh}));"live"!==f.start&&z.X.ya({type:"topstory_feed_more"});a.Ch=window.$.post(a.url,f).done(c).done(window.$.proxy(function(a){if(d)return d.call(this,a);this.vB&&!b?this.DA?this.Vg(a):(this.Bt=a,Cx(this,!1)):this.Vg(a)},a));1!==a.dn&&Cx(a,!0);return a.Ch}};var Gx=function(a){a.dispatchEvent({data:{zo:a.zo,uB:a.uB},type:"afterload"})};
var Hx=function(a){var b=a.Eb(),c;if(a.ET)if(a.fc&&(c=a.fc.getAttribute("data-next")),c)a.qh=c;else if(b=z.y.Wc(b))a.qh=a.BH(b)};var Ix=function(a,b){z.y.forEach(b,function(a){var b=this.Yj(a);this.dispatchEvent({data:{item:a,GP:b},type:"itemcreated"})},a)};var Jx=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var Kx=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ba(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.y.extend(b,Kx(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.y.extend(b,Kx(a[d]));else{var g=Jx(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.y.extend(b,Kx(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var Lx=function(){this.In="";this.kh=[]};
var Mx=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.In=d.join("")};var Nx=function(a){this.ov={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new Ox(a[c]);b.push(d)}this.ti=b}};
var Ox=function(a){var b=Px[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.KF=a;this.cQ=c;this.SI={};Px[a]=this};
var Qx=function(a,b){var c=b.uid,d=a.SI[c];if("undefined"!=typeof d)return d;var f=a.cQ,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.vL[g]&&(h=!1);return a.SI[c]=h};var Rx=function(a){var b=z.ka(a),c=Sx[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ka(d);var f={};if(a.className)for(var g=z.Gg(a),h=0;h<g.length;h++)f[g[h]]=1;d.vL=f;c.unshift(d)}while(a=a.parentNode);this.VG=c;this.uid=z.ka(this);Sx[b]=this};
z.Tx=function(){z.H.call(this);this.kc=this.uq()};var Ux=function(a,b,c,d,f){this.oE=a;this.NA=b;this.Pq=c;this.rE=d;this.Mw=f||{}};var Vx=function(a,b){this.YU=a;this.zD=b};
var Wx=function(a,b,c,d){var f=[];a.Pq&&a.NA&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Pq&&f.push("height:",a.rE?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.zD&&f.push(c.zD);z.B&&a.NA&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.Et&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.oE,'" style\x3d"min-width:0;');z.B&&a.Pq&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.NA?"100%":"auto"),a.rE?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.Zg&&f.push(";outline:hidden");for(var g in a.Mw)f.push(";"+g+":"+a.Mw[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var Xx=function(a,b){z.H.call(this);this.Kg=this.id=a;this.mb=null;this.Id={};this.Aj={};for(var c in z.Yx)this.Aj[c]=[];this.Vk="";this.rk={};this.rk[Zx]=1;this.rk[z.$x]=1;this.tr=new z.gl(this.VD,ay,this);this.rr={};for(var d in by)this.rr[by[d]]=0;z.B&&(this.ue=new z.gl(this.$n,cy,this));this.lc=new z.dd(this);this.ZU=[];this.Vl=z.dy;this.fm=z.L(b||window.document);this.Jc=this.fm.m(this.id);this.QM=z.Mt;this.Gk=this.fm.Wa()};
var ey=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in fy;return(a.ctrlKey||a.metaKey)&&a.keyCode in gy||b};var hy=function(a,b){a.Vl=2;a.Aa=b;a.mb=z.L(b);b.setAttribute("g_editable","true");z.Ag(b,"textbox")};
var iy=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.B&&b.metaKey&&!z.E(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=ey(b)?!0:!(!z.B||b.ctrlKey||b.metaKey||z.B&&!b.charCode));a.tx=c;a.tx&&a.Uh();return!0};var jy=function(a,b,c){var d={};a=a.Gt(8,b||"",d);z.Wg(c,d);z.Uv(c,a)};
var ky=function(a,b){if(!b.altKey){var c=z.Ac?b.metaKey:b.ctrlKey;if(c||ly[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.Ac&&z.B&&"`"==d&&" "==b.xb.key&&(d=" "),a.yo(5,b,d,c)&&b.preventDefault())}}};var my=function(a){var b;return a.sc()&&(b=a.mb)?(a=b.Wa())&&a.frameElement:null};z.ny=function(a){return(a=a.mb&&a.mb.Wa())&&z.Mo(a)};
z.oy=function(a,b,c){if(!py(a,"selectionchange")){var d=z.ny(a),d=d&&d.Nb();a.rf=!!d&&z.ff(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",VW:b&&b.type});a.yo(4,b,c)}};z.qy=function(a,b,c){b&&(a.ue&&$u(a.ue),a.rk[Zx]=1);c&&(z.ry(a),a.rk[z.$x]=1)};var sy=function(a,b,c){!b&&a.ue&&$u(a.ue);a.rk[Zx]=0;a.rk[z.$x]=0;b&&a.$n();c&&a.VD()};var py=function(a,b){return!!a.rk[b]||a.rr[b]&&500>=(0,z.w)()-a.rr[b]};z.ry=function(a){a.ue&&$u(a.ue);$u(a.tr)};
var ty=function(a){z.yf(a.target,"A")&&a.preventDefault()};z.uy=function(a){var b=a.m();if(b){var c=z.Dv(b);b==c?z.Qo(b,0).select():z.Eu(c,!0);z.oy(a)}};var vy=function(a){if(!z.ba(a.uy)&&(a.uy=!1,z.C&&a.sc())){for(var b=a.fm.Wa();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.uy="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.uy};z.wy=function(a,b){Xx.call(this,a,b)};
var xy=function(a){if(a.Dp?0:a.Dp=!0){var b=my(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(vw(b,"width"),10)!=h&&(f=z.Dh(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Ao()&&(0,window.parseInt)(vw(b,"height"),10)!=g&&(f||(f=z.Dh(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Dp=!1;d&&a.dispatchEvent("ifrsz")}};var yy=function(a){a.m()&&(xy(a),a.Ao()||a.LA())};
var zy=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Lc=new Ay(b)};var Ay=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var By=function(){z.H.call(this)};var Cy=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.U(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.U("\u64cd\u4f5c\u6210\u529f\uff01"),c&&c(a))}})};
var Dy=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.DM);return window.$.post("/manage",c).then(function(a){return z.xa("\u7528\u6237\u5df2\u88ab\u8b66\u544a %s \u6b21\uff0c\u7981\u8a00 %s \u6b21",a.warn_num,a.ban_num)})};var Ey=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{});this.Ym=new z.pd;this.qe=null};
var Fy=function(a,b){var c=a.J,d=new z.Xq(c.trigger,!1,null,b);d.Cp=c.IT;d.fo=c.EO;d.lh(a.gn);z.G(d,"trigger",function(a){d.setPosition(new z.Hq(a.anchor,1))});z.G(d,"beforeshow",function(a){this.qe=a.target.anchor;this.ea()},!1,a);d.className=c.kK;a.JO=d};var Gy=function(a,b){var c=a.J.FP,d=z.Ze(a.gn),f=z.y.find(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.T.has(f,c))return!1;z.y.forEach(d,function(a){z.T.remove(a,c)});z.T.add(f,c);return!0};
var Hy=function(a,b,c,d){a.Ym.set(b,{name:b,V:c,Si:d||z.m})};z.Iy=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{})};var Jy=function(a){var b=a.J,c=a.h;Ky(c);b=Ly(c,b.sF);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};var My=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var Ny=function(a,b){return My(a,b,function(a){return Oy(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};
var Oy=function(a){return"A"===a.nodeName};var Ky=function(a){var b=z.mf(a,function(b){return 3===b.nodeType&&!Ny(b,a)}),c,d=z.Mo(),f=d&&z.Un(d);z.y.forEach(b,function(a){var b=a.nodeValue,d=Py(b);d!==b&&(b=z.Ne(d),f===a&&(c=b.lastChild),z.Xe(b,a))});c&&z.Eu(c)};
var Ly=function(a,b){var c=z.y.filter(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.y.contains(Qy,a.protocol))b=z.sf(a),z.va(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.y.map(c,function(c){return Ry(c.href).done(function(f){Sy(a,c,f,b)})})};
var Sy=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.Mo();if(d){var f=d.Y(),x=d.ta(),F=d.ia(),J=d.Ka();z.ff(b,f)&&(f=a,x=0);z.ff(b,F)&&(F=a,J=0);c(function(){f===a&&F===a?z.Eu(a):z.xo(f,x,F,J).select()})}else c(z.m)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",Ty(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.lf(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Xe(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var Ty=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" \u7684\u9875\u9762"};var Py=function(a){return a.replace(Uy,function(a){z.va(a,"http")||(a="http://"+a);return a.link(a)})};
var Vy=function(a){var b=new Ey({});Hy(b,"link","\u94fe\u63a5",function(a){z.lf(a,a.href)});Hy(b,"text","\u6587\u672c",function(a){z.lf(a,a.getAttribute("data-title"))});b.w(a);var c=b.mx();z.Su(c,new z.Sg(2,0,0,0));z.Ru(c,new z.Sg(2,0,0,0));var d=b.v();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.sf(a);c===a.href?Gy(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),Gy(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&Oy(b))return!1});
var f;d.g(c,"show",function(a){f=a.target.anchor;z.T.add(f,"hover")}).g(c,"hide",function(){f&&(z.T.remove(f,"hover"),f=null)});return b};
var Wy=function(a,b,c){z.S.call(this);this.id=a;this.type=b;this.Aa=null;this.yd=this.Yg=!1;this.fe="\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba\u2026";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.fe+"\x3c/p\x3e";this.Kj="";this.Ia=-1;this.tG=window.$.Deferred().resolve();this.Pz=this.$s=null;this.gD="zm-comment-box";this.wh=null;a=Xy[b];if(!a)throw Error("API not found");this.ug=window.$.extend({},Xy._default_,a);this.yn="";z.A.extend(this.J={},this.defaults,c||{})};
var Yy=function(a,b){return z.mm(a,function(){return{wa:{question:"question_comment_"+b,answer:"question_answer_comment_"+b}[this.type]||!0,ed:!0}},function(){return this.yn})};var Zy=function(a,b,c){var d=z.N(a.gD,b);c&&(a.wh=c);d?a.w(d):(a.Yg=!0,a.ea(b))};var $y=function(a){z.A.forEach({rC:".load-more",wn:".zm-comment-list",mD:".zm-comment-form",Aa:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var az=function(a){a.Aa&&a.Aa.setAttribute("aria-label",a.fe);if(z.xp){var b=a.Aa;b.setAttribute("contentEditable",!0);var c=a.dl={m:function(){return b},ol:function(){return z.jn(b)?"":b.innerHTML},Kd:function(a,c){b.innerHTML=c},Vf:function(){z.Tv(b)}};a.Cs(c);a.Ds(c)}else bz(a);a.v().g(a.Aa,["change","keyup"],function(a){27!==a.keyCode&&(z.Vv(this.Aa)?this.Kj="":this.Kj=this.fb())});cz(a)};
var bz=function(a){var b=z.P("textarea",{placeholder:a.fe,"class":"zm-comment-textarea"});z.Xe(b,a.Aa);new z.on(b,22);a.Aa=b;a.dl={m:function(){return b},ol:function(){return b.value},Kd:function(){b.value="";b.style.height=z.eh(22,!0)},Vf:function(){b.focus()}}};
var dz=function(a){var b=a.dl,c=b.m();if(b.ol()!==a.placeholder){b.Kd(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Kd(!1,this.Kj||"");this.Aa.lastChild?z.Eu(this.Aa.lastChild):b.Vf();z.Tc(c,d,f,!1,this)};z.G(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.ff(a.Aa,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.Aa.blur()}};var ez=function(a){a.focus();a=z.Po(a);a.collapse();a.select()};
var fz=function(a){var b;(b=z.N("zm-comment-reply-hack"))?(b=z.Ne(z.Qu(b)),z.T.gv(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.Ve(b,a)):(b="",z.Y.wa()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.Y.nl("is")+'"\x3e'),b=z.Ne('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"\u5199\u4e0b\u4f60\u7684\u56de\u590d"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e\u8bc4\u8bba\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var gz=function(a){var b=window.location.hash.slice(1).split("-");if(b="comment"===b[0]&&b[1])a=hz(a,b),z.Vm(a),Kv(a)};var hz=function(a,b){return z.y.find(iz(a),function(a){return a.getAttribute("data-id")===b})};var iz=function(a){return(0,window.$)(a.wn).children(".zm-item-comment").get()};
var jz=function(a){a.v().g(a.h,"click",a.Ma).g(a.Aa,"keydown",a.YQ).g(z.sj,"anon_change",a.rj).g(a.dl.m(),["click","focus"],z.pa(a.fu,!0)).g(a.dl.m(),"focus",z.pa(a.Ei,"add_comment_start"));a.Ia=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.sf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.Ei&&a.rC&&(a.Pz=kw().then(window.$.proxy(a.sG,a)))};var kz=function(a){0<a.Ta()?(a.Kj=a.fb(),a.fu(!1),dz(a)):a.wh?a.collapse():a.fu();a.Mf()};
var lz=function(a){if(a.wh){var b=(0,window.$)(a.wh);a.$(a.AC).show().css("left",b.position().left+b.width()/2)}};var mz=function(a){if("pending"!==a.tG.state()){a.nb();a.h.innerHTML=a.Wi();a.expand();var b=a.ug.pl(a.id,a.J.qG).done((0,z.r)(a.LS,a));return a.tG=b}};
var cz=function(a){z.Y.wa()?z.Y.active||nz(a,'\x3cdiv class\x3d"activate-mask-tip-comment"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):nz(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',
null)};var nz=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.Aa).hide().after(d).after(b)):b.insertAfter(a.Aa);a=(0,z.r)(Yy(z.m,"box"),a);b.on("click",a);d.on("click",a)};var oz=function(a){$y(a);az(a);dz(a);jz(a);pz(a);lz(a)};var pz=function(a){var b=a.J,c=!a.Ta();z.T.enable(a.h,b.vw,c);c&&a.Aa&&b.autofocus&&a.Aa.focus();a.dispatchEvent("change")};
var qz=function(a,b,c){if(!a.lm||"pending"!==a.lm.state()){var d;z.ja(b)&&(d=b.SS,b=b.content);b=z.Ea(b);var f=new z.pd;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.ug.add(f.su());b.done(window.$.proxy(a.gN,a)).done(c);a.lm=b;a.Kj=a.fb();a.Ei("add_comment_submit")}};var rz=function(a,b){var c=z.Af(b,a.J.sf);(new By).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.r)(function(){z.Q(c);--this.Ia;pz(this)},a))};
var sz=function(a,b){var c=z.Af(b,a.J.sf),d=c.getAttribute("data-id"),f="\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\u540c\u65f6\u5c06\u6b64\u4eba\u5c4f\u853d\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility",
"visible")}));var h=z.Gi("\u5220\u9664\u8bc4\u8bba",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),tz(this,d,Number(a),z.pa(z.Q,c)))},a)};var uz=function(a,b,c){a.ug.remove(b).done((0,z.r)(function(){z.ia(c)&&c();--this.Ia;pz(this)},a))};var tz=function(a,b,c,d){a.ug.SK(b,c).done((0,z.r)(function(){z.ia(d)&&d();--this.Ia;pz(this)},a))};
var vz=function(a){if(!a.kl&&!z.Zr.Ob){var b=z.Af(a.h,"zm-item-meta");if(b){var c=z.N("zm-meta-panel",b);c&&(a.kl=new z.Zo(null,b),a.kl.tag="comment",a.kl.w(c))}}};var wz=function(a){var b={appkey:"3063806388"};a&&(b.title=a);window.open("http://service.weibo.com/share/share.php?"+window.$.param(b),"_blank","width\x3d615,height\x3d505")||(window.location.href="http://service.weibo.com/share/share.php?"+window.$.param(b))};var xz=function(a,b,c,d){(new yz(b,c,d)).w(a)};
var zz=function(a){lw("answer",a).done(function(a){wz(a.msg.sina)})};var yz=function(a,b,c){z.S.call(this);this.td=a;this.tB=b;this.AT=c};
var Az=function(a){var b=a.EG=new $w,c=[{label:z.Ne('\x3cspan class\x3d"ico z-ico-weibo-share"\x3e\x3c/span\x3e\u65b0\u6d6a\u5fae\u535a'),value:0},{label:z.Ne('\x3cspan class\x3d"ico z-ico-wechat-share"\x3e\x3c/span\x3e\u5fae\u4fe1\u626b\u4e00\u626b\x3cimg class\x3d"qrcode-image js-qrcode-image"\x3e'),value:1}];!z.Y.yO||"answer"!==a.td&&"post"!==a.td||c.push({label:z.Ne('\x3cspan class\x3d"ico z-ico-daily-share"\x3e\x3c/span\x3e\u77e5\u4e4e\u65e5\u62a5'),value:2});window.$.each(c,function(a,c){var g=
new Vw(c.label,c.value);b.Ga(g)});z.Zh(b,1).Ya(!1);c=new hx("share",b);c.bc=z.as;c.w(a.m());z.gc(c,a);a.v().g(b,"show",z.mm(function(){z.X.ya({type:"ga_click_share"+this.td+"_box"})})).g(b,"action",a.fN);(0,window.$)(b.m()).addClass("share-menu")};
var Bz=function(a){var b=new z.Ai(null,!1);z.ui(b,null);b.xe=!0;b.kb("\u63a8\u8350\u5230\u77e5\u4e4e\u65e5\u62a5");b.F(!0);b.ha('\x3cdiv class\x3d"js-title question-title"\x3e\x3c/div\x3e\x3cform class\x3d"js-form clearfix"\x3e\x3ctextarea class\x3d"js-content recommend-reason" placeholder\x3d"\u63a8\u8350\u7406\u7531\u3001\u5907\u6ce8\u6216\u5176\u4ed6\uff08\u9009\u586b\uff09"\x3e\x3c/textarea\x3e\x3cbutton class\x3d"js-submit zg-btn-blue submit-button"\x3e\u63a8\u8350\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"js-close close-button"\x3e\u53d6\u6d88\x3c/button\x3e\x3c/form\x3e');var c=
(0,window.$)(b.m());c.addClass("daily-recommend-dialog");a.nk.then(function(a){(0,window.$)(".js-title",c).text(a.msg.daily)});var d=(0,window.$)(".js-submit",c);d.click(z.ck(d,function(){var d={via:"daily",url_token:a.tB,content:(0,window.$)(".js-content",c).val()};return window.$.post("/"+a.td+"/share",d,function(a){b.F(!1);a.r?z.U(a.msg):z.U("\u5206\u4eab\u6210\u529f!")})}));(0,window.$)(".js-close",c).click(function(){b.F(!1)})};var Cz=function(a){z.S.call(this);this.entryType=a};
var Dz=function(a,b){return z.mm(a,b,function(){return this.Sn()})};var Ez=function(a){a=(0,window.$)(a);var b={};(0,window.$)("meta[itemprop]",a).each(function(){var a=(0,window.$)(this);b[a.attr("itemprop")]=a.attr("content")});return b};var Fz=function(a){var b=(0,window.$)('.js-report, a[name\x3d"report"]',a.m()),c=a.entryType,d=a.Mb;b.each(function(a,b){var h=(0,window.$)(b),l=new px(c,d);h.hasClass("goog-menuitem")?h.click(function(){l.BI()}):(rx(l,b),z.gc(l,this))})};
var Gz=function(a,b){this.Jo=this.Rd=1;this.Zg=b||4;this.items=a||[];this.$C=[];Hz(this)};var Iz=function(a,b,c){b=(b-1)*a.Zg;return a.items.slice(b,b+c)};var Jz=function(a,b){var c=Iz(a,a.Rd+1,1)[0];if(a.eo()&&c){var d=a.remove(b);a.remove(c);a.items.splice(d,0,c);return c}};var Hz=function(a){a.Jo=Math.ceil(a.items.length/a.Zg)};var Kz=function(a){Cz.call(this,a)};
var Lz=function(a){a=(0,window.$)(a.m());var b=(0,window.$)(".js-list",a);(0,window.$)(".js-hidden-list",a);var c=(0,window.$)(".pager",a),d=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html((0,window.$)(".js-hidden-list").html()).children().add(b.children())),f=new Gz(d,4);f.Ic(function(a){c.find(".next").toggleClass("disabled",!a.eo);c.find(".prev").toggleClass("disabled",!a.ks)});(0,window.$)(".pager",a).on("click",".next:not(.disabled)",function(){f.next();b.html(Iz(f,f.Rd,f.Zg))}).on("click",
".prev:not(.disabled)",function(){f.prev();b.html(Iz(f,f.Rd,f.Zg))});a.on("click","[data-follow]",function(a){var b=(0,window.$)(a.target).closest(".item"),c=Jz(f,b[0]);c&&b.fadeOut(function(){b.replaceWith(c)})})};var Mz=function(a){Cz.call(this,a)};var Nz=function(){Cz.call(this,"question")};var Oz=function(a){bv(a.h,function(){Pz("question",this.Fg,"touch")},a)};var Qz=function(){Cz.call(this,"answer")};var Rz=function(a){return z.N("zm-item-answer",a)||z.N("entry-body",a)};
var Sz=function(a,b){(0,window.$)(".feed-question-detail-item",a.h).toggleClass("question-detail-expanded",b)};var Tz=function(){Cz.call(this,"column")};var Uz=function(a,b,c){z.S.call(this);this.Mb=a;this.entryType=b||"answer";this.Th=null;this.J=window.$.extend({},this.defaults,c||{})};var Vz=function(a,b,c){var d=+a.HB.text(),f=0;(0,window.isNaN)(d)||(c===Wz.oe?f=1:b===Wz.oe&&(f=-1),a.HB.text(d+f))};
var Xz=function(a){var b={};b[Wz.oe]="vote_up";b[Wz.pg]="vote_down";b[Wz.aC]="vote_neutral";a.Th=("post"===a.entryType?Yz.BB:Zz.BB)(a.Mb,b[a.O]);return a.Th};
var $z=function(a){var b=a.O,c=a.J,d=b===Wz.oe,b=b===Wz.pg,f=d?"\u53d6\u6d88\u8d5e\u540c":"\u8d5e\u540c",g=b?"\u53d6\u6d88\u53cd\u5bf9":"\u53cd\u5bf9\uff0c\u4e0d\u4f1a\u663e\u793a\u4f60\u7684\u59d3\u540d";a.Wu.toggleClass(c.Ct,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.Qu.toggleClass(c.Ct,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};
var aA=function(a){z.S.call(this);this.fq="votebar-mobile";this.pw="votebar-mobile-dialog";this.CB=a;this.zJ=z.P("span","_votebar-holder")};var bA=function(a){var b=a.CB;z.Xe(a.zJ,b.m());z.T.add(b.m(),a.fq);a.v().g(b,"action",function(){this.Db&&(0,window.setTimeout)((0,z.r)(function(){this.Db.F(!1)},this),150)})};var cA=function(){Cz.call(this,"post")};
var dA=function(a){var b=a.lu=new eA;a.L(b);z.gc(a,b);a.v().g(b,"expand",function(){this.Sa(!0)});b.w(a.h);b.Ad()&&a.v().Ba(b,"expand",a.Vy);bv(a.h,a.Pj,a)};var fA=function(a){var b=z.N("zm-item-vote-info",a.h);if(b){var c=new gA(a.Mb,a.entryType);z.gc(a,c);c.w(b);a.sb&&a.v().g(a.sb,"change",function(){c.gk()}).g(c,"change",function(){var a=z.N("zm-item-vote-count",this.h),b=(0,window.$)(".zm-votebar .count",this.h)[0];a&&z.Nm(a,c.Ta());b&&z.Nm(b,c.Ta())})}};var hA=function(){Cz.call(this,"roundtable")};
var iA=function(a){var b=a.getAttribute("data-type");return(b={ac:Kz,p:cA,a:Qz,q:Nz,r:hA,c:Tz}[b])?new b:Rz(a)?new Qz:new z.S};var jA=function(a,b,c){Ax.call(this,a,b,c)};var kA=function(){z.H.call(this);this.xa=null;this.pa=0;this.My=[];this.Xs=[];this.gB="\u6700\u591a\u8f93\u5165 20 \u5b57";this.nw="\u6700\u591a\u8f93\u5165 256 \u5b57"};var lA=function(a,b,c){a.xa||(a.xa=new z.Ai(null,!1),z.ui(a.xa,null),a.xa.kb(b||""),c&&(a.xa.Z().innerHTML=c),a.v().g(a.xa,"afterhide",a.Mf))};
var mA=function(a,b,c){var d=z.M("zh-fav-list-item-place-holder");d&&z.R(d,!1);a.Rz=b[5]?"":z.P("span","zm-fav-list-item-lock",[z.P("i","icon icon-lock")]);d=z.P("span","zm-favo-list-item-title");z.lf(d,b[1]);d=z.P("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.Rz,d,z.P("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e \u6761\u7b54\u6848 \x3cspan class\x3d"zg-bull"\x3e\u2022\x3c/span\x3e '+b[4]+" \u4eba\u5173\u6ce8"})]);a.Rz&&a.Rz.setAttribute("data-tip",
"s$t$\u79c1\u5bc6\u6536\u85cf\u5939");d.setAttribute("data-lid",b[0]);z.y.contains(a.Xs,b[0])&&z.T.add(d,"zm-favo-list-item-link-active");b=z.N("zm-favo-list-item-link",a.Sg);c&&b?z.Ue(d,b):a.Sg.appendChild(d)};var nA=function(a,b){if(a.pa!==b&&a.Sg){var c=z.Ce("zm-favo-list-item-link",a.Sg);z.y.forEach(c,function(a){z.T.remove(a,"zm-favo-list-item-link-active")},a)}a.pa=b};
var oA=function(a,b,c,d){var f=z.M("zh-fav-head-title"),g=z.M("zh-fav-head-description-source");b=b||(f?z.sf(f):"");c=c||(g?z.sf(g):"");a.DD=d||z.Es;pA(a);a.ic();qA(a,1);z.R(a.TA,!1);a.$q.innerHTML="\u53d6\u6d88";a.kC.innerHTML="\u4fdd\u5b58";a.xa.kb("\u7f16\u8f91\u6536\u85cf\u5939");a.Mj.value=z.Qa(b);a.Tl.value=z.Qa(c);a.DD[1]?(z.R(a.tS,!1),z.R(a.qS,!1),z.R(a.IP,!1)):a.xP.setAttribute("checked",!0);a.YO=rA(a);a.xa.F(!0);a.Is=!0};
var sA=function(a){var b=z.Ce("zm-favo-list-item-link",a.Sg);z.y.forEach(b,function(a){var b=a.getAttribute("data-lid");z.T.remove(a,"zm-favo-list-item-link-active");z.y.contains(this.Xs,+b)&&z.T.add(a,"zm-favo-list-item-link-active")},a)};var pA=function(a){a.rM?sA(a):a.B()};
var qA=function(a,b){var c=!!b;a.xa.kb(0===b?"\u6dfb\u52a0\u5230\u6536\u85cf\u5939":"\u521b\u5efa\u65b0\u6536\u85cf\u5939");z.R(a.RP,!c);z.R(a.ax,c);new z.Jl(a.Mj,a.gB);new z.Jl(a.Tl,a.nw);if(1===b)(0,window.$)(a.ax).on("change.FavoDiag","input, textarea, select",function(){a.ff()});else(0,window.$)(a.ax).off("change.FavoDiag"),a.Mf()};
var rA=function(a){var b=new z.cn,c=z.Qm(a.Mj.value),d=z.Fa(a.Tl.value===a.nw?"":a.Tl.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.yP.checked?1:0);return b};var tA=function(a){a.xa.F(!1);a.dispatchEvent(uA);z.X.ya({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Sg).length}})};
var vA=function(a){var b=a.type;if(!z.ba(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return z.ba(a.value)?a.value:null}};var wA=function(a,b){var c=a.elements[b];if(c){if(c.type)return vA(c);for(var d=0;d<c.length;d++){var f=vA(c[d]);if(f)return f}}return null};
var xA=function(a,b,c){var d=new z.V(!0);d.addEventListener("complete",function(){var a;try{a=z.fe(this)}catch(d){}a&&!a.r&&z.ia(b)?b.call(this,a):z.ia(c)&&c.call(this,a.msg)});d.ajax("/people/edit","data\x3d"+(0,window.encodeURIComponent)(z.Ad(a)))};var yA=function(a,b){z.H.call(this);this.h=a;var c=z.df(this.h)?this.h:this.h?this.h.body:null;this.AP=!!c&&z.xh(c);this.nG=z.G(this.h,z.B?"DOMMouseScroll":"mousewheel",this,b)};var zA=function(a,b){return z.D&&(z.Ac||z.es)&&0!=a%b?a:a/b};
var AA=function(a,b,c,d){z.vc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var BA=function(){z.H.call(this)};var CA=function(a,b){return null==a.qk?b:a.No+Math.round((b-a.No)/a.qk)*a.qk};var DA=function(a,b){z.S.call(this,a);this.oC=null;this.zb=new BA;this.JP=b||z.bs;z.G(this.zb,"change",this.eF,!1,this)};
var EA=function(a,b){b?(a.v().g(a.ie,"beforedrag",a.Vr).g(a.Tf,"beforedrag",a.Vr).g(a.ie,["start","end"],a.gs).g(a.Tf,["start","end"],a.gs).g(a.vb,"key",a.lf).g(a.m(),"click",a.ds).g(a.m(),"mousedown",a.ds),a.UF&&FA(a,!0)):(a.v().na(a.ie,"beforedrag",a.Vr).na(a.Tf,"beforedrag",a.Vr).na(a.ie,["start","end"],a.gs).na(a.Tf,["start","end"],a.gs).na(a.vb,"key",a.lf).na(a.m(),"click",a.ds).na(a.m(),"mousedown",a.ds),a.UF&&FA(a,!1))};
var GA=function(a,b){var c=z.mh(b,a.m());return"vertical"==a.Gb?c.y:a.Yd&&a.Ed()?a.m().clientWidth-c.x:c.x};var HA=function(a,b){var c=a.Gc(),d=a.Tc();if("vertical"==a.Gb){var f=a.ab.offsetHeight,g=a.m().clientHeight-f,f=GA(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.ab.offsetWidth;g=a.m().clientWidth-f;f=GA(a,b)-f/2;return(d-c)*f/g+c};var IA=function(a,b){if(b==a.ab)return a.zb.W();if(b==a.zd)return a.zb.W()+a.zb.$h();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var JA=function(a,b){Math.abs(b)<a.Wn()&&(b=(0,z.ps)(b)*a.Wn());var c=IA(a,a.ab)+b,d=IA(a,a.zd)+b,c=xw(c,a.Gc(),a.Tc()-a.gt),d=xw(d,a.Gc()+a.gt,a.Tc());KA(a,c,d-c)};var LA=function(a,b,c){var d=CA(a.zb,c);c=b==a.ab?d:a.zb.W();b=b==a.zd?d:a.zb.W()+a.zb.$h();c>=a.Gc()&&b>=c+a.gt&&a.Tc()>=b&&KA(a,c,b-c)};var KA=function(a,b,c){a.Gc()<=b&&b<=a.Tc()-c&&a.gt<=c&&c<=a.Tc()-b&&(b!=a.W()||c!=a.$h())&&(a.zb.jt=!0,a.zb.au(0),a.zb.Ea(b),a.zb.au(c),a.zb.jt=!1,a.eF())};
var MA=function(a,b){return b<=a.zb.W()+a.zb.$h()/2?a.ab:a.zd};var NA=function(a){if(a.ab&&!a.Gs){var b=OA(a,IA(a,a.ab)),c=OA(a,IA(a,a.zd));if("vertical"==a.Gb)a.ab.style.top=b.y+"px",a.zd.style.top=c.y+"px",a.Wb&&(b=PA(c.y,b.y,a.ab.offsetHeight),a.Wb.style.top=b.offset+"px",a.Wb.style.height=b.size+"px");else{var d=a.Yd&&a.Ed()?"right":"left";a.ab.style[d]=b.x+"px";a.zd.style[d]=c.x+"px";a.Wb&&(b=PA(b.x,c.x,a.ab.offsetWidth),a.Wb.style[d]=b.offset+"px",a.Wb.style.width=b.size+"px")}}};
var PA=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var OA=function(a,b){var c=new z.te;if(a.ab){var d=a.Gc(),f=a.Tc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Gb?(d=a.m().clientHeight-a.ab.offsetHeight,f=Math.round(f*d),c.x=QA(a,a.ab),c.y=d-f):(d=Math.round(f*(a.m().clientWidth-a.ab.offsetWidth)),c.x=d,c.y=a.ab.offsetTop)}return c};
var RA=function(a,b){b=xw(b,a.Gc(),a.Tc());a.Gs&&a.lr.stop(!0);var c=new z.Bq,d,f=MA(a,b),g=a.W(),h=a.$h(),l=IA(a,f),n=OA(a,l);d=a.Wn();Math.abs(b-l)<d&&(b=xw(l+(b>l?d:-d),a.Gc(),a.Tc()));LA(a,f,b);l=OA(a,IA(a,f));d="vertical"==a.Gb?[QA(a,f),l.y]:[l.x,f.offsetTop];n=new qw(f,[n.x,n.y],d,100);n.Pf(a.Yd);c.add(n);a.Wb&&SA(a,f,g,h,l,c);a.oC&&(f=a.oC.oW(g,b,100),z.y.forEach(f,function(a){c.add(a)}));a.lr=c;a.v().g(c,"end",a.BM);a.Gs=!0;c.play(!1)};
var SA=function(a,b,c,d,f,g){var h=OA(a,c),l=OA(a,c+d);c=h;d=l;b==a.ab?c=f:d=f;"vertical"==a.Gb?(b=PA(l.y,h.y,a.ab.offsetHeight),h=PA(d.y,c.y,a.ab.offsetHeight),f=new qw(a.Wb,[QA(a,a.Wb),b.offset],[QA(a,a.Wb),h.offset],100),b=new ow(a.Wb,b.size,h.size,100)):(b=PA(h.x,l.x,a.ab.offsetWidth),h=PA(c.x,d.x,a.ab.offsetWidth),f=new qw(a.Wb,[b.offset,a.Wb.offsetTop],[h.offset,a.Wb.offsetTop],100),b=new pw(a.Wb,b.size,h.size,100));f.Pf(a.Yd);b.Pf(a.Yd);g.add(f);g.add(b)};
var TA=function(a){var b=a.m();b&&(z.Bg(b,"valuemin",a.Gc()),z.Bg(b,"valuemax",a.Tc()),z.Bg(b,"valuenow",a.W()),z.Bg(b,"valuetext",a.JP(a.W())||""))};var FA=function(a,b){b?(a.Sj||(a.Sj=new yA(a.m())),a.v().g(a.Sj,"mousewheel",a.$E)):a.v().na(a.Sj,"mousewheel",a.$E)};var QA=function(a,b){return a.Yd?z.Hh(b):b.offsetLeft};var UA=function(a,b){DA.call(this,a,b);this.zb.au(0)};var VA=function(a){z.S.call(this);this.options=window.$.extend({},this.defaults,a)};
var WA=function(a,b){a.zoom=b;XA(a,a.Le.gq/2+a.Le.x,a.Le.Xn/2+a.Le.y)};var XA=function(a,b,c){var d=a.zoom;a.Le={gq:a.options.mg/d,Xn:a.options.lg/d,x:b-a.options.mg/d/2,y:c-a.options.lg/d/2};YA(a)};var YA=function(a){var b=a.zoom,c=xw(a.options.Rm-a.Le.x*b,a.options.mg+a.options.Rm-a.rs*b,a.options.Rm),d=xw(a.options.Sm-a.Le.y*b,a.options.lg+a.options.Sm-a.qs*b,a.options.Sm),f={width:b*a.rs,height:b*a.qs,left:c,top:d};a.Vm.css(f);a.Ru.css(f);a.Le.x=(a.options.Rm-c)/b;a.Le.y=(a.options.Sm-d)/b};
var ZA=function(a,b,c){z.S.call(this);this.Jq=a||$A;this.iE=b;this.gI=c||"l"};var aB=function(){return!!window.FileReader};
var bB=function(a){a.Ml=a.Yx=a.xj="";if(a.bf)a.bf.ba();else{a.bf=new z.Ai(null,!1);a.bf.kb("\u4fee\u6539\u56fe\u7247");var b=z.Ns.Xe,c=z.Ns.rg,d=new z.xi;d.set(b,"\u53d6\u6d88",!1,!0).set(c,"\u786e\u5b9a",!0);z.ui(a.bf,d);a.v().g(a.bf,z.wi,function(a){if(a.key===c){if(aB()){var b=this.bw;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.mg);a.attr("height",b.options.lg);var d=a[0];(0,window.$)(window.document.body).append(d);var l=a[0].getContext("2d"),n=b.Le;l.drawImage(b.ss,
n.x,n.y,n.gq,n.Xn,0,0,b.options.mg,b.options.lg);b=d.toDataURL("image/png");a.remove();a=b}else a=this.bw.Le;this.xj=a;cB(this);this.bf.F(!1);return!1}})}dB(a.bf.Z());a.bf.F(!0);z.T.add(a.bf.h,"avatar-edit-dialog")};var eB=function(a){var b=a.input.cloneNode();z.Xe(b,a.input);a.input=b;a.v().g(a.input,"change",a.Ic)};
var cB=function(a){if(a.xj&&(aB()||a.Yx)){a.dispatchEvent("beforepost");var b={type:a.Jq,dest_id:a.Jq===$A?z.Y[3]:a.iE,return_size:a.gI};if(aB()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",fB(a.xj.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.rB,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.yD,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.xj.x),y:Math.round(a.xj.y),height:Math.round(a.xj.Xn),width:Math.round(a.xj.gq),hashval:a.Yx}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.rB+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var dB=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\u6b63\u5728\u4e0a\u4f20...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var fB=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),l=0;l<g.length;l++)h[l]=g.charCodeAt(l);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
var gB=function(a){z.S.call(this);this.aS=a};var hB=function(a){return z.y.every(a.me,function(a){return!!a.value})};var iB=function(a,b,c,d,f){this.ld=a=new z.dl(a,!f);c=new z.Al(c);d=new z.Jk(null,null,!!d,300);z.wk.call(this,a,c,d);d.da=this;d.Hk(b);(d=b.getAttribute("placeholder"))&&new z.Jl(b,d)};var jB=function(){z.S.call(this)};
var kB=function(a){var b=z.N("profile-edit-avatar-btn"),c=(0,window.$)(".zm-profile-details-editform-avatar .avatar",a.h);if(b){a.uv=new ZA($A);var d=a.uv;d.w(b);a.v().g(a.uv,"beforepost",function(){c.parent().append((0,window.$)('\x3cdiv class\x3d"avatar-edit-preview-loading"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e'))});a.v().g(a.uv,"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:d.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),
z.U("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),c.attr({src:d.nl("l"),srcset:d.nl("xl")+" 2x"}))})})}};var lB=function(){z.H.call(this);this.CH={}};var mB=function(){this.aj="editing";z.S.call(this)};var nB=function(a,b,c){z.Zr.Ob&&null==window.navigator.userAgent.match(/iPad/i)||(a=(0,window.$)(".item",a.K).index(b),b.siblings().eq(a-a%2).height(c?"auto":b.height()))};var oB=function(){z.S.call(this)};var pB=function(){z.S.call(this)};
var qB=function(){z.H.call(this);this.Qg="zm-item";this.gT=!0};var rB=function(a,b){a.v().g(b,"next",a.refresh)};var sB=function(){this.Yw=["zg-btn-follow","zg-btn-unfollow"];this.Zw="people"};z.tB=function(a){z.H.call(this);this.ma=null;this.h=a;a=z.C||z.D&&!z.E("531")&&"TEXTAREA"==a.tagName;this.S=new z.dd(this);this.S.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var uB=function(a){null!=a.ma&&(z.cd(a.ma),a.ma=null)};var vB=function(a){a=new z.vc(a.xb);a.type="input";return a};
var wB=function(a,b,c,d){z.H.call(this);this.Vh=a;this.cE=b;this.dt=c;this.pM=d||xB;a.removeAttribute("maxlength");this.my=new z.tB(a);z.G(this.my,"input",this.nz,!1,this);this.Sk()};var yB=function(a){z.H.call(this);this.xa=null;this.oa=a;this.St=0;this.MH=""};var zB=function(a,b){var c=z.Ce("zm-menu-item-link",a.tH);z.y.forEach(c,function(a,c){var g=!z.y.contains(b,c);z.R(a,g)},a)};var AB=function(){z.H.call(this)};
var BB=function(a){a.v().g(a.jl,"change",function(){var a=this.jl.value;this.Vz.value="no"===a?"":CB.Yu[+a][1]}).g(a.vn,"click",function(a){"cancel"===a.target.name?this.xa.F(!1):this.Vz.value&&"no"!==this.jl.value&&(this.Uw=new z.V(!0),this.v().g(this.Uw,"complete",function(){var a=z.fe(this.Uw);a&&!a.r?(this.Ni.innerHTML="\u5df2\u7ecf\u6807\u8bb0",this.xa.F(!1)):z.U(a.msg)}),a=z.Qm(this.Vz.value),this.Uw.ajax("/answer/flag","answer_id\x3d"+this.jK+"\x26flag\x3d"+this.jl.value+"\x26reason\x3d"+(0,window.encodeURIComponent)(a)))})};
var DB=function(a){function b(){var b;EB||(EB=new AB,EB.init());b=EB;b.Ni=a;b.jK=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;FB||(FB=new yB,FB.init());c=FB;c.Ni=a;c.oa=a.id.split("-")[1];"redirect"===b?c.show():(z.Li("/question/unredirect",null,"POST","qid\x3d"+c.oa+"\x26rqid\x3d"+c.St),c.Ni.innerHTML="\u91cd\u5b9a\u5411\u5df2\u64a4\u9500",c.Ni.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=
(new z.Yk).add("revision",g).add("reason",f),x=new z.V(!0);x.on("success",function(){var a=z.fe(x);a.r?z.U(a.msg):(c.F(!1),a.msg?window.location.href=a.msg:window.location.reload())});x.ajax("/revert",f.toString())}var c=z.Gi("\u64a4\u9500",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0" placeholder\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),
!1}),d=z.N("content",c.Z());new z.Jl(d);new z.on(d,48);new wB(d,null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};var GB=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){DB(this)})};var HB=function(){z.S.call(this)};
var IB=function(a){var b=z.M("zh-profile-ask-list");if(b){var c=new Nw({use:["autoload","locationSource"],oh:!1});a.L(c);c.w(b);if(a=z.N("zm-profile-section-list"))b=new qB,b.yi("zm-profile-section-item"),rB(b,c),b.init(a)}};var JB=function(a){var b=(0,window.$)("#zh-profile-log-list").get(0);if(b){var c=new Nw;c.use("locationSource",{wt:!0});a.L(c);c.w(b);GB(b);(0,window.$)(b).on("click",'a[name\x3d"report"]',function(){(new px("activity",(0,window.$)(this).data("id"))).submit();return!1})}};
var KB=function(a){var b=(0,window.$)("#zh-profile-fav-list \x3e .zh-general-list").get(0);if(b){var c=new Nw({use:["autoload","nodeSource"],oh:!1});a.L(c);c.w(b)}};
var LB=function(a){var b=z.M("zh-profile-topic-list");if(b){var c=new Nw({use:["autoload","locationSource"]});a.L(c);a.v().g(c,"itemcreated",function(a){a=a.item;var b=a.getAttribute("data-tid").split("-")[1];if(z.Y.Ne===z.Sp[3]){var c=new z.tp(!0,"/topic/bio/update","bio");c.Au=!0;c.params=["tid\x3d"+b];c.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u4f60\u5728\u8be5\u8bdd\u9898\u7684\u7ecf\u9a8c\x3c/a\x3e';c.w(a)}});c.w(b);if(a=z.N("zm-profile-section-list"))b=new qB,b.yi("zm-profile-section-item"),
rB(b,c),b.init(a)}};var MB=function(a){var b=(0,window.$)("#zh-profile-column-list \x3e .zh-general-list").get(0);if(b){var c=new Nw({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var NB=function(a){var b=(0,window.$)("#zh-profile-follows-list \x3e .zh-general-list").get(0);if(b){var c=new Nw({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var OB=function(a){var b=(0,window.$)("#zh-profile-follows-list-old").get(0);if(b){var c=new Nw({use:["autoload","locationSource"]});a.L(c);c.w(b)}};
var PB=function(a){var b=(0,window.$)("#zh-profile-answer-list \x3e .zh-general-list").get(0)||(0,window.$)("#zh-profile-answer-list").get(0);if(b){var c=new Nw({oh:!1});a.L(c);c.use("childConstructor",{Wk:Qz}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category","profile").fill("label","profile_answers_list")});if(a=z.N("zm-profile-section-list"))b=new qB,rB(b,c),b.init(a)}};
var QB=function(a){var b=z.M("zh-profile-page-force-to-rename");(a.$w=b)&&a.v().g(b,"click",a.oU)};var RB=function(a){var b=z.M("zh-profile-activity-wrap");b&&a.v().g(b,"click",function(a){if((a=a.target)&&"focus"===a.name){var b=a.getAttribute("data-type");(0,z.cu)(a,b,null,["zm-profile-follow-link-gray","zm-profile-unfollow-link-gray"])}})};
var SB=function(a){var b=z.M("zh-profile-activity-page-list");if(b){var c=new Nw({use:["expandLimit"],oh:!0});c.use("locationSource",{url:"/people/"+z.Sp[1]+"/activities",Sl:10,param:function(a){return{start:z.y.Wc(a).getAttribute("data-time")}}});c.use("childConstructor",{factory:iA});a.L(c);c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category","profile").fill("label","profile_feed")})}};
var TB=function(){var a=z.N("zm-profile-header-operation");a&&(new sB).w(a);(a=z.N("zm-profile-header"))&&(new oB).w(a)};
var UB=function(a){var b=z.N("zm-profile-answer-sort");b&&(a.Gh=new $w,a.Gh.Ga(a.JK=new Vw("\u6309\u65f6\u95f4\u6392\u5e8f")),a.Gh.Ga(a.KK=new Vw("\u6309\u6295\u7968\u6392\u5e8f")),a.Gh.Ga(a.IK=new Vw("\u95ee"+z.Y[0]+"\u7684\u95ee\u9898")),a.Gh.ea(b),a.Gh.F(!1),a.v().g(b,"click",function(a){this.Gh.F(!0);a.stopPropagation();this.v().Ba(window.document,"click",function(){this.Gh.F(!1)})}),a.v().g(a.Gh,"action",a.jO))};
var VB=function(a,b){var c=new z.V(!0);a.v().Ba(c,"complete",function(){window.location.reload()});c.ajax("/people/"+z.Sp[1]+"/block","action\x3d"+(b?"add":"cancel"))};var WB=function(){var a=z.M("zm-profile-details-editform");a&&(new jB).w(a)};var XB=function(a){var b=z.N("zm-profile-fav-wrap");b&&a.v().g(b,"click",a.FM)};
var YB=function(a){a.kA=z.M("zh-profile-search-form");if(a.kA){ZB(a);a.ik=a.kA.getAttribute("data_type");a.v().g(a.kA,"submit",a.search);z.G(window,"popstate",function(a){a=a.state;var b;a&&a.q&&(b=z.M("zh-profile-search-query"),b.value=(0,window.decodeURIComponent)(a.q),$B(this,a.type),this.search(void 0,!1),b.focus())},!1,a);var b=(new z.Sk(window.location)).Bd().get("pq"),c=(new z.Sk(window.location)).Bd().get("type");c||(c="all");if(b&&c){var d=z.M("zh-profile-search-info");d&&z.R(d,!0);$B(a,
c);z.M("zh-profile-search-query").value=b;a.search(void 0,void 0,!1)}}};var ZB=function(a){var b=z.M("zh-profile-search-type");b&&a.v().g(b,"click",a.qR)};var $B=function(a,b){var c=z.Ce("zm-profile-search-type-item");if(c)for(var d=0;d<c.length;d++)z.T.remove(c[d],"current"),c[d].name===b&&z.T.add(c[d],"current");a.ik=b};var aC=function(){var a=z.M("zh-profile-edit-expert");a&&(new bC).w(a)};
var cC=function(a){var b=z.N("profile-expert-tip");b&&a.v().g(b,"click",function(a){var d=a.target;"enable"!==d.name&&"close"!==d.name||window.$.post("/node/ProfileExpertTopicsV2",{method:d.name},function(a){a&&a.r||("enable"===d.name?window.location.href="/people/edit/expert":z.Om(b,!0))})});(0,window.$)(".zm-profile-section-wrap.skilled-topics").each(function(){(new mB).w(this)});(0,window.$)(".zm-profile-module.skilled-topics").each(function(){(new mB).w(this)});(0,window.$)(".zm-profile-module.active-topics").each(function(){(new mB).w(this)})};
var bC=function(){z.S.call(this)};var dC=function(){z.S.call(this)};var eC=function(a){var b=window.$.Deferred();z.Gi("\u53d6\u6d88\u5c4f\u853d",a,function(a){a?b.resolve():b.reject()});return b.promise()};
var fC=function(a){var b=(0,window.$)(".blocked-users",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);eC("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\uff1a\u5173\u6ce8\u4f60\u3001\u7ed9\u4f60\u53d1\u79c1\u4fe1\u3001\u5411\u4f60\u63d0\u95ee\u3001\u8bc4\u8bba\u4f60\u7684\u7b54\u6848\u3001\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002").then(function(){return window.$.post("/settings/unblockuser",{uid:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});
b.children().length||window.location.reload()})})};
var gC=function(a){var b=(0,window.$)(".blocked-columns",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);eC("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u770b\u5230\u6765\u81ea\u8be5\u4e13\u680f\u7684\u6587\u7ae0\u3002").then(function(){return window.$.post("/settings/unblockcolumn",{id:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});b.children().length||window.location.reload()})})};
var hC=function(){z.S.call(this)};
var iC=function(){function a(a,c){var d={method:"save",params:{settings:a}};window.$.extend(d.params,z.kj.settings_unsubscribe_formdata);window.$.post("/node/NotiEmailSettingsV2",d,function(a){var b;a.r?b="error":(c&&c(),b="success");var d=(0,window.$)(".settings-msg-"+b);d.length?d.show():(d=(0,window.$)('\x3cdiv class\x3d"settings-msg-'+b+'"\x3e'+a.msg+"\x3c/div\x3e"),d.appendTo((0,window.$)("body")));d.delay(1E3).fadeOut()})}(0,window.$)('.settings-receive input[type\x3d"radio"]').on("change",function(){if(this.checked){var b=
(0,window.$)(this),c={type:b.closest(".settings-item").data("type"),noti:b.val()};"no"===c.noti?a(c,function(){b.closest(".settings-receive").next(".settings-mail").addClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!0)}):a(c,function(){b.closest(".settings-receive").next(".settings-mail").removeClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!1)})}});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),
mail:this.checked};a(b)});(0,window.$)("#settings-fast-answer").on("change",function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),fast:this.checked};a(b)});(0,window.$)(".settings-msg-disappear").delay(3E3).fadeOut()};
var jC=function(){var a=(0,window.$)(".js-ajax-form");a.submit(function(b){var d=(0,window.$)(b.target);b=d.attr("action")||window.location.href;window.$.post(b,d.serialize()).done(function(b){z.Rr(z.A.Oa(b),5E3);d.hasClass("unsubscribe")&&(a.remove(),(0,window.$)(".settings-section").remove())});return!1});(0,window.$)(".js-unsubscribe-other-reason").on("change",function(a){(0,window.$)(a.target).parent().siblings().find(".zg-form-text-input").toggle()});var b=(0,window.$)(".feedback-form");b.submit(function(){var a=
b.attr("action");window.$.post(a,b.serialize()).done(function(){b.before('\x3cdiv style\x3d"font-size:13px;color:black;margin-bottom:20px"\x3e\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01\x3c/div\x3e\x3ca href\x3d"/"\x3e\x26laquo; \u8fd4\u56de\u77e5\u4e4e\x3c/a\x3e');b.remove()});return!1})};
var kC=function(){var a=(0,window.$)("#js-form-account-password");a.length&&((0,window.$)("input[placeholder]",a).each(function(){new z.Jl(this)}),a.validate({messages:{np:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65b0\u5bc6\u7801\u672a\u586b\u5199'},op:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65e7\u5bc6\u7801\u672a\u586b\u5199'},rp:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u786e\u8ba4\u5bc6\u7801\u672a\u586b\u5199'}},errorClass:"validate-error"}))};
var lC=function(){(0,window.$)("#weibopageenable").on("change",function(a){window.$.post("/node/SettingsWeiboPageV2",{method:a.target.checked?"enable":"disable"}).done(function(a){a.r?z.U(a.msg):z.Rr([!1,"\u4fdd\u5b58\u6210\u529f"])});return!1})};var mC=function(){var a=z.M("zh-setting-page-black-list-wrap");a&&(new dC).w(a)};
var nC=function(){var a=(0,window.$)("#js-settings-account-form");if(a.length){var b=(0,window.$)("#url_token"),c=(0,window.$)("#js-url-preview .token");b.on("input change keyup",function(){c.text(window.$.trim(this.value))});oC(a);var b=new z.tr,d=(0,window.$)(".rename-tab",a);b.w(d.get(0));var f=function(){(0,window.$)("input[placeholder]:visible",d).placeholder()};b.on("select",f);var g=(0,window.$)(".rename-button",a),a=z.mm(function(){g.remove();d.removeClass("hidden");f()},{wa:!0,ed:!0});g.one("click",
a);"#rename-section"===window.location.hash&&a()}};var oC=function(a){(0,window.$)(".zg-form-text-input",a).each(function(){function a(){this.value!==this.defaultValue&&(d.hide(),c.off("change input keyup",a))}var c=(0,window.$)(this),d=c.next(".validate-error");if(d.length)c.on("change input keyup",a)})};var pC=function(a,b,c,d,f){Ax.call(this,a,b,f);this.Ww=c||"people";this.MM=d||["zg-follow","zg-unfollow"]};
var qC=function(a,b,c,d){z.H.call(this);this.h=a;this.Ww=b||"people";this.LM=c||["zg-btn-follow","zg-btn-unfollow"];this.text=d||["\u5173\u6ce8","\u53d6\u6d88\u5173\u6ce8"]};var rC=function(a){z.H.call(this);this.url=a||"/topic"};
var sC=function(a,b,c){var d=c[0],f="";"topic"!==d[0]&&d[3]&&(f='data-parent\x3d"'+d[3]+'"');b.html('\x3ca href\x3d"'+("topic"===d[0]?"/topic/"+d[2]+"/organize/entire":"javascript:;")+'" data-token\x3d"'+d[2]+'" '+f+' name\x3d"'+d[0]+'"\x3e'+d[1]+"\x3c/a\x3e\x3cul class\x3d'zm-topic-organize-list'\x3e\x3c/ul\x3e");"topic"!==c[0][0]&&b.addClass("zm-topic-organize-loadmore");b=(0,window.$)("ul",(0,window.$)(b));if(1<c.length)for(c=c[1],d=0;d<c.length;d++){var f=c[d],g=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");
b.append(g);sC(a,g,f)}};
var tC=function(a){var b={Vp:!1,YW:!1};return function(c){if(!1===c)return!1;c={};z.A.extend(c,b,a||{});if(c.Vp&&!z.Y.ls)return z.Ki("\u63d0\u793a\u4fe1\u606f",'\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'),!1;if(c.mm&&!z.As.wM)return z.Ki("\u63d0\u793a\u4fe1\u606f",'\x3cp\x3e\u521b\u5efa\u8f83\u4e45\u6216\u5df2\u6709\u8f83\u591a\u8ba8\u8bba\u7684\u95ee\u9898\u9650\u5236\u516c\u5171\u7f16\u8f91\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u95ee\u9898\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e\x3c/p\x3e'),!1}};
var uC=function(a,b,c){z.tp.call(this,a,b,c)};var vC=function(){z.S.call(this);var a=z.Ds;this.Bf=a[0][3];this.jB=a[0];this.kn=a[4];this.vy=a[5];this.Xg="topic"};var wC=function(){var a=z.M("zh-topic-log-list");a&&((new pC(a,null,null,null,!0)).init(),(0,window.$)(a).on("click",'a[name\x3d"revert"]',z.mb(function(a){!1!==a&&DB(this)},tC({Vp:!0}))).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new px("activity",(0,window.$)(this).data("id"))).submit();return!1}))};
var xC=function(a){if(z.M("zh-topic-admin-page-wrap")){var b=z.M("zh-topic-del-btn");b&&a.v().g(b,"click",a.MQ)}};var yC=function(a,b){var c=z.Ae("li",null,a.lv);z.y.forEach(c,function(a){a.getAttribute("data-token")===b[1]&&z.R(a,!1)})};var zC=function(a){var b=z.M("zh-topic-followers-list-wrap");b&&(a=["/topic",(0,window.encodeURI)(a.jB[1]),"followers"].join("/"),b=new pC(b,a,null,["zg-btn-follow","zg-btn-unfollow"],!0),b.yi("zm-person-item"),b.init())};
var AC=function(a){var b=z.M("zh-topic-side-head");if(b){var c=z.N("zu-entry-focus-button",b);c&&a.v().g(c,"click",function(){(0,z.cu)(c,"topic","",["zg-btn-green","zg-btn-white"])});a.bg=z.M("zh-topic-operation-menu");a.bg&&a.v().g(a.bg,"click",a.EA)}if(b=z.M("zh-current-topic-bio")){var d=new z.tp(!0,"/topic/bio/update","bio");Vu(d,["tid\x3d"+a.Bf]);d.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u4f60\u5728 '+a.jB[0]+" \u8bdd\u9898\u4e2d\u7684\u7ecf\u9a8c\x3c/a\x3e";d.QD=!0;d.w(b)}};
var BC=function(a){z.Qe(a,z.Ne('\x3ca href\x3d"/question/23261456" class\x3d"zg-link-gray-normal"\x3e\x3ci class\x3d"icon-info" style\x3d"vertical-align: -3px; margin-right: 6px"\x3e\x3c/i\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'))};
var CC=function(a){if(z.M("zh-topic-organize-page-wrap")){var b=z.M("zh-topic-organize-parent-editor");if(b)if(z.Y.ls){var c=new Ev(null,a.Bf,!0);c.mt=!0;c.w(b);c.addEventListener("remove_tag",function(a){(a=a.data&&a.data.id)&&(0,window.$)("#wedge-"+a).remove()})}else BC(b);if(b=z.M("zh-topic-organize-child-editor"))z.Y.ls?(c=new Ev(null,a.Bf,!1),c.mt=!0,c.w(b),(0,window.$)("a.entire-link").insertAfter(c.Kn).show()):BC(b);(0,window.$)("#zm-topic-manage-relation").on("change",'[type\x3d"checkbox"]',
function(){var a=(0,window.$)(this).closest("li").attr("id").split("-")[1];window.$.post("/topic/update",{action:"set_topic_edge",parent_topic_id:a,topic_id:z.Ds[0][3],edge:this.checked^0}).done(function(a){a&&a.msg&&z.U(a.msg)})});a.kv=z.M("zh-topic-alias-input");new z.Jl(a.kv,"\u8f93\u5165\u8bdd\u9898\u522b\u540d");a.lv=z.M("zh-topic-alias-list");a.v().g(z.M("zh-topic-alias-container"),"click",a.DR);if(b=z.M("zh-topic-merge"))a.Qa=new aw,a.Qa.w(b);(b=z.M("zh-topic-merge-btn"))&&a.v().g(b,"click",
a.cR)}};var DC=function(){var a=z.M("zh-topic-organize-page-children");a&&(new rC("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+"/organize/entire")).w(a)};var EC=function(a){var b=z.M("zh-topic-side-related-topics");b&&(a.ES=b,a.Zz=new z.V(!1),a.v().g(a.Zz,"complete",a.lR),a.Zz.ajax("/topic/related?tid\x3d"+a.Bf))};
var FC=function(a){if(z.Hr)(0,window.$)("div.topic-avatar").addClass("disabled");else{var b=z.N("zm-entry-head-avatar-edit-button");if(b){var c=new ZA(2,z.Ds[0][3]);c.w(b);var d=z.N("zm-avatar-editor-preview");z.G(c,"beforepost",function(){(0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading topic'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e").appendTo(d.parentNode)});z.G(c,"success",function(){window.$.post("/topic/"+z.Ds[0][1]+"/avatar",{avatar_path:c.getData().url}).then(function(a){a&&a.r?
z.U(a.msg):d&&(d.src=c.getData().url)}).always(function(){(0,window.$)(".avatar-edit-preview-loading").remove()})});a.v().g(c,"beforeopen",z.mb(tC({Vp:!0}),z.mm(z.m,!0)))}}};var GC=function(a){HC(a);IC(a);a.Xa&&a.v().g(a.Xa,"afterload",function(b){z.X.ya({type:"ga_click_topic_more",data:b.data,target:a.Xa.fc})})};
var HC=function(a){var b=z.M("zh-topic-feed-list");if(b){var c=new Nw;a.L(c);c.use("locationSource",{Sl:0,offset:function(a){return z.y.Wc(a).getAttribute("data-score")}});c.use("childConstructor",{factory:iA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category",this.Xg).fill("label","topic_activity")})}};
var IC=function(a){var b=z.M("zh-topic-top-page-list");if(b){var c=new Nw({oh:!1});a.L(c);c.use("childConstructor",{factory:iA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category",this.Xg).fill("label","topic_activity")})}};
var JC=function(a){function b(a){a&&a.msg&&z.U(a.msg)}a.ys=z.M("zh-topic-info-add");a.ys&&a.v().g(a.ys,"submit",a.XQ);a.EF=z.N("zm-topic-info-content-main",a.h);a.EF&&a.v().g(a.EF,"click",a.VQ);(0,window.$)("#zh-topic-manage-info-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/"+z.Ds[0][1]+"/information/manage",{info:(0,window.$)(this).val(),action:"change"}).done(b)});(0,window.$)("#zh-topic-manage-relation-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/update",
{action:"set_topic_weaknode",topic_id:z.Ds[0][3],weak:(0,window.$)(this).val()}).done(b)});(0,window.$)("#zh-topic-manage-lock-form").on("change",'[type\x3d"checkbox"]',function(){window.$.post("/topic/lock",{url_token:z.Ds[0][1],lock_type:this.name,lock_value:(0,window.$)(this).is(":checked")?1:0}).done(b)})};var KC=function(a){z.S.call(this,a)};
var LC=function(a,b,c){var d,f,g=[];for(d in c)f=c[d],z.ga(f)?z.y.forEach(f,(0,z.r)(function(a){g.push(yw({type:"hidden",name:d,value:String(a)}))},a)):g.push(yw({type:"hidden",name:d,value:String(f)}));z.se(b,Cv(g))};var MC=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"day"})})};var NC=function(a){return window.$.get("/node/ExploreHotFavlistsInnerV2",{params:JSON.stringify({offset:a})})};
var OC=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"month"})})};var PC=function(){z.H.call(this)};var QC=function(){z.S.call(this);var a=z.Es||[0,0];this.Vs=a[0];this.visible=!!a[1];this.Xg="collection"};
var RC=function(a){var b=z.M("zh-list-answer-wrap");if(b){(0,window.$)(b).on("click","a[name\x3dunfavo]",window.$.proxy(a.uO,a));var c=new Nw({oh:!1});a.L(c);c.use("childConstructor",{Wk:Qz}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category",this.Xg).fill("label","collection_answer")})}};
var SC=function(a){var b=z.M("zh-list-side-head");if(b){var c=z.N("zu-entry-focus-button",b);c&&a.v().g(c,"click",function(){(0,z.cu)(c,"favlist","",["zg-btn-green","zg-btn-white"])});a.bg=z.M("zh-list-operation-menu");a.bg&&a.v().g(a.bg,"click",a.EA)}(b=z.M("zh-single-answer-author-info"))&&(new qC(b)).init();(b=z.M("zh-list-create-new-list"))&&a.v().g(b,"click",a.HT);(b=z.M("zh-fav-list-side-bar-creator"))&&(new qC(b)).init();(b=z.M("zh-fav-list-side-bar-report"))&&rx(new px("favlist",a.Vs),b)};
var TC=function(a){z.Gi("\u5220\u9664\u6536\u85cf\u5939","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6536\u85cf\u5939\u5417\uff1f",function(a){a&&(a=new z.cn,a.add("favlist_id",this.Vs),a.add("_xsrf",(new z.xg(window.document)).get("_xsrf")),(new KC).post(Zu(a),"/collection/delete"))},a)};
var UC=function(a){a.qa||(a.qa=new Wy(a.Vs,"favlist"),a.L(a.qa),a.v().g(a.qa,"click!",function(a){"comment"===a.namespace&&(a.Lc.fill("category",this.Xg).fill("label","collection"),a.Lc.action=a.Lc.action.replace("favlist","collection"))}),Zy(a.qa,a.Vb,(0,window.$)(".toggle-comment",a.Vb)[0]))};var VC=function(a){a.oJ=new z.V(!0);a.v().g(a.oJ,"complete",function(){window.location.reload()});a.oJ.ajax("/collection/update","favlist_id\x3d"+a.Vs+"\x26is_public\x3d1")};
var WC=function(a){XC||(this.Nn=a,this.Bh=(0,window.$)(this.Nn.m()),(0,window.setTimeout)((0,z.r)(this.Fb,this)))};var YC=function(a){(0,window.setTimeout)(function(){window.$.ajax({type:"POST",url:"/zreactor/deliver",data:JSON.stringify(a),contentType:"application/json",processData:!1})},50)};
var ZC=function(a){var b=$C[a.Bh.data("type")];bv(a.Bh[0],function(){aD(a,"display")},a.Nn);a.Nn.v().g(a.Nn,"expand",function(c){c.target instanceof Cz&&aD(a,"expand_"+b)}).g(a.Nn,"collapse",function(c){c.target instanceof Cz&&aD(a,"collapse_"+b)});a.Bh.on("click",'a[name\x3d"nohelp"]',function(){var b=!!(0,window.$)(this).data("revert");aD(a,b?"unhelpful":"revert_unhelpful");(0,window.$)(this).data("revert",!b)});window.$.each({".actioncard-body .more":"view_all",".actioncard-body .next:not(.disabled)":"next_page",
".actioncard-body .prev:not(.disabled)":"prev_page",".actioncard-body .items a":"open_topic",'.zg-follow[data-follow^\x3d"t:"], .zg-btn-follow[data-follow^\x3d"t:"]':"follow_topic",'.zg-unfollow[data-follow^\x3d"t:"], .zg-btn-unfollow[data-follow^\x3d"t:"]':"unfollow_topic",'a.zg-follow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"follow_"+bD[b],'a.zg-unfollow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"unfollow_"+bD[b],"a.toggle-comment":"expand_comments",'a[name\x3d"addnew"]':"comment",
".content h2 a":"open_"+cD[b],"a.ignore:not(.close)":"uninterest","a.revert":"revert_uninterest","a.ignore.close":"confirm_uninterest","button.up.pressed":"vote_up_"+b,"button.down.pressed":"vote_down_"+b,"button.up:not(.pressed)":"revert_vote_up_"+b,"button.down:not(.pressed)":"revert_vote_down_"+b,'a[name\x3d"favo"]':"collect_answer",'a[name\x3d"thanks"]':"thanks",'a[name\x3d"share"]':"share",'a[name\x3d"report"], .js-report':"report","a.answer-date-link":"open_answer"},function(b,d){a.Bh.on("click",
b,function(){aD(a,d)})})};var aD=function(a,b){var c=window.$.extend({},dD(a),{action_type:b,time:(0,z.w)()});c.object_id&&("display"===b?a.jS(c):YC(c))};var dD=function(a){var b=a.MB,c=window.$.extend({},b.data("meta"),{create:a.Bh.find(".source .time").data("timestamp"),offset:(0,window.$)(".feed-item").index(a.Bh)+1});return{mid:z.kj.ga_vars.user_hash,object_type:$C[a.Bh.data("type")],object_id:b.data("id"),object_meta:c,context:eD,others:""}};var fD=function(a,b,c){Ax.call(this,a,b,c)};
var gD=function(a){z.$h(a,function(a){(0,window.$)(a.m()).remove()})};var hD=function(){this.interval=3E4};var iD=function(){var a=hD.U();jD(a)};var jD=function(a,b){if(!a.$c||b)b&&(0,window.clearInterval)(a.$c),a.$c=(0,window.setInterval)((0,z.r)(function(){kD(this)},a),a.interval)};var lD=function(){var a=hD.U();kD(a,!0)};var kD=function(a,b){(0,window.$)(".feed-item-hook .time").each(function(){(0,window.$)(this).text(dw((0,window.$)(this).data("timestamp")))});b&&jD(a,b)};
var mD=function(){z.S.call(this);this.zy={};this.lt=[];this.sP="old"===(0,window.$)("#feed-ver").val();this.$F=!!(0,window.$)("#is-topstory").length;this.DP=!!(0,window.$)("#is-topstory2").length;this.nE=this.sP?"zm-item":"feed-item-hook";window._gaq=window._gaq||[];this.$F?window._gaq.push(["_setCustomVar",5,"is_topstory",!0,3]):window._gaq.push(["_setCustomVar",5,"is_topstory",!1,3])};
var nD=function(a){a.Xa=new fD(a.h,null,!0);if((0,window.$)(a.h).data("delayed"))z.sj.on("guider2:topicselected",(0,z.r)(a.Xa.Ul,a.Xa));a.getParent()&&a.getParent().L(a.Xa);Bx(a.Xa,"/node/"+(0,window.$)(a.h).data("init").nodename);a.Xa.yi("feed-item-hook");a.v().g(a.Xa,"itemcreated",function(a){oD(this,a.data.GP)}).g(a.Xa,"afterload",function(a){z.X.ya({type:"ga_click_feed_more",data:a.data})}).g(a.Xa,"ignore",function(a){pD(this,a.key,a.value)});a.Xa.init()};
var qD=function(a){a.K.on("click",".js-change-some",function(){z.en("feed","intrests-change");var b=(0,window.$)(this),c=(0,window.$)(this).parent().parent();window.$.post("/node/HomeExtraFeedList",{method:"next",params:{}}).done(function(d){!d.r&&d.msg&&(0<d.msg.length?(c.find(".feed-item-hook").remove(),c.append(d.msg).find(".feed-item-hook").each(function(){a.Xa.Yj(this)})):b.replaceWith('\x3cspan class\x3d"zg-right zg-gray"\x3e\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\x3c/span\x3e'))})})};
var rD=function(a){a.K.on("click",".js-more-similar",function(){(0,window.$)(this).parent().slideUp("fast").nextUntil(":not(.hidden)").slideDown("fast")})};var oD=function(a,b){var c=z.Sh(z.Rh.U());a.zy[c]=b;(0,window.$)(b.h).attr("data-fid",c)};var pD=function(a,b,c){z.A.forEach(a.zy,function(a){a.Dr[b]===c&&(0,window.$)(a.h).fadeOut(150)})};var sD=function(){z.S.call(this)};var tD=function(){z.S.call(this)};var uD=function(){z.H.call(this);this.Tx=[];this.KD=[]};
var vD=function(a){for(var b=[],c=0;3>c;c++){var d=a.KD.shift();d&&b.push(d)}3===b.length?(a.Zs.innerHTML=b.join(""),wD(a)):xD(a)};var wD=function(a){var b=z.Ce("suggest-item",a.Zs);z.y.forEach(b,function(a){this.Tx.push(a.id.split("-")[1])},a)};var xD=function(a){a.Zs.innerHTML='\x3cimg class\x3d"bubble-loading" src\x3d"'+z.Zr.SA+'/img/noti-loading.gif"\x3e';window.$.post("/lookup/suggest_member",{ids:a.Tx.join(",")}).done((0,z.r)(a.KQ,a))};
var yD=function(a){z.H.call(this);this.Bz=a;this.K=(0,window.$)(this.Bz.html);this.Eg=this.K[0];this.position=this.Bz.position||"top"};var zD=function(a){a=a.getBoundingClientRect();a.width||(a.width=a.right-a.left,a.height=a.bottom-a.top);return a};
var AD=function(){function a(){(0,window.setTimeout)(function(){b.Do&&b.ba()})}if(z.kj.is_registered_via_web&&!z.kj.is_answerer_prompt_dismissed){var b,c;z.Ur.g("expand",function(d){var f=d.target;if(f instanceof Qz){if(b)return a();c&&"pending"===c.state()||(c=window.$.post("/node/Guide2",{method:"unfold_answer_in_feed"}).then(function(a){(a=(0,window.$)(a.msg).html())&&(b=BD(a,f))}))}});z.Ur.g("collapse",function(c){c.target instanceof Qz&&b&&a()})}};
var CD=function(a){var b=(0,window.$)("#tmpl-guidev2-answerer-tip").html();b&&BD(b,a)};
var BD=function(a,b){var c=new yD({html:a}),d=(0,window.$)(b.m()).find(".zm-item-answer-author-wrap").find("a:not(.zm-item-link-avatar)"),f=z.pa(z.W,"popup_guide");if(d.length)return c.g("show",function(){function a(){b.Pr()===c.target&&c.hide("hoverUserCard")}var b=z.hr.U().V,c=this;b&&(b.g("beforeshow",a),c.Ba("hide",function(){b.na("beforeshow",a)}))}),c.g("show",function(){window.$.post("/node/Guide2",{method:"dismiss_answerer_prompt"});f("popup_guide_view_people_appear","popup_guide_view_people_appear")}),
c.g("hide",function(a){function b(a){f(a,"popup_guide_view_people_fade")}switch(a.reason){case "click":b("click_popup_guide_view_people_close");break;case "outOfView":b("move_out_popup_guide_view_people")}b("popup_guide_view_people_fade")}),c.show(d),c};var DD=function(){z.S.call(this)};var ED=function(a){var b=z.M("js-home-feed-list");if(b){var c=new mD;a.L(c);c.w(b)}};
var FD=function(){var a=(0,window.$)("#js-global-notify");if(a.length){var b=new z.So;b.w(a[0]);Wu(b);(0,window.$)(".zu-global-notify-close",a).click(function(){var c=(0,window.$)(this).data("id");window.$.post("/notice/read",{nid:c});b.H();a.remove()})}};
var GD=function(a){var b=(0,window.$)(".user-guiding-box");if(0!==b.length){var c=(0,window.$)(".view-headline",b),d=(0,window.$)(".view-email",b),f=[];c.length&&f.push(c);d.length&&f.push(d);var g=function(){var a=f.shift();if(0===f.length)window.Modernizr.cssanimations&&window.Modernizr.csstransforms?cw(b,"fadeOut",function(){b.remove()}):b.remove();else{var c=f[0];window.Modernizr.cssanimations&&window.Modernizr.csstransforms?cw(a,"fadeOutRight10",function(){a.remove();c.show();cw(c,"fadeInLeft10")}):
(a.remove(),c.show())}};(0,window.$)(".reactive-button",b).click(function(){(new z.dk).F(!0)});(0,window.$)(".js-noavatar",b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"avatar"}});g();HD("close_avatar")});(0,window.$)(".js-noheadline",b).on("click",function(){window.$.post("/node/HomeGuideV2",{method:"ignore",params:{ignored_entry:"headline"}});g();HD("close_headline")});var h=(0,window.$)("form",c);h.validate({submitHandler:function(b){window.$.post("/node/HomeGuideV2",
{method:"add_headline",params:{headline:(0,window.$)('input[name\x3d"headline"]',b).val()}},function(b){b&&b.r?263===b.errcode?a.showErrors({headline:"\u4ecb\u7ecd\u8fc7\u957f"}):a.showErrors({headline:"\u4fdd\u5b58\u5931\u8d25"}):(g(),HD("add_headline"))})},messages:{headline:{required:"\u4e0d\u80fd\u4e3a\u7a7a",maxlength:"\u4ecb\u7ecd\u8fc7\u957f"}},rules:{headline:{maxlength:40}},errorPlacement:function(a){a.appendTo((0,window.$)(".button-wrapper",h))},focusCleanup:!0,focusInvalid:!1})}};
var HD=function(a){z.vq({t:"event",tid:"zhihu.web.register",action:a})};var ID=function(){z.ii.call(this,null,!1);this.PC="zh-lightbox-showing";this.iU="zh-lightbox-thumb";this.Fb()};var JD=function(a,b,c){Vw.call(this,a,b,c);this.Ai(!0)};z.KD=function(){};z.LD=function(){this.Fq="toolbar"};var MD=function(){};z.ND=function(a,b,c){z.Lj.call(this,a,b||MD.U(),c)};var OD=function(){};var PD=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};
var QD=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(Qv.test("#"==b.charAt(0)?b:"#"+b)||Nv(b).length||sw&&sw[b.toLowerCase()]);c=c?rw(b).ns:null;a.firstChild.style.borderBottomColor=c||(z.C?"":"transparent")}};var RD=function(a,b,c,d){z.Qn.call(this,a,b,c,null,d)};z.SD=function(){};var TD=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var l=[],n=0;n<c.width;n++){var p=b&&b[h++];l.push(UD(a,p,d))}f.push(VD(a,l,d))}return a.$v(f,d)};
var VD=function(a,b,c){a=c.B("TR",a.R()+"-row",b);z.Ag(a,"row");return a};var UD=function(a,b,c){a=c.B("TD",{"class":a.R()+"-cell",id:a.R()+"-cell-"+WD++},b);z.Ag(a,"gridcell");z.Bg(a,"selected",!1);if(!z.sf(a)&&!z.Fg(a)){var d;b=new RD(a);for(c="";!c&&(d=z.I.SG(b));)1==d.nodeType&&(c=z.Fg(d)||d.title);(d=c)&&z.Bg(a,"label",d)}return a};var XD=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.Ig(c,a.R()+"-cell"))return c.firstChild;c=c.parentNode}return null};
var YD=function(a){z.H.call(this);this.Fd=[];ZD(this,a)};var ZD=function(a,b){b&&(z.y.forEach(b,function(a){this.xm(a,!1)},a),z.y.extend(a.Fd,b))};z.$D=function(a,b,c){z.Ej.call(this,a,b||z.SD.U(),c);this.Qi&=-89;this.Dn=new aE;this.Dn.xp(this);this.Fy=-1};z.bE=function(a,b){if(a.m())throw Error("Component already rendered");a.Ac=z.ha(b)?new z.ve(b,void 0):b;cE(a)};var dE=function(a){var b=a.fb();return b&&b[a.Ra]};var eE=function(a,b){var c=a.fb();a.Hb(c?z.y.indexOf(c,b):-1)};
var fE=function(a,b,c){if(a.m()){var d=a.fb();if(d&&0<=b&&b<d.length){var f;f=(f=dE(a))?f.parentNode:null;a.Dn.m()!=f&&(a.Dn.h=f);f=a.Dn;f.zc(c);!!(f.O&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.Ng(b,a.N.R()+"-cell-hover",c),c?z.Bg(a.h,"activedescendant",b.id):b.id==z.Dg(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var cE=function(a){var b=a.fb();if(b)if(a.Ac&&a.Ac.width){if(b=Math.ceil(b.length/a.Ac.width),!z.ha(a.Ac.height)||a.Ac.height<b)a.Ac.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.Ac=new z.ve(b,b);else a.Ac=new z.ve(0,0)};var aE=function(){z.Ej.call(this,null);this.rh|=2};var gE=function(a,b,c){this.cr=a||[];z.$D.call(this,null,b||z.SD.U(),c);this.cr=this.cr;this.nt=this.Os=null;this.ha(hE(this))};
var hE=function(a){return z.y.map(a.cr,function(a,c){var d=this.M().B("DIV",{"class":this.N.R()+"-colorswatch",style:"background-color:"+a}),f;this.Os&&this.Os[c]?f=this.Os[c]:"#"==a.charAt(0)?(f=Pv(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var iE=function(a){if(a)try{return rw(a).ns}catch(b){}return null};var jE=function(a,b,c,d){hx.call(this,a,b,c||OD.U(),d)};
var kE=function(a){var b=new $w(a);z.A.forEach(lE,function(c){c=new gE(c,null,a);z.bE(c,8);b.L(c,!0)});return b};var mE=function(){};var nE=function(){};var oE=function(a,b,c,d){jE.call(this,a,b,c||nE.U(),d)};var pE=function(a,b,c,d){hx.call(this,a,b,c||mE.U(),d)};var qE=function(a,b,c,d,f){hx.call(this,a,b,c,d,f||new Yw("listbox"));this.lw=this.fb();this.ly=null;this.yp("listbox")};var rE=function(a,b){a.lw=b;sE(a)};var tE=function(a,b){a.la=new YD;b&&z.$h(b,function(a){uE(a);this.la.Ga(a)},a);vE(a)};
var vE=function(a){a.la&&a.v().g(a.la,"select",a.vj)};var sE=function(a){var b=a.kf();a.ha(b?b.Hg():a.lw);var c=a.N.Z(a.m());c&&a.M().isElement(c)&&(null==a.ly&&(a.ly=z.Fg(c)),b=(b=b?b.m():null)?z.Fg(b):a.ly,z.Bg(c,"label",b),wE(a))};var wE=function(a){var b=a.N;if(b&&(b=b.Z(a.m()))){var c=a.h;b.id||(b.id=z.Sh(z.Rh.U()));z.Ag(b,"option");z.Bg(c,"activedescendant",b.id);a.la&&(c=a.la.Eb(),z.Bg(b,"setsize",xE(c)),a=a.la.mj(),z.Bg(b,"posinset",0<=a?xE(z.y.slice(c,0,a+1)):0))}};
var xE=function(a){return z.y.count(a,function(a){return a instanceof Vw})};var uE=function(a){a.yp(a instanceof Vw?"option":"separator")};var yE=function(a,b,c,d){qE.call(this,a,b,c||mE.U(),d)};var zE=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};
var AE=function(a,b){z.y.forEach(b,function(b){var d=b.caption;b=b.value;var f=zE(b),d=new JD(d,b,a.M());z.Vh(d,f);a.Ga(d);d.Z().style.fontFamily=b})};var BE=function(a){z.y.forEach(CE,function(b){var c=b.value;b=new JD(b.caption,c,a.M());a.Ga(b);b=b.Z();b.style.fontSize=(DE[c]||10)+"px";b.firstChild.style.height="1.1em"})};var EE=function(a){z.y.forEach(FE,function(b){var c=b.caption;b=b.Ca;var d=a.M(),c=new JD(d.B("DIV",null,c),b,d);z.Vh(c,b);a.Ga(c)})};
z.GE=function(a,b,c,d,f,g){c=new z.ND(HE(c,d,g),f,g);z.Vh(c,a);c.qc(b);return c};z.IE=function(a,b,c,d,f,g){a=z.GE(a,b,c,d,f,g);a.Rb(16,!0);return a};var JE=function(a,b,c,d,f,g){f=new yE(null,null,f,g);d&&z.y.forEach(d.split(/\s+/),f.Fh,f);f.Fh("goog-toolbar-select");rE(f,c);z.Vh(f,a);f.qc(b);return f};var KE=function(a,b,c,d,f,g){c=new oE(HE(c,d,g),null,f,g);z.Vh(c,a);c.qc(b);return c};var HE=function(a,b,c){a&&""!=a||!z.B||z.E("1.9a")||(a="\u00a0");return(c||z.L()).B("DIV",b?{"class":b}:null,a)};
var LE=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in ME&&(c=ME[b]);c.length&&AE(a,c);AE(a,NE)};var OE=function(a,b,c,d,f,g){var h=z.GE(a,b,c,d,f,g);h.Gi=function(a){h.Ya(a)};return h};var PE=function(a,b){var c=b;try{if(z.C)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.W()&&a.Ea(c)}catch(g){}};
z.QE=function(a){z.Tx.call(this);this.ca=new z.dd(this);this.wF=z.P("div",{style:"display:none"});this.h=this.wc=null;this.J={};z.A.extend(this.J,this.defaults,a||{})};var RE=function(a){if(a.Sp){var b=(0,window.$)(a.Sp);b.stop().text("\u8349\u7a3f\u5df2\u7ecf\u4fdd\u5b58").fadeTo(600,.5).delay(3E3).fadeOut(600,function(){b.text("")})}};
var SE=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.hE||(a.HO=window.history.length),a.hE=!0,TE(a,"writing"),a.EJ=z.Df(z.L((z.t||window).document)),z.Xe(a.wF,a.J.uk),a.wc.appendChild(a.J.uk),z.T.add(window.document.body,a.J.bx),a.Cb=z.N(a.J.qU,a.h),a.Cb.appendChild(a.Sp),UE(a),(0,z.Ya)(z.sf(a.G.Aa))||a.G.Vf(),a.dispatchEvent("enterFullScreen"))};
var VE=function(a){!z.Fi&&a.hE&&a.HO!==window.history.length?window.history.back():TE(a,"");a.Cb.removeChild(a.Sp);a.wI(!1);a.h.onscroll=null;a.ca.na(window.document,"keydown",a.Xo);z.Xe(a.J.uk,a.wF);z.T.remove(window.document.body,a.J.bx);window.scrollTo(a.EJ.x,a.EJ.y);a.dispatchEvent("exitFullScreen")};var TE=function(a,b){a.ca.na(window,"hashchange",a.eH);window.location.hash=b||"";(0,window.setTimeout)((0,z.r)(function(){this.ca.g(window,"hashchange",this.eH)},a))};
var UE=function(a){var b=a.h;b.scrollTop=0;var c=a.Cb.getBoundingClientRect().top;b.onscroll=z.mb((0,z.r)(a.wI,a),function(){return b.scrollTop>c});a.ca.g(window.document,"keydown",a.Xo)};var WE=function(a,b,c){Vw.call(this,a,b,c);this.up(!0)};var XE=function(a,b){z.H.call(this);this.oa=a;this.Ib=b;this.data=z.As};var YE=function(a,b){return a?b?new WE(a):new Vw(a):new Zw};
var ZE=function(a){a.om.innerHTML="";z.R(a.om,!1);a.Co=!1;a.em.ym("\u95ee\u9898\u91cd\u5b9a\u5411");z.Li("/question/unredirect",null,"POST","qid\x3d"+a.oa+"\x26rqid\x3d"+a.St)};var $E=function(a){z.tp.call(this,!0,"/topic/bio/update","bio");this.kB=a[0];this.params=["tid\x3d"+this.kB[3]];this.content=a[1];this.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u63cf\u8ff0\u4f60\u5173\u4e8e '+this.kB[0]+" \u7684\u7ecf\u9a8c\x3c/a\x3e";this.Au=!0};
var aF=function(a,b){z.H.call(this);this.$O=b;this.$k=a;this.items=[];this.Ky=!1};var bF=function(){cF||(cF=new aF(z.Cs,!1));return cF};var dF=function(a){a.locked=!0;var b=new z.V(!0);a.v().g(b,"success",function(a){this.jQ=!0;this.locked=!1;a=z.fe(a.target);a.r||(this.$k=a.msg,eF(this))});b.ajax("/question/"+a.WH+"/bios",null,"GET")};
var eF=function(a){if(!a.locked)if(!a.jQ&&a.Ky)dF(a);else{if(!a.xa){a.xa=new z.Ai;a.xa.kb("\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c");z.ui(a.xa,null);z.pi(a.xa,!1);var b=a.xa.Z();b.innerHTML='\x3cdiv class\x3d"zg-section-title"\x3e\u4fee\u6539\u6bcf\u4e2a\u8bdd\u9898\u65c1\u8fb9\u9760\u8fd1\u4f60\u540d\u5b57\u7684\u7b80\u4ecb\uff1a\x3c/div\x3e';a.ea(b)}a.xa.F(!0)}};
var fF=function(a,b){z.S.call(this);this.wb=a;this.Lr=Uu(this.wb);this.isContentEditable=this.wb.isContentEditable();this.kU=30;this.$c=new z.$c(1E3*this.kU);this.oa=z.As?z.As.oa:0;this.SF=b||!1};var gF=function(a){hF(a,"\u4fdd\u5b58\u4e2d\u2026");a.yw();a.dP()};var iF=function(a){a.$c.stop()};var jF=function(a){a.eB&&((0,window.clearInterval)(a.eB),a.eB=null)};var kF=function(a,b){var c=dw(b||(0,z.w)());/^\d/.test(c)&&(c=" "+c);hF(a,"\u5df2\u5b58\u4e8e"+c)};
var hF=function(a,b,c){var d=(0,window.$)(a.GF);c?d.addClass("warning"):d.removeClass("warning");z.R(a.xs,!0);z.lf(a.GF,b)};var lF=function(a){mF(a);var b={qid:a.oa,timestamp:(0,z.w)()};(0,window.setTimeout)(function(){window.$.post("/draft/delete",b)},500)};var mF=function(a){a.jG&&(a.jG.abort(),a.ur());jF(a);z.R(a.xs,!1);a.dispatchEvent("clearContent")};
var nF=function(a){return(0,window.$)('\x3cdiv class\x3d"copyright-notification"\x3e\x3cdiv class\x3d"user-image-container"\x3e\x3cimg class\x3d"user-image" src\x3d"'+(a||"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip right noty-tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow arrow"\x3e \x3c/div\x3e\x3cdiv class\x3d"tooltip-inner inner"\x3e \u5982\u9700\u8f6c\u8f7d\uff0c\u8bf7\u901a\u8fc7\u79c1\u4fe1\u6216\u8bc4\u8bba\u8054\u7cfb\u6211 \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var oF=function(a,b){var c=-1,d=-1,f=pF();a.on("mousedown",function(a){3===a.which&&(c=a.pageX,d=a.pageY)});a.on("copy",function(g){var h=z.Mo(),l=Math.floor(22*Math.random()+44);if(h&&h.mc()&&(0,z.Ya)(h.mc()).length>l){g.preventDefault();(0,window.$)(".user-image",f).attr("src",b);g=h.zl();var h=h.sl(),l=z.jh(window).y,n=z.Fe(window).height,p=xw(l+45+15,Math.min(g.y,h.y)+l,l+n-15),x=xw(l+45+15,Math.max(g.y,h.y)+l,l+n-15);z.Zr.Ob?(n=(z.Fe(window).width-265)/2,g=z.gs?h.y>g.y?h.y+l+10:g.y+l-10:-1!==
d?d+3:p+(x-p)/2-15):(n=-1!==c?c+3:a.offset().left+a.width()/2-15,g=-1!==d?d+3:p+(x-p)/2-15);f.css({position:"absolute",left:n,top:g}).finish().fadeIn(300).delay(2E3).fadeOut(300)}d=c=-1})};
var qF=function(a,b){z.S.call(this);this.nT=(0,window.$)(a).children();this.contents=[];this.Ag=0;this.yr=[];this.className=b||"";this.GC=!1;this.delay=0;this.Iq=null;z.y.forEach(this.nT,function(a){a=(0,window.$)(a).addClass("carousel-inner-content");this.contents.push(a);this.yr.push((0,window.$)("\x3cdiv\x3e\x3c/div\x3e").addClass("carousel-dot"))},this)};
var rF=function(a,b){if(0>b||b>=a.contents.length)return!1;a.Iq&&((0,window.clearTimeout)(a.Iq),a.Iq=null);a.yr[a.Ag].removeClass("carousel-dot-selected");a.contents[a.Ag].hide();a.yr[b].addClass("carousel-dot-selected");a.contents[b].show();a.Ag=b;sF(a);return!0};var sF=function(a){var b=a.Ag;a.GC&&(a.Iq=(0,window.setTimeout)(function(){b===a.Ag&&(b===a.contents.length-1?rF(a,0):a.next())},a.delay))};
var tF=function(){function a(){function a(){return new z.Kb(function(a){l.onAnimationEnd(function(){a()},400)})}function b(a){return z.y.reduce(a,function(a,b){return a.then(b)},new z.Kb(z.Mb,void 0))}if(!d){d=!0;var c=(0,window.$)("#copyright-demo-region1"),f=(0,window.$)("#copyright-demo-region2"),g=(0,window.$)("#copyright-demo-region3"),h=(0,window.$)("#copyright-demo-region4"),l=(0,window.$)("#copyright-demo-indicator");(0,window.$)(".frame2-region").removeClass("copyright-demo-region-selected");
b([function(){l.show().addClass("indicator-move1");c.addClass("copyright-demo-region1-select-animation");return a()},function(){c.removeClass("copyright-demo-region1-select-animation").addClass("copyright-demo-region-selected");l.removeClass("indicator-move1").addClass("indicator-move2");return a()},function(){f.addClass("copyright-demo-region-selected");l.removeClass("indicator-move2").addClass("indicator-move3");return a()},function(){g.addClass("copyright-demo-region-selected");l.removeClass("indicator-move3").addClass("indicator-move4");
return a()}]).then(function(){h.addClass("copyright-demo-region-selected");l.removeClass("indicator-move4");d=!1})}}function b(){var a=(0,window.$)(".copyright-demo-pointer"),b=(0,window.$)(".copyright-demo-noty");a.css("opacity","0");b.css("opacity","0");a.addClass("copyright-demo-pointer-show-animation");b.addClass("copyright-demo-noty-show-animation");(0,window.setTimeout)(function(){a.removeClass("copyright-demo-pointer-show-animation");b.removeClass("copyright-demo-noty-show-animation");a.css("opacity",
"1");b.css("opacity","1")},1100)}var c=nF(z.Y[2]).addClass("copyright-demo-noty"),d=!1,f=(0,window.$)((0,window.$)("#copyright-demo-template").html());(0,window.$)("#copyright-demo-frame3",f).append(c);var g=new qF(f,"copyright-demo");g.g("rightShow",function(c){1===c.offset?a():2===c.offset&&b()});var c=(0,window.$)('\x3cdiv id\x3d"copyright-demo-helper" style\x3d"display: none; position: absolute;"\x3e\x3cp class\x3d"copyright-demo-helper-intro"\x3e \u52fe\u9009\u540e\uff0c\u6211\u4eec\u5c06\u9650\u5236\u5176\u4ed6\u7528\u6237\u7684\u590d\u5236\u64cd\u4f5c\uff0c\u5e76\u7ed9\u4e88\u63d0\u9192 \x3c/p\x3e\x3cp class\x3d"copyright-demo-helper-btn"\x3e \u67e5\u770b\u6f14\u793a \x3c/p\x3e\x3c/div\x3e'),
h=new z.Xq({I:"data-copyright-demo"});h.Cp=250;h.fo=750;h.lh(c[0]);h.g("trigger",function(a){h.setPosition(new z.Hq(a.anchor,4))});var l=new z.Ai;g.ea(l.Z());l.kb("\u7981\u6b62\u8f6c\u8f7d\u6f14\u793a");z.Di(l,462);(0,window.$)(".copyright-demo-helper-btn").click(function(){h.F(!1);rF(g,0);g.GC=!0;g.delay=3E3;sF(g);l.F(!0)})};
var uF=function(a,b,c){z.wp.call(this,!1);this.ob=!!a;this.hr=!0;this.tJ=b;this.Sb="\x26nbsp;";this.kn=c;this.zu=this.ww=this.xE=this.enabled=!0;if(z.Y.active||!z.Y.wa())this.Ry='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e\u5199\u56de\u7b54\u2026\x3c/span\x3e'};var vF=function(a,b){a.kn=b?b:z.Y[4];if(a.Es&&window.$.trim(b)){var c=b;20<c.length&&(c=c.substring(0,17)+"...");a.bL.innerHTML="\uff0c"+z.Fa(c)+'\x3ca name\x3d"edit_bio" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e'}};
var wF=function(a,b,c){b=(0,window.$)(b).css("top",0).css("z-index",9);(0,window.$)(a.vc).hide();c=(0,window.$)(c);(0,window.$)(a.bj).append(b).after(c);a=z.mm(z.m,{wa:"question_answer_add_start",ed:!0},"#draft");b.on("click",a);c.on("click",a)};
var xF=function(a){a.xk?a.xk.show():(a.xk=(0,window.$)('\x3cdiv class\x3d"question-tip-box-bottom"\x3e\u786e\u5b9a\u60f3\u8981\u56de\u7b54\u4f60\u81ea\u5df1\u63d0\u51fa\u7684\u95ee\u9898\u5417\uff1f\x3cbr\x3e\u5982\u679c\u9700\u8981\u5bf9\u95ee\u9898\u505a\u51fa\u66f4\u591a\u7684\u89e3\u91ca\u548c\u8bf4\u660e\uff0c\u8bf7\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0\u3002 \u5982\u679c\u9700\u8981\u5bf9\u5176\u4ed6\u56de\u7b54\u505a\u51fa\u56de\u5e94\uff0c\u8bf7\u5728\u76f8\u5e94\u56de\u7b54\u4e0b\u901a\u8fc7\u8bc4\u8bba\u53d1\u5e03\u3002\x3cbr\x3e\x3cdiv class\x3d"zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-btn zg-btn-blue" name\x3d"confirm"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-link-gray " name\x3d"cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),a.xk.on("click",
'[name\x3d"cancel"]',function(){a.xk.hide()}).on("click",'[name\x3d"confirm"]',function(){a.xk.hide();(0,window.$)(a.$b).hide();a.Ya(!0);a.zf()}),(0,window.$)(a.$b).after(a.xk))};var yF=function(a){var b=(0,window.$)("input[name\x3danno-checkbox]",a.vc)[0],c=(0,window.$)("label",a.vc)[0];a.Aq=b;z.As.ob&&(a.Aq.checked=!0);z.yh(c,!0)};var zF=function(a,b){z.S.call(this);this.vS=a;this.yC=b};var AF=function(a,b,c,d,f){z.wp.call(this,d,b,c);this.oa=a;this.Ks=this.kp=!1;this.SR=f};
var BF=function(a,b){a.Ks=b};var CF=function(){var a=z.P("select",{style:"1px solid #999 "}),b=z.P("option",{value:"none"},"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531...");a.appendChild(b);z.y.forEach(DF,function(b,d){var f=z.P("option",{value:b.value},d+1+". "+b.label);a.appendChild(f)});return a};var EF=function(a,b,c){a.IG.innerHTML=b;z.T.set(a.IG,c||"zg-error-text")};var FF=function(a,b){this.Ph=a instanceof z.te?a:new z.te(a,b)};var GF=function(a,b){FF.call(this,a,b)};
var HF=function(a,b){$w.call(this,a,b);this.an=!0;this.Re(!0);this.F(!1,!0);this.Af=new z.pd};var IF=function(a,b,c,d,f){var g=a.T();a.wy()&&a.nU?a.hide():(a.Lf=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.R(a.m(),!0),b.ba(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Hb(-1),a.F(!0)))};
var JF=function(a,b){for(var c=a.Af.hb(),d=0;d<c.length;d++){var f=a.Af.get(c[d]);if(f.h==b.currentTarget){a.CI(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};var KF=function(){z.S.call(this)};var LF=function(){z.Ai.call(this);this.xe=!0;this.F(!0)};
var MF=function(a,b){a.kb("\u63d0\u95ee\u65e0\u4eba\u95ee\u6d25\uff1f");a.ha(b);a.ba();(0,window.$)(".js-gonext",a.h).on("click",function(){var b=(0,window.$)(this).parents('[class^\x3d"view"]').attr("class");"view-starting"===b?(a.kb("\u7b2c\u4e00\u6761"),NF(a,"firsttip")):"view-firsttip"===b?(a.kb("\u7b2c\u4e8c\u6761"),NF(a,"secondtip")):"view-secondtip"===b?(a.kb("\u7b2c\u4e09\u6761"),NF(a,"thirdtip")):"view-thirdtip"===b&&a.F(!1)})};
var OF=function(a,b){a.kb("\u9080\u8bf7\u56de\u7b54\u5c0f\u7a8d\u95e8");a.ha(b);a.ba();(0,window.$)(".js-close",a.h).on("click",function(){a.F(!1)})};var NF=function(a,b){(0,window.$)('[class^\x3d"view"]',a.h).hide();(0,window.$)(".view-"+b,a.h).show()};var PF=function(a,b){z.S.call(this);this.uS=a;this.Dt=b;this.da=null;this.Wd=!1;this.xo=null;this.Pl=[];this.NI=[];this.Yg=!0;this.WP="loading";this.PF="zg-btn-white";this.mP="invite-button"};
var QF=function(a){function b(a){0>a||a>d-1||(h.find("li").hide().slice(4*a,4*(a+1)).show(),0===a?f.addClass("link-disabled"):f.removeClass("link-disabled"),a===d-1?g.addClass("link-disabled"):g.removeClass("link-disabled"),c=a)}a=a.h;var c=0,d,f,g,h;h=(0,window.$)(".suggest-persons",a);d=h.find("li").length/4;f=(0,window.$)(".js-prev",a).on("click",function(){b(c-1)});g=(0,window.$)(".js-next",a).on("click",function(){b(c+1)});b(0)};
var RF=function(a,b){return!!z.y.find(a.Pl,function(a){return a.id===b})};var SF=function(a,b,c){a=a.PF;c?(z.T.add(b,a),z.lf(b,"\u6536\u56de\u9080\u8bf7")):(z.T.remove(b,a),z.lf(b,"\u9080\u8bf7\u56de\u7b54"))};var TF=function(a,b){var c=z.As;a.dispatchEvent(new zy("click!invitation",{category:"invitation",action:"ask_to_answer",label:b,value:c.WF?null:c.se}))};
var UF=function(a,b,c){var d=(0,window.$)(".invite-button",a.MI).filter(function(){return this.getAttribute("data-uid")===b}).get(0);d&&SF(a,d,c)};var VF=function(a,b){return z.y.find(a.NI,function(a){return a.id===b})};var WF=function(a,b){a.Pl.unshift(b);XF(a);(0,window.$)(".ignore-invite-hint").css("display","none")};var YF=function(a,b){a.Pl&&z.y.IS(a.Pl,function(a){return a.id===b})&&(XF(a),(0,window.$)(".ignore-invite-hint").css("display","none"))};
var XF=function(a){var b=a.Pl,c={each:z.y.forEach,fullList:function(){return(0,z.Fp)(a.TM,{persons:b,helper:c})}};a.py.innerHTML=b.length?(0,z.Fp)(a.BT,{persons:b,helper:c}):""};var ZF=function(a){z.S.call(this);this.data=a;this.qa=null};
var $F=function(a){var b=z.N("panel-container",a.h);b&&(a.Yl=new KF,a.L(a.Yl),a.Yl.w(b),a.qa=new Wy(a.data.oa,"question"),a.Yl.L(a.qa),Zy(a.qa,a.Yl.m(),(0,window.$)(".toggle-comment",a.h)[0]),a.Cj(),a.Dj(),"normal"===z.As.status&&(b=new PF(a.data.oa,a.data.gb),b.ea(a.Yl.m()),a.Yl.L(b),z.As.KT&&(b.expand(),a.dispatchEvent(new zy("show!invitation",{category:"invitation",action:"ask_to_answer_card",label:""}))),a.OF=b))};
var aG=function(a,b){var c=a.pK;c||(c=new HF,c.w(z.M("zh-question-admin-menu")),z.$h(c,function(a){a.Ea(a.m().getAttribute("data-action"))}),a.v().g(c,"action",function(a){a=this.iC=a.target;(new By).open(a.m(),{id:this.data.oa,type:"question"},(0,z.r)(this.OL,this))}),a.pK=c);c.T()?c.F(!1):IF(c,new ax(b,1,!0),0,new z.Sg(5,0,5,0))};
var bG=function(a){z.Gi("\u5220\u9664\u95ee\u9898","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f\u76f8\u5173\u7684\u8bc4\u8bba\u4e5f\u5c06\u88ab\u5220\u9664\u3002",function(a){if(a){var c=new z.V(!0);z.G(c,"complete",function(){var a=z.fe(c);a&&!a.r?window.location.href="/":z.U(a.msg)});c.ajax("/question/delete/"+this.data.oa)}},a)};var gA=function(a,b){z.S.call(this);this.Mb=a;this.entryType=b;this.lm=null;this.ug="post"===b?Yz:Zz};
var cG=function(a){this.K=(0,window.$)(a);this.Fb()};var dG=function(a,b,c){z.wp.call(this,a,b,c)};var eG=function(){this.Mv=[]};var fG=function(a,b,c){var d=b.M().B("SPAN");d.className="goog-submenu-arrow";gG(b,d);a.Z(c).appendChild(d)};var gG=function(a,b){a.Ed()?(z.Jg(b,"goog-submenu-arrow-rtl"),z.lf(b,a.yq?"\u25c4":"\u25ba")):(z.Lg(b,"goog-submenu-arrow-rtl"),z.lf(b,a.yq?"\u25ba":"\u25c4"))};var hG=function(a,b,c,d){Vw.call(this,a,b,c,d||eG.U())};var iG=function(a){a.Sd&&z.cd(a.Sd);a.HA&&z.cd(a.HA)};
var jG=function(a){z.$h(a.getParent(),function(a){a!=this&&"function"==typeof a.Bg&&(a.Bg(),iG(a))},a)};var kG=function(a,b){a.dispatchEvent(z.Uh(64,b));var c=a.$a();b!=a.Yy&&z.Ng(a.m(),"goog-submenu-open",b);if(b!=c.T()&&(b&&(c.ua||c.ea(),c.Hb(-1)),c.F(b),b)){var c=new ax(a.m(),a.yq?6:4,a.wP),d=a.$a(),f=d.m();d.T()||(f.style.visibility="hidden",z.R(f,!0));c.ba(f,a.yq?4:6);d.T()||(z.R(f,!1),f.style.visibility="visible")}a.Yy=b};var lG=function(a,b,c){var d=a.v();(c?d.g:d.na).call(d,b,"enter",a.IQ)};
var mG=function(a,b,c,d){hG.call(this,a,b,c,d)};var eA=function(a){z.S.call(this);z.A.extend(this.J={},this.defaults,a||{});this.content="";this.Bc=this.Ue=this.Ve=null;this.yd=!1;this.valid=!0};var nG=function(a,b,c){z.S.call(this);this.oa=a;this.pa=c;this.cM=b||z.As;this.Uv=null};var oG=function(a,b){return z.mm(a,b,function(){return this.Sn()})};
var pG=function(a){var b=z.N("zm-item-answer",a.h)||a.h;a.pa=b.getAttribute("data-aid");a.Oe="1"===b.getAttribute("data-isowner");a.gb=b.getAttribute("data-atoken");a.ii="1"===b.getAttribute("data-deleted");a.aw=+b.getAttribute("data-created");a.DO=+b.getAttribute("data-helpful");a.uP="1"===b.getAttribute("data-good");a.hr="1"===b.getAttribute("data-copyable");a.Gj="1"===b.getAttribute("data-collapsed");a.ob=null};
var qG=function(a,b){var c={};c.Nr=!!b;c=a.lu=new eA(c);a.L(c);c.w(a.h);c.Ad()&&a.v().Ba(c,"expand",a.Vy);bv(a.h,a.Pj,a)};var rG=function(a,b){a.Vb=b};var sG=function(a){var b=z.N("zm-item-vote-info",a.h);if(b){a.vk=new gA(a.pa);a.L(a.vk);a.vk.w(b);b=(0,window.$)(".zm-item-vote-count",a.h);b[0]||(b=(0,window.$)(".zm-item-vote-count",a.Vb));var c=[b[0],(0,window.$)(".zm-votebar .count",a.h)[0]];if(c.length){var d=a.vk;a.vk.on("change",function(){z.y.forEach(c,function(a){z.Nm(a,d.Ta())})})}}};
var tG=function(a){var b=z.N("more-actions",a.Vb);if(b){var c={share:{label:"\u5206\u4eab",action:a.iO},fav:{label:"\u6536\u85cf",action:a.sj},report:{label:"\u4e3e\u62a5",action:a.fO},nohelp:{label:a.DO?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9",action:a.aF}},d=new $w,f=function(a){z.Yh(d)&&d.Ga(new Zw);var b=new Vw(c[a].label);b.Ea(a);d.Ga(b)};f("share");f("fav");a.Oe||(f("nohelp"),z.Y.wa()&&f("report"));f=new hx("operation",d);f.hk=!0;jx(f);ix(f);f.dm=function(){};f.bc=z.as;
f.w(b);z.T.add(d.m(),"zh-answer-more-actions");a.v().g(d,"action",function(a){var b=a.target.W();(b=c[b])&&b.action&&b.action.call(this,a)})}};
var uG=function(a){if(!a.re&&a.Oe&&z.As&&a.pa){a.re=new dG(!1,"/answer/content","content");z.gc(a,a.re);a.re.zu=!0;a.re.ww=!0;a.re.KE=uF.prototype.KE;var b=z.N("zm-item-rich-text",a.h);Vu(a.re,["id\x3d"+a.oa]);a.re.w(b);a.v().g(a.re,"shouldUpdateContent",function(a){if(z.fa(a.data))return!1});a.v().g(a.h,"click",function(a){"suggest_edit"===a.target.name&&(this.re.zf(),(0,window.$)(".zh-question-censor-tip",this.h).hide());return!0})}};
var vG=function(a,b){if(!a.qa){a.qa=new Wy(a.pa,"answer",b);a.L(a.qa);Zy(a.qa,a.Vb,(0,window.$)(".toggle-comment",a.Vb)[0]);vz(a.qa);a.qa.$t(a.Sn());var c=window.location.hash.slice(1).split("-"),d=window.location.pathname.split("/"),d="answer"===d[3]&&d[4];"comment"===c[0]&&c[1]&&d===a.gb&&(a.qa.Sa(!0),a.v().g(a.qa,"expand",function(){gz(this.qa)}))}};var wG=function(a){if(a.wq)a.wq.F(!0);else{var b=xG(a);b&&(IF(b,new ax(a.qK,1,!0),0,new z.Sg(5,0,5,0)),yG(a,b),zG(a,b),a.wq=b)}};
var xG=function(a){var b=(0,window.$)("a[name\x3dadmin]",a.mi)[0];if(b){a.qK=b;AG=0;var c=new HF;a.L(c);c.attach(b,5);var d=a.Gj?new Vw("\u53d6\u6d88\u6298\u53e0"):new mG("\u6298\u53e0");d.Ea("collapse");var f=function(a,b){var c=new Vw(b+1+" "+a.label);c.Ea(a.value);d.Ga(c)};a.Gj||BG("answer","collapse").then(function(a){z.y.forEach(a,f);z.T.add(d.$a().m(),"manage-menu")});b=new Vw("\u5220\u9664");b.Ea("delete");c.Ga(d);c.Ga(b);c.ea(a.h);z.T.add(c.m(),"manage-menu");return c}};
var yG=function(a,b){a.v().g(b,"action",function(a){var b=a.target;a=b.W();var b=b.m(),f=new z.Yk;"collapse"===a?(f.add("answer_id",this.pa).add("action","collapse2").add("collapse",this.Gj?"cancel":"done"),b.setAttribute("data-op",this.Gj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),CG(this,b)):"delete"===a?(f.add("answer_id",this.pa).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
CG(this,b)):z.ha(a)&&(b=new z.Yk,b.add("answer_id",this.pa).add("action","collapse2").add("collapse",this.Gj?"cancel":"done").add("reason",a),Cy("/manage",b.toString(),(0,z.r)(this.nH,this)))})};var CG=function(a,b){(new By).open(b,{id:a.pa,type:"answer"},(0,z.r)(a.nH,a))};
var DG=function(a){function b(){c();var b=a.wq.ai(0);b.$a&&b.$a()&&(b.gu(),b.$a().Hb(0))}function c(){wG(a);a.wq.Hb(0)}var d=new cG(a.h),d=z.st.FJ(d.getItem()||a.h);z.Mm(z.Mm(z.Mm(z.Mm(z.Mm(z.Mm(d.register("v",function(){this.sb&&this.sb.uu()},a),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"}).register("d",function(){this.sb&&this.sb.tu()},a),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"}).register("s c",a.sj,a),{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("t",a.fs,a),{group:"\u64cd\u4f5c",name:"\u611f\u8c22"}).register("c",
a.Ax,a),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",a.Ur,a),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"});var f=z.Ac?"\u2318":"ctrl";z.Zr.QF&&(0,window.$)("a[name\x3dadmin]",a.mi)[0]&&z.Mm(z.Mm(d.register("meta+.",c),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u83dc\u5355",key:f+"+."}).register("meta+k",b),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u6298\u53e0\u5b50\u83dc\u5355 (Kill)",key:f+"+k"})};
var zG=function(a,b){a.v().g(b,"show",function(){z.T.add(this.Vb,"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.T.remove(this.Vb,"zm-item-meta-has-menu")})};
var EG=function(a){var b=(0,window.$)('[name\x3d"comment_opt"]',a.Vb);if(b.length){var c=b.data(),d=new $w,f=new WE("\u7981\u6b62\u8f6c\u8f7d");f.Jd(!c.copyable);d.Ga(f);d.Ga(new Zw);FG(a,d);d.Ga(new Zw);d.Ga(new Vw("\u5220\u9664"));a.v().g(d,"action",a.oN);zG(a,d);z.T.add(d.m(),"zg-gray-normal");(0,window.$)(d.m()).addClass("setting-menu");a=new hx("comment",d);a.hk=!0;jx(a);ix(a);a.bc=z.as;a.w(b[0])}};
var GG=function(a){if(!a.jD||!a.jD.Ub()){var b=new z.V(!0);a.v().Ba(b,"success",function(a){if((a=z.fe(a.target))&&!a.r){var b=a.msg;z.y.forEach(this.Vv,function(a){a.W()===b&&a.Jd(!0)});this.Uv=b}else z.U(a.msg)});b.ajax("/answer/comment_permission?answer_id\x3d"+a.pa,null,"GET");a.jD=b}};var FG=function(a,b){a.Vv=[];z.A.forEach(HG,function(a,d){var f=new WE(a);f.Ea(d);f.Jd(d===this.Uv);this.Vv.push(f);b.Ga(f)},a)};
var IG=function(a){var b=new z.V(!0);a.v().Ba(b,"success",function(){z.R(this.h,!this.ii);this.ii?this.$u="set_delete":(uG(this),this.$u="cancel_delete");this.dispatchEvent("change");(0,window.$)(this.h).parent(".zm-item").hide()});b.ajax("/answer/"+(a.ii?"remove":"unremove"),"aid\x3d"+a.pa)};var JG=function(a){a.ii=!1;a.status=0;IG(a)};var KG=function(a,b,c){nG.call(this,a,b,c)};
var LG=function(){z.S.call(this);this.data=z.As||{};this.oa=this.data.oa;this.Co=!1;this.Pi={};this.sv=[];this.Bq=[];this.pi=0;this.Tj=z.Bs&&z.Bs.url_token?z.Bs:null};var MG=function(a){z.Y.bh&&window.$.post("/question/popup",{action:"no_answer",question_token:a.data.gb},function(a){a&&MF(new LF,a)})};var NG=function(a){(0,window.$)(".js-ignore-invite").click(function(){(0,window.$)(".question-invited-by").hide();window.$.post("/question/askpeople",{qid:a.data.gb,uid:z.Y.Ne,op:"pass"})})};
var OG=function(a){PG(a);QG(a);RG(a,null);SG(a);a.v().g(z.sj,"anon_change",function(a){this.data.ob=a.ob})};var TG=function(a){"close"!==z.As.status&&(a.Qa=new z.Fn(a.data.Nm,a.data.oa),a.Qa.bt=5,a.Qa.ft=1,a.Qa.lC=!0,a.Qa.mt=!0,a.Qa.w(z.N("zm-tag-editor",a.h)),a.v().g(a.Qa,["remove_tag","add_tag"],function(){z.X.ya("ga_edit_question_topic_changed")}),a.v().g(a.Qa,"start_editing",function(){z.X.ya("ga_question_topic_edit_finish_changed")}),a.Qa.addEventListener("beforeedit",tC({mm:!0})))};
var UG=function(a){"close"===z.As.status&&(0,window.$)('.question-status [name\x3d"appeal"]').click(window.$.proxy(function(){var a=this.oa,b=new z.Ai;z.pi(b,!0);b.xe=!0;z.ui(b,z.ji());b.kb("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");b.ha('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');b.F(!0);b.ba();b.v().g(b,z.Xl,function(){window.$.post("/question/appeal",
{qid:a,reason:(0,window.$)('[name\x3d"reason"]',b.h).val()},function(){z.Gi({title:"\u7533\u8bc9\u63d0\u4ea4",oi:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",ba:!0,buttons:["\u77e5\u9053\u5566"]})})})},a));var b=z.M("zh-question-title");
"false"!==b.getAttribute("data-editable")&&(a.ad=new AF(a.data.oa,"/question/title","content",!1,!0),a.ad.QD=!0,a.ad.Zd=!0,a.ad.kp=!0,BF(a.ad,jw(a.data.bh)),a.ad.w(b),a.v().g(a.ad,"change",function(){z.sj.dispatchEvent("question_title_change");window.document.title=this.ad.fb()+" - \u77e5\u4e4e"}),a.v().g(a.ad,"click_edit",function(){z.X.ya("ga_question_title_edit_start")}),a.v().g(a.ad,"cancel_edit",function(){z.X.ya("ga_question_title_edit_cancel")}),a.v().g(a.ad,"save_changed",function(){z.X.ya("ga_question_title_edit_save_changed")}),
a.v().g(a.ad,"save_unchanged",function(){z.X.ya("ga_question_title_edit_save_unchanged")}),a.ad.addEventListener("beforeedit",tC({mm:!0})))};var VG=function(a,b){z.Y.wa()&&b?(WG(a,"zh-question-detail",a.TO),WG(a,"zh-question-answer-summary",a.WO)):(WG(a,"zh-question-detail",z.m),WG(a,"zh-question-answer-summary",z.m))};var WG=function(a,b,c){if(b=z.M(b)){var d=new eA;a.v().g(d,"expand",c).g(d,"invalid",c);d.w(b)}};
var SG=function(a){a.data.ar=+a.FL.innerHTML;z.Y.wa()||(a.data.ar=0);z.R(a.Nh,0<a.data.ar);a.Cq&&z.lf(a.Cq,a.data.se?a.data.se+" \u4e2a\u56de\u7b54":"\u8fd8\u6ca1\u6709\u56de\u7b54");a.Jm&&z.R(a.Jm,1<a.data.se);z.R(a.Nh,0<a.data.ar)};
var XG=function(a){var b=z.M("zh-question-answer-wrap");if(b){var c=new Nw({use:["expandLimit","nodeSource"],oh:a.data.se>a.data.YR&&!z.N("question-page-pager")});a.L(c);a.v().g(c,"itemcreated",function(a){c.L(YG(this,a.item));(0,window.$)("img.lazy",a.item).lazyload({data_attribute:"actualsrc",threshold:400})});c.w(b)}};
var YG=function(a,b,c,d){d=new KG(a.oa,null,d);d.w(b);a.Pi[d.pa]=d;a.Bq.push(d.pa);a.v().g(d,"change",a.lz);d.Oe&&(a.pi=d.pa,d.QK=z.Y,a.v().g(d.re,"change",a.XN),a.tg=d);d.Gj?d.Oe&&a.un.appendChild(d.m()):a.sv.push({added_time:d.aw,vote:c,aid:d.pa});d.ii&&z.R(d.m(),!1);return d};
var QG=function(a){var b=null,c=null,d,f={suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"};z.ys.Od||"normal"===z.As.status||(c="\u88ab"+f[z.As.status]+'\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\u3002\x3ca data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e');a.pi?
(d=a.Pi[a.pi],b="#answer-"+d.pa,d=d.ii):a.Tj&&(b="/question/"+z.As.gb+"/answer/"+a.Tj.url_token,d=a.Tj.is_delete);b&&(c=d?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':'\u4e00\u4e2a\u95ee\u9898\u4f60\u53ea\u80fd\u56de\u7b54\u4e00\u6b21\uff0c\u4f46\u4f60\u53ef\u4ee5\u5bf9 \x3ca href\x3d"'+b+'"\x3e\u73b0\u6709\u7684\u56de\u7b54\x3c/a\x3e \u8fdb\u884c\u4fee\u6539');
!z.Y.bh||a.pi||a.Tj||(c='\u6dfb\u52a0\u56de\u7b54\uff1a\x3ca href\x3d"javascript:;" name\x3d"answer_my_question"\x3e\u56de\u7b54\u81ea\u5df1\u7684\u63d0\u95ee\x3c/a\x3e');a.data.vy&&(c='\u8be5\u95ee\u9898\u76ee\u524d\u5df2\u7ecf\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u6dfb\u52a0\u65b0\u7b54\u6848\u3002\x3ca href\x3d"/question/19604313" target\x3d"_blank"\x3e\u95ee\u9898\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u9501\u5b9a\uff1f\x3c/a\x3e');c&&a.wb.Ya(!1,c)};
var ZG=function(a){a.Cq=z.M("zh-question-answer-num");a.Dq=z.M("zh-question-answer-wrap");a.Nh=z.M("zh-question-collapsed-link");a.un=z.M("zh-question-collapsed-wrap");a.FL=z.M("zh-question-collapsed-num");a.HK=z.M("zh-question-answer-form-wrap");a.sk=z.M("zh-question-notification-summary");a.Jm=z.M("zh-answers-filter");a.Ft=z.M("zh-add-question-sug");a.Cq&&(a.data.se=+a.Cq.getAttribute("data-num"));a.Dq&&(a.data.YR=+a.Dq.getAttribute("data-pagesize"));a.Nh&&a.v().g(a.Nh,"click",a.aU);a.Ft&&a.v().g(a.Ft,
"click",a.WE);a.Jm&&z.ws&&a.v().g(a.Jm,"click",function(a){a.stopPropagation();z.T.add(this.Jm,"activated");this.v().Ba(window.document,"click",function(){z.T.remove(this.Jm,"activated")})})};var $G=function(a,b){var c=z.M("zh-question-collapsed-switcher");b?(c.name="collap",a.kD=!0,z.R(a.un,!0),z.T.add(a.Nh,"zu-question-collap-title-active")):(a.kD=!1,c.name="expand",z.R(a.un,!1),z.T.remove(a.Nh,"zu-question-collap-title-active"))};
var aH=function(a){a.HL=!0;var b=a.un,c=window.$.get("/node/QuestionCollapsedAnswerListV2",{params:{question_id:a.data.oa}});c.done(function(c){c=z.Ne(c);$G(a,!0);z.T.remove(b,"zm-question-collapsed-list-loading");b.appendChild(c);z.y.forEach(z.Ze(b),function(b){b!==d&&YG(a,b,99999)});(0,window.$)("img.lazy",b).lazyload({data_attribute:"actualsrc",threshold:400})});var d=z.Ze(b)[0];d&&(z.R(d,!1),c.done(function(){z.R(d,!0)}));z.R(b,!0);z.T.add(b,"zm-question-collapsed-list-loading")};
var PG=function(a){var b=z.Y[4];z.Cs&&z.Cs.length&&(b=z.Cs[0][1]);a.wb=new uF(a.data.ob,z.Y,b);a.L(a.wb);a.wb.w(a.HK);z.ys.Od&&z.ys.Od.length?a.wb.ha(z.ys.Od[0]):!z.Zr.Ob&&z.B&&a.wb.ha("\x3cp\x3e\x3c/p\x3e");if(!(a.data.vy||a.pi||a.Tj&&a.Tj.url_token))if(a.data.bn&&a.data.bn.length&&a.data.bn[3]!==z.Y.Ne)a.wb.Ya(!1,"\u53ea\u6709 "+fw(a.data.bn)+" \u80fd\u56de\u7b54\u6b64\u95ee\u9898");else if("normal"===z.As.status||z.ys.Od)z.Y.bh||a.wb.zf();a.v().g(a.wb,"change",a.zQ);a.v().g(a.wb,"cancel_delete_answer",
a.HQ);a.wb.ready(function(){var a=this.jx();a&&"writing"===window.location.hash.slice(1)&&a.execCommand("toggleFullScreen")})};var RG=function(a,b){if(b=b||window.location.hash.slice(1)){var c=b.split("-"),d=c[1];"answer"===c[0]&&(c=a.DE(d))&&(c.Gj&&!a.kD?bH(a,a.Nh):(bH(a,c.m()),cH(c)))}};var bH=function(a,b){if(b){var c=z.Dh(window.document.body).top,d=a.BO?z.rh(a.sk).height:0,c={paddingTop:c+d};"number"===window.$.type(c)&&(c={offsetTop:c});c.xJ=Lv;Kv(b,c);z.Vm(b);a.ij&&a.ij.$p()}};
var dH=function(){LG.call(this);this.data=z.As;this.oa=this.data.oa};var eH=function(a){var b=(0,window.$)(".awesome-answer-list").get(0);if(b){var c=new Nw({use:["expandLimit"],oh:!1});a.L(c);a.v().g(c,"itemcreated",function(a){var b=new Qz;b.w(a.item);c.L(b)});c.w(b)}};
var fH=function(a,b){var c=(0,window.$)("#js-sidebar-author-info");if(!(0,window.$)("a[name\x3dfocus]",c).length){var d={0:"fullname",1:"url_token",2:"avatar_path",3:"hash",4:"headline"},f=z.y.reduce(z.Y,function(a,b,c){a[d[c]]=b;return a},{}),f=(0,z.Fp)(a.RK,{author:!b&&f});c.html(f)}};var gH=function(){var a=(0,window.$)("#zh-question-answer-collestions");a.length&&(0,window.$)("a[name\x3dfocus]",a).click(function(){(0,z.cu)(this,"favlist")})};
var hH=function(a){a.Ib?a.Ib.ii?(a.vr.innerHTML=a.Ib.Oe?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':"\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664",z.R(a.Ib.m(),!1)):z.R(a.Ib.m(),!0):a.vr.innerHTML="\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664"};
var iH=function(){z.S.call(this);this.page=1};var jH=function(a,b){z.lf(a,b?"\u52a0\u8f7d\u4e2d...":"\u66f4\u591a")};var kH=function(a,b){window.$.each(b,function(b,d){var f=new lH;a.L(f);f.w((0,window.$)(d)[0]);a.IB.append(f.m());a.v().g(f,"unfollow",function(){mH(a)})})};
var nH=function(a){function b(a){g.hasClass("disabled")||(h.random(a)||(g.addClass("disabled"),(0,window.$)(".hidden-topics-plaza").show(),z.W("topic","show_hidden_enter_topics_square","topic_feed_recommend")),d.html(Iz(h,h.Rd,h.Zg)))}var c=(0,window.$)(a.m()),d=(0,window.$)(".js-list",c),f=(0,window.$)(".js-hidden-list",c),g=(0,window.$)(".js-pager",c),f=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html(f.html()).children().add(d.children())),h=new Gz(f,3);g.on("click",function(){b(d.find(".zg-btn-follow").length)});
d.on("click","[data-follow]",function(c){var f=(0,window.$)(c.target),p=f.data("id"),x=(0,window.$)(".new-follow-topics span"),F=x.data("ids");if(f.hasClass("zg-btn-follow"))c=(0,window.$)(c.target).closest(".topic-item"),h.remove(c[0]),x.length?(F.push(p),x.data("ids",F),x.text(F.length)):(0,window.$)('\x3ca href\x3d"#" class\x3d"new-follow-topics"\x3e\u65b0\u5173\u6ce8 \x3cspan data-ids\x3d"['+p+']"\x3e1\x3c/span\x3e \u4e2a\u8bdd\u9898\uff0c\u70b9\u51fb\u67e5\u770b\x3c/a\x3e').insertBefore((0,window.$)(".topic-recommend")),
1===(0,window.$)(".zg-btn-follow",d).length&&(g.hasClass("disabled")?(0,window.$)(".topic-recommend").fadeOut():(0,window.setTimeout)(function(){b(0)})),oH(a);else if(f.hasClass("zg-btn-unfollow")){var J=(0,window.$)(".js-topic-item[data-id\x3d"+p+"]");J.length?J.fadeOut(function(){J.remove();mH(a)}):F&&(1<F.length?(F.splice(F.indexOf(p),1),x.data("ids",F),x.text(F.length)):x.parent().remove(),mH(a))}});c.on("click",".new-follow-topics",function(b){b.preventDefault();var c=(0,window.$)(b.target);
window.$.get("/topic/newest-feeds",{ids:JSON.stringify((0,window.$)("span",c).data("ids"))},function(b){b&&!b.r&&(kH(a,b.msg),c.remove())})}).on("click",".js-nomore-recommend",function(){window.$.post("/topic/suggest-topics/close",function(a){a&&!a.r&&(0,window.$)(".topic-recommend").fadeOut()})})};var oH=function(a){var b=(0,window.parseInt)(a.Ou.text());pH(a,b+1)};var mH=function(a){var b=(0,window.parseInt)(a.Ou.text());pH(a,b-1)};
var pH=function(a,b){a.Ou.text(b);(0,window.$)(".no-topics").toggle(0===b)};var lH=function(){z.S.call(this)};var qH=function(){z.S.call(this)};var rH=function(a){a.Nf&&a.Nf.H();var b=new Fv;b.Ar=(0,z.Ya)("pin-topic-moving").split(" ");Gv(b,a.h,0);b.init();a.v().g(b,"dragend",(0,z.r)(a.mu,a));a.Nf=b;(0,window.$)("a",a.h).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})})};var sH=function(a,b){return(0,window.$)(a.h).find("[data-topicid\x3d"+b+"]")};
var tH=function(a,b){return window.$.post("/pin-topic/add",{tid:b},window.$.proxy(function(a){!a.r&&a.msg?((0,window.$)(this.h).append((0,window.$)(this.RS({topic:a.msg})).hide().fadeIn()),rH(this)):z.U(a.msg,2E3)},a))};var uH=function(a,b,c){var d=sH(a,b);d.fadeOut(function(){d.remove();a.mu().done(function(a){c&&c(a)});a.dispatchEvent({type:"change",YI:d.attr("data-topicid")});0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})};
var vH=function(){z.S.call(this);this.kE="even";this.Cn="current"};var wH=function(a,b){return a.Nu.filter(function(){return(0,window.$)(this).text()===b})};var xH=function(a,b){return a.Nu.filter(function(){return(0,window.$)(this).attr("data-id")===String(b)})};var yH=function(){z.S.call(this)};var zH=function(a){z.hn.set("SettingsAccountPage:pageAlert",a);window.location.reload()};
var AH=function(a){return window.$.extend(!0,{},{messages:{digits:{required:"\u8bf7\u586b\u5199\u6570\u5b57\u9a8c\u8bc1\u7801"},password:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},password_repeat:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},email:{required:"\u8bf7\u586b\u5199\u90ae\u7bb1"},phone_no:{required:"\u8bf7\u586b\u5199\u624b\u673a\u53f7"}},ignore:"input.text:hidden"},a)};
var BH=function(){function a(a,b){return!!z.y.find(a,function(a){return a.challenge_type===b})}function b(a){var b={value:a.challenge_type};switch(b.value){case "password":b.label="\u4f7f\u7528\u77e5\u4e4e\u5bc6\u7801\u9a8c\u8bc1";break;case "phone_digits":b.label=z.xa("\u4f7f\u7528\u624b\u673a %s \u9a8c\u8bc1",a.hint);break;case "email_digits":b.label=z.xa("\u4f7f\u7528\u90ae\u7bb1 %s \u9a8c\u8bc1",a.hint)}return b}var c=window.$.Deferred();if(z.bk.get("unlock_ticket"))return c.resolve().promise();
var d=tw({title:"\u9a8c\u8bc1\u8eab\u4efd",oi:!0,FI:"\u6b63\u5728\u8fdb\u884c\u5b89\u5168\u9a8c\u8bc1\uff0c\u8bf7\u7a0d\u7b49",className:"settings-account-unlock-dialog",onload:function(a,b){function d(a){var b=(0,window.$)(".panel",l),c=a?b.filter(function(){return(0,window.$)(this).data("match")===a}):b.first();b.not(c.show()).hide()}var l=(0,window.$)("form",a),n=(0,window.$)(".submit",l),p=(0,window.$)(".error-label-container",l),x=(0,window.$)(".hint-label-container",l),F=(0,window.$)("select",
l).change(function(){d(this.value);p.text("");x.text("")});(0,window.$)(".js-send-digits",l).each(function(){var a=(0,window.$)(this),c=a.closest(".panel");(0,window.$)("input",c);var d=c.data("match"),a=(0,z.jk)(a,"email_digits"===d?10:60,CH,function(){x.text("");DH.tT(d).then(function(){x.text("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684"+("email_digits"===d?"\u90ae\u7bb1":"\u624b\u673a"))})});z.gc(b,a)});var J=l.validate(AH({errorLabelContainer:p,submitHandler:z.ck(n,function(){var a=
"password"===F.val();return(a?DH.yU:DH.xU)((0,window.$)(":input:visible",l).serialize()).then(function(d){if(d.success)b.F(!1),c.resolve();else if(d=d.payload,d.fields)J.showErrors(d.fields);else if(d.message){var f={};f[a?"password":"digits"]=d.message;J.showErrors(f)}})})}));F.change();(0,window.$)("input.text:visible",l).focus()},Xv:DH.US().then(function(f){if(f.success)return(0,window.setTimeout)(function(){d.F(!1);c.resolve()},3E3),'\x3cp class\x3d"z-text-muted"\x3e\u9a8c\u8bc1\u6210\u529f\x3c/p\x3e';
var g=f.payload;return DH.VS().then(function(c){return(0,z.Fp)(c,{canUsePanel:z.pa(a,g),each:z.y.forEach,options:z.y.map(g,b)})})})});return c.promise()};
var EH=function(a,b){function c(a){return!a.success&&a.payload}function d(){O.addClass("expanded");a.trigger("expanded")}function f(b){O.removeClass("expanded");b&&O.find(".group-text .text").text(b);a.removeClass("form-expanded");a.trigger("collapsed");a.find(":input:not(:submit)").each(function(){this.value=this.defaultValue});K.text(K.data("defaultText"));J.text("")}function g(){return window.$.Deferred(function(b){da&&!a.hasClass("form-expanded")&&a.valid()?(a.addClass("form-expanded"),F.click(),
K.data("defaultText",K.text()).text("\u786e\u5b9a"),b.reject()):b.resolve()}).promise()}function h(){return p.submit(a.serialize())}function l(a){a.fields?Na.showErrors(a.fields):a.message&&z.U(a.message)}function n(a){var b=a.payload;a.success?(b&&f(b[x.attr("name")]),p.rt()):l(b)}var p=window.$.extend({wD:10,pA:window.$.noop,qA:"",submit:window.$.noop,rt:window.$.noop,OU:{email:{promise:[DH.MU,200,c]},phone_no:{promise:[DH.NU,200,c]}}},b),x=(0,window.$)("input.text:first",a),F=(0,window.$)(".js-send-digits",
a),J=(0,window.$)(".hint-label-container",a),K=(0,window.$)(":submit",a),O=a.closest(".form-container"),da=!!F.length,Na;(function(){(0,window.$)(".js-expand:not(.disabled)",O).click(function(){BH().then(d);return!1});da&&(0,z.jk)(F,p.wD,CH,function(){if(!x.valid())return!1;J.text("");p.pA(x.val()).then(function(a){a.success?J.text(p.qA):l(a.payload)})});Na=a.validate(AH({rules:p.OU,errorPlacement:function(a,b){b.is(":visible")&&a.appendTo(b.parent())},submitHandler:z.ck(K,function(){return BH().then(g).then(h).then(n)})}))})()};
var CH=function(a){return a?"%s \u79d2\u540e\u5373\u53ef\u91cd\u53d1":"\u91cd\u53d1\u9a8c\u8bc1\u7801"};
var FH=function(a){a=(0,window.$)(".email-form",a.h);if(a.length){EH(a,{qA:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u90ae\u7bb1",pA:DH.qT,submit:DH.DU,rt:z.pa(zH,"\u90ae\u7bb1\u7ed1\u5b9a\u6210\u529f")});a.on("expanded",function(){(0,window.$)(".email-activation-notice").remove()});a=function(){window.$.post("/reactive").done(function(a){a.r?z.Qr(a.msg,"error"):z.Qr("\u9a8c\u8bc1\u90ae\u4ef6\u91cd\u53d1\u6210\u529f")})};var b=(0,window.$)(".resend-activation-email");if(b.length){var c=
b.text();(0,z.jk)(b,10,function(a){return a?c+"\uff08%s\uff09":c},a)}}};
var GH=function(a){var b=(0,window.$)(".sns-accounts-container",a.h);if(b.length){var c=function(a,c){var f=(0,window.$)(z.xa("a[data-type\x3d%s]",a),b);c?zH(window.$.trim(z.xa("%s\u7ed1\u5b9a\u6210\u529f",d(a)))):f.text(window.$.trim(z.xa("\u7ed1\u5b9a%s",d(a)))).removeClass("js-unbind").addClass("js-bind").prev(".name").remove()},d=function(a){return{qqconn:" QQ ",wechat:"\u5fae\u4fe1",sina:"\u5fae\u535a"}[a]};b.on("click","a.js-bind",function(){var a=this.href;BH().then(function(){window.open(a)});
return!1});b.on("click","a.js-unbind",function(){var a=(0,window.$)(this).data("type"),b=d(a);z.Gi({oi:!0,title:"\u89e3\u7ed1\u793e\u4ea4\u5e10\u53f7",content:z.xa("\u89e3\u7ed1%s\u540e\u4f60\u5c06\u65e0\u6cd5\u4f7f\u7528%s\u767b\u5f55\u77e5\u4e4e\uff0c\u4f60\u786e\u5b9a\u8981\u89e3\u7ed1\u5417\uff1f",b,b),buttons:["\u53d6\u6d88","\u89e3\u7ed1"]},function(d){d&&(0,window.setTimeout)(function(){BH().then(z.pa(DH.vU,a)).then(z.pa(z.Qr,z.xa("\u89e3\u7ed1%s\u6210\u529f",b)),z.U).then(z.pa(c,a,!1))})});
return!1});var f=function(a){return function(b){"error"===a?(0,window.setTimeout)(function(){z.Qr(b.vf.message,"error")},3E3):c(a,!0)}};a.v().g(z.X,"sina_callback",f("sina")).g(z.X,"qqconn_callback",f("qqconn")).g(z.X,"wechat_callback",f("wechat")).g(z.X,"oauth_error_callback",f("error"))}};var HH=function(){z.S.call(this)};var IH=function(){z.S.call(this)};
var JH=function(a,b){var c=z.M(b);if(c){var d=new Nw;a.L(d);d.use("locationSource",{wt:!0});d.w(c);(0,window.$)(c).on("click",'a[name\x3d"revert"]',function(){if(!1===tC({mm:!0})())return!1;DB(this);return!1}).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new px("activity",(0,window.$)(this).data("id"))).submit();return!1})}};var KH=function(){z.S.call(this)};
var LH=function(a,b){var c;if(a&&b){c=c||"text-highlight";var d=new RegExp(b,"i");(0,window.$)(a).find("*").andSelf().contents().each(function(){if(3===this.nodeType){var a=this,g=a.parentNode;if(!z.T.has(g,c))for(var h,l;-1!==(h=a.data.search(d));)h=0<h?a.splitText(h):a,a=h.splitText(b.length),l=window.document.createElement("em"),l.className=c,l.appendChild(h.cloneNode()),g.replaceChild(l,h)}})}};var MH=function(){Iw.call(this,{use:["autoload","dataPagingSource"]})};
var NH=function(){z.S.call(this);this.Xg="roundtable";this.pp=z.kj.roundtable};var OH=function(a){var b=new eA({Wv:"content",RI:"script.content"});a.L(b);b.w(a.m());a.v().g(a,["expand","collapse"],function(a){a.target===this&&b.Sa("expand"===a.type,!0)}).g(b,["expand","collapse"],function(a){this.Sa("expand"===a.type)})};
var PH=function(){var a=(0,window.$)(".roundtable-profile"),b=(0,window.$)(".share",a),c=b.data("token");if(b.length){var d=window.location.protocol+"//"+window.location.host+"/roundtable/"+c;xz(b.get(0),"roundtable",c,d)}(0,window.$)(".follow",a).click(z.mm(function(){var b=this;(0,z.cu)(b,"roundtable",function(c){(0,window.$)(".label",b).text(c?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8");var d=(0,window.$)(".followers .count",a);c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text(c).data("count",
c))},["button-success","button-cancel"])}))};var QH=function(){z.S.call(this);this.lA=z.kj.searchKeyword};var RH=function(){var a=(0,window.$)("#js-search-question-form");a.length&&a.submit(function(b){b.preventDefault();b=z.Cp.U();b.show();z.Dp(b,(0,window.$)(".title-input",a).val())})};
var SH=function(a){var b=(0,window.encodeURIComponent)(a.lA);(0,window.$)("ul.list[data-paging]").on("click",".item a[href!\x3d#]",function(a){a=a.currentTarget;a.host&&(a=(0,window.$)(a).closest(".item").index()+1,z.bk.set("s-q",b),z.bk.set("s-i",a),z.bk.set("sid",(0,z.ut)()))})};
var TH=function(a){function b(a,b){var f=(0,window.$)(a);window.$.each(b(),function(a,b){f.on("click",a,function(a){d.apply(null,c(b,a))})})}function c(a,b){return f(a,function(a){return z.ia(a)?a(b):a})}var d=z.pa(z.W,"search"),f=z.y.map;b(".related-topics",function(){return{"a.avatar-link":["visit_topic","search_result_card_topic_avatar"],"a.name-link":["visit_topic","search_result_card_topic"],"a[href$\x3dquestions]":["visit_topic_questions","search_result_card_topic"],"a[href$\x3dtop-answers]":["visit_topic_topanswers",
"search_result_card_topic"],"a[href$\x3dfollowers]":["visit_topic_followers","search_result_card_topic"],"button.zg-btn-follow":["click_follow_topic","search_result_card_topic"],"button.zg-btn-unfollow":["click_unfollow_topic","search_result_card_topic"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_topic"]}});b(".related-users",function(){return{"a.avatar-link":["visit_people_profile","search_result_card_people_avatar"],"a.name-link":["visit_people_profile","search_result_card_people"],
"a[href$\x3danswers]":["visit_people_answers","search_result_card_people"],"a[href$\x3dfollowers]":["visit_people_followers","search_result_card_people"],"a[href$\x3dposts]":["visit_people_posts","search_result_card_people"],"button.zg-btn-follow":["click_follow_people","search_result_card_people"],"button.zg-btn-unfollow":["click_unfollow_people","search_result_card_people"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_people"]}});b(window.document.body,function(){var a=
z.pa(z.xa,"search_result_%s_more_button");return{"ul.list.questions + .zu-button-more":["click_search_result_more",a("all")],"ul.list.users + .zu-button-more":["click_search_result_more",a("user")],"ul.list.topics + .zu-button-more":["click_search_result_more",a("topic")]}});b(".search-tabs",function(){var a=z.pa(z.xa,"search_result_tab_%s");return{'a[href^\x3d"/search?type\x3dquestion"]':["click_search_result_tab",a("all")],'a[href^\x3d"/search?type\x3dpeople"]':["click_search_result_tab",a("user")],
'a[href^\x3d"/search?type\x3dtopic"]':["click_search_result_tab",a("topic")]}});b(".range-selector",function(){var a=z.pa(z.xa,"search_result_range_%s");return{'a[href*\x3d"range\x3d1d"]':["click_search_result_range",a("1d")],'a[href*\x3d"range\x3d1w"]':["click_search_result_range",a("1w")],'a[href*\x3d"range\x3d3m"]':["click_search_result_range",a("3m")]}});b("ul.list.questions",function(){function a(){return function(a){return"search_result_all_list_"+((0,window.$)(a.target).closest(".item").index()+
1)+""}}return{"a.question-link":["visit_question",a()],".js-expand, .summary":["click_expand",a()],'a[name\x3d"collapse"]':["click_collapse_answer",a()],"a.zg-follow":["click_follow_question",a()],"a.zg-unfollow":["click_unfollow_question",a()]}});b("ul.list.users",function(){function a(b){return function(a){return"search_result_user_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_people_profile",a("_avatar")],"a.name-link":["visit_people_profile",
a()],"a[href$\x3danswers]":["visit_people_answers",a()],"a[href$\x3dfollowers]":["visit_people_followers",a()],"a[href$\x3dposts]":["visit_people_posts",a()],"button.zg-btn-follow":["click_follow_people",a()],"button.zg-btn-unfollow":["click_unfollow_people",a()]}});b("ul.list.topics",function(){function a(b){return function(a){return"search_result_topic_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_topic",a("_avatar")],"a.name-link":["visit_topic",
a()],"a[href$\x3dquestions]":["visit_topic_questions",a()],"a[href$\x3dfollowers]":["visit_topic_followers",a()],"button.zg-btn-follow":["click_follow_topic",a()],"button.zg-btn-unfollow":["click_unfollow_topic",a()]}});a.v().g(a,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category","search").fill("label","search_result_answer")})};
var UH=function(a,b){z.H.call(this);var c=this.J={};z.A.extend(c,this.defaults,b||{});this.input=a;this.cc=c.cc;this.th=this.cS();this.Hv=[];this.Hv.push({action:"remove",method:this.removeTag,cw:c.GS,V:"\u5220\u9664"});(0,window.setTimeout)((0,z.r)(this.sg,this))};
var VH=function(a,b){var c={od:function(a,b,c){c.innerHTML=f(a.data)}};z.A.extend(c,b||{});var d=new z.Ql(a,c);z.G(d,"show",function(){1<d.Ha.length&&!d.Ha[0].id&&z.Bk(d)});var f=(0,z.Fp)('\x3c% if (data.avatar) { %\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3c% } %\x3e\x3c% if(data.type \x3d\x3d\x3d "search_link" || !data.id){ %\x3e\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e\x3c%\x3ddata.type \x3d\x3d\x3d "search_link"?("\u6dfb\u52a0 "+label+" \u8bdd\u9898"):label%\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"zu-autocomplete-row-name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c% if (data.alias \x26\x26 data.followers) { %\x3e\x3c% if ( data.alias ) { %\x3e\u53c8\u79f0 \x3c%\x3dalias%\x3e\x3c% } %\x3e\x3c% if ( data.alias \x26\x26 data.followers ){ %\x3e\uff0c\x3c% } %\x3e\x3c% if ( data.followers ){ %\x3e\x3c%\x3dfollowers%\x3e \u4eba\u5173\u6ce8\x3c% } %\x3e\x3c% }else{ %\x3e\x26nbsp;\x3c% } %\x3e\x3c/span\x3e');return d};
var WH=function(){this.KB=this.NB=null};
var XH=function(a){function b(){var a=window.$.grep(f.get(0).options,function(a){return a.selected});window.$.map(a,function(a){return a.value})}function c(){g=n.$M();p.val(g.join(","))}var d=(0,window.$)("#rq-settings-ui"),f=(0,window.$)("select.select",d);(0,window.$)(".topics-num",d);(0,window.$)(".actions-num",d);var g=[];a.KB=(0,window.$)("#rq-info-block");d.on("click",".beginedit-button",function(a){a.preventDefault();d.addClass("expanded-view")}).on("click",".exitedit-button",function(a){a.preventDefault();
d.removeClass("expanded-view")}).on("click",".endedit-button",function(a){a.preventDefault();d.get(0).submit()});a=(0,window.$)(".topic-editor",d);var h=(0,window.$)("input.topic-input",a).get(0),l=(0,window.$)("ul.tag-list",a).get(0),n=new UH(h,{Lv:!0,cc:l}),p=(0,window.$)('input[name\x3d"topics"]',a);n.on("change",c);f.on("change",b);c();b();YH(f.get(0))};
var YH=function(a){function b(a,b){var c=z.P("li"),f=z.P("span","item-label",a);c.appendChild(f);var h=new z.Lj("",z.Uj.U());h.Fh("zm-profile-tag-btn zm-profile-tag-btn-del");h.Ya(!0);h.qc("\u79fb\u9664\u52a8\u4f5c");h.Ea(b);h.addEventListener("action",function(){var a=h.W();g(a,!1);z.Q(c);l.Mt(!0);d()});h.ea(c);p.appendChild(c)}function c(){n.F(l.ul()!==f().length)}function d(){z.y.forEach(h,function(a){a.selected||(a=new JD(a.text,a.value),l.Ga(a))});c()}function f(){return z.y.filter(l.Eb(),function(a){return!!(a.O&
8)})}function g(a,b){var c=z.y.find(h,function(b){return b.value===a});c&&(c.selected=b)}z.R(a,!1);var h=a.options,l=new $w;l.on("action",function(a){a=a.target;b(a.Hg(),a.W());g(a.W(),!0);l.removeItem(a);c()});var n=new hx("\u6dfb\u52a0\u52a8\u4f5c",l);n.Fh("menu-button");n.ea(a.parentNode);n.hk=!0;jx(n);var p=z.P("ul","display-list");d();(function(){z.y.forEach(h,function(a){a.selected&&b(a.text,a.value)})})();a.parentNode.insertBefore(p,n.m())};
var $H=function(a){function b(){var b=f.text()||0;0<b&&f.text(b-1);aI(a)}var c=(0,window.$)("#rq3-item-list"),d={fU:function(a){return window.$.post("/watch/thank",{id:a,rq_type:"thank"})},wS:function(a){return window.$.post("/watch/seen",{id:a,rq_type:"seen"})}};c.on("click",".read-button",function(){var a=(0,window.$)(this).closest(".rq-item"),c=a.data("id");d.wS(c);b();a.slideUp(function(){a.remove()})}).on("click",".thank-button",function(a){a.preventDefault();a=(0,window.$)(this);var b=a.closest(".rq-item").data("id");
a.hasClass("thanked")||(d.fU(b),a.addClass("thanked").text("\u5df2\u611f\u8c22"))});GB(c);c=new Ax(c.get(0),window.location.href,!0);c.BH=function(a){return a.getAttribute("data-id")};c.yi("rq-item");c.init();var c=(0,window.$)("#rq3-sidenav-link"),f=(0,window.$)(".zg-num",c);a.NB=f};var aI=function(a){var b=a.KB,c=Number(a.NB.text());(0,window.setTimeout)(function(){b.toggleClass("hidden",!!c)},210)};var bI=function(){z.S.call(this)};var cI=function(){z.S.call(this)};var dI=function(){z.S.call(this)};
var eI=function(){};var fI=function(){z.S.call(this);this.Xg="explore";this.GM="explore_feed"};
var gI=function(a){var b=(0,window.$)("#js-explore-tab");if(b.length){var c=(0,window.$)(".tab-panel",b),d=(0,window.$)(".tab-nav",b),f=null;d.children().click(function(){f=z.Ge(window.document)});b=function(){var b={"daily-hot":0,"monthly-hot":1}[window.location.hash.slice(1)]||0;d.removeClass("active").eq(b).addClass("active");b=c.hide().eq(b).show().children("[data-type]");if(!b.data("inited")){b.data("inited",!0);var h={daily:MC,monthly:OC}[b.data("type")],h=new hI(h);h.use("expandLimit");a.L(h);
h.w(b[0])}f&&window.scrollTo(f.x,f.y)};a.v().g(window,"hashchange",b);b()}};var iI=function(a){var b=(0,window.$)("#zh-recommend-list-full\x3e.zh-general-list")[0];if(b){var c=new Nw;c.use("nodeSource");Jw(c,function(a){var b=iA(a);b&&(c.L(b),b.w(a))});a.L(c);c.w(b)}};var hI=function(a){Iw.call(this,{source:jI(a),use:["autoload"]})};var jI=function(a){return function(){return a((0,window.$)(this.Eb()).last().data("offset")).then(function(a){return{results:a}})}};var kI=function(){z.S.call(this)};
var lI=function(){var a=0;return function(){return window.$.get("",{start:a+20,limit:20}).then(function(b){if(!b.r)return b=b.msg,b.hasmore&&(a+=20),{results:b.htmls,next:Boolean(b.hasmore)}})}};var mI=function(a){this.Vt=a;a.activityUrl="";nI(this)};
var nI=function(a){function b(a,b){var c;c=c||"slug";return{source:a,filter:function(a){return a.filter(function(a){return b.every(function(b){return b[c]!==a[c]})})},select:function(a){b.push(a);return""}}}a=a.Vt;var c=a.roundtable;a.topicsSuggestOpitons=b("/r/ac/topics",c.topics);a.organizationsSuggestOpitons=b("/r/ac/topics",c.organizations);a.presentersSuggestOpitons=b("/r/ac/users",c.presenters);a.guestsSuggestOpitons=b("/r/ac/users",c.guests)};
var oI=function(a,b){var c={Gd:5,className:"ui-suggest",ih:"row",mE:200};z.A.extend(c,b||{});var d=c.ea;d&&(c.od=z.m,c.ea=function(a,b){!1!==d.apply(this,arguments)&&(a.gg=z.Ce(a.ih,b))});z.Ql.call(this,a,c);var f=this.N;f.className=c.className;f.ih=c.ih;f.Mo=c.mE};
var pI=function(a,b){return function(c,d,f){(0,window.$)(d).datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"});b(function(){(0,window.$)(d).datetimepicker("update",new Date(a(f.ngModel)(c)))})}};
var qI=function(){return{scope:{id:"@id",avatar:"\x3davatar"},link:function(a,b){var c=new ZA(4,a.id,"xl");c.w(b);c.addEventListener("success",function(){a.$apply(function(){var b=c.getData(),f=a.avatar,g=b.url.split(".").slice(-1)[0];f.id=b.id;f.url=b.url;f.template=f.template.replace(/.\w+$/,"."+g)})})}}};
var rI=function(a){return{scope:{options:"\x3dsuggestOptions"},link:function(b,c,d){var f,g;d={eT:'\x3cdiv class\x3d"row"\x3e\x3cimg class\x3d"avatar" src\x3d"[[avatar | avatarUrl]]"\x3e\x3cspan class\x3d"name"\x3e[[name]]\x3c/span\x3e\x3c/div\x3e',mE:100,source:d.source,eh:c.parent()[0],ea:function(a,b,c){b.innerHTML=c.map(function(a){return g(a.data)}).join("")}};g=a(d.eT);window.angular.extend(d,b.options);d.select&&(d.select=function(a){return function(c){return b.$apply(function(){return a(c)})}}(d.select));
f=new oI(c[0],d);return b.$on("destroy",function(){return f.H()})}}};var sI=function(){return function(a,b){return"string"===typeof a?a:a.template.replace("{id}",a.id).replace("{size}",b||"xs")}};var tI=function(a){a.startSymbol("[[").endSymbol("]]")};var uI=function(){NH.call(this);this.pp=z.kj.roundtable};
var vI=function(a){var b=a.pp;(0,window.$)(".feeds.pending-questions").on("click",".add",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"approve_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")})}).on("click",".remove",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,
{action:"ignore_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var wI=function(a){var b=a.pp;(0,window.$)(".feeds.pending-activities").on("click",".remove",function(){var a=(0,window.$)(this).data(),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"remove_pending_activity",type:a.type,url_token:a.token}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};var xI=function(){z.S.call(this)};var yI=function(){z.S.call(this)};
var zI=function(a){a.Pu&&a.Pu.hide();a.Pu=(0,window.$)(a.QB[a.nr]).show();(0,window.$)(".question-progress").html(a.nr+1+"/"+a.Uz);a.nr++};
var AI=function(a,b){a.AB.hide();a.Jp.show();b?((0,window.$)(".success-view-back-btn",a.Jp).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Jp).css("display","inline-block")):((0,window.$)(".success-view-back-btn",a.Jp).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Jp).hide());a.Gp===a.BE&&(0,window.$)(".success-describe",a.K).html("\u4f60\u7684\u53cb\u5584\u5ea6\u5df2\u7ecf\u662f\u6700\u9ad8\u503c");var c=(0,window.$)(".blue-stars",a.K).css("width","0"),d=a.Gp;(0,window.setTimeout)(function(){c.animate({width:20*
d+"%"},1E3)},200)};var BI=function(a,b,c){var d=(0,window.$)(".failed-view-wrong-answers",a.hl);a.AB.hide();a.hl.show();c?((0,window.$)(".failed-view-back-btn",a.hl).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.hl).css("display","inline-block")):((0,window.$)(".failed-view-back-btn",a.hl).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.hl).hide());d.html("");a.QB.each(function(){var a=(0,window.$)(this),c=a.data("id");z.y.contains(b,c)&&a.appendTo(d).show()})};z.v(Ou,z.sc);
z.tp.prototype.jx=z.Z(57,function(){return this.La});z.gp.prototype.Pe=z.Z(56,function(a){this.da.cu(a)});z.bo.prototype.mc=z.Z(46,function(){return this.P.toString()});z.ho.prototype.mc=z.Z(45,function(){return this.P.text});z.vo.prototype.mc=z.Z(44,function(){return z.zo(this).mc()});z.Bo.prototype.mc=z.Z(43,function(){return""});z.Ho.prototype.mc=z.Z(42,function(){return z.y.map(z.Tn(this),function(a){return a.mc()}).join("")});z.Kq.prototype.mc=z.Z(41,function(){return z.sf(this.m())});
z.ao.prototype.sl=z.Z(36,function(){var a=this.P.getClientRects();return a.length?(a=z.y.Wc(a),new z.te(a.right,a.bottom)):null});z.vo.prototype.sl=z.Z(35,function(){return this.pf()?z.zo(this).zl():z.zo(this).sl()});z.ao.prototype.zl=z.Z(34,function(){var a=this.P.getClientRects();return a.length?new z.te(a[0].left,a[0].top):null});z.vo.prototype.zl=z.Z(33,function(){return this.pf()?z.zo(this).sl():z.zo(this).zl()});z.Rn.prototype.Nb=z.Z(19,function(){var a=this.xc();return 1==a.nodeType?a:a.parentNode});
z.rn.prototype.hx=z.Z(16,function(){return z.wt});z.Ej.prototype.ym=z.Z(15,function(a){this.ha(a)});z.ii.prototype.yp=z.Z(12,function(a){this.bp=a});z.Ej.prototype.yp=z.Z(11,function(a){this.bp=a});z.bi.prototype.wy=z.Z(10,function(){return this.Ij||150>(0,z.w)()-this.Ey});z.bi.prototype.kk=z.Z(9,function(a){z.ci(this);this.Jk=a});z.Ai.prototype.kk=z.Z(8,function(a){this.Jk=a;this.ua&&z.Ci(this)});z.Ih.prototype.vA=z.Z(7,function(a){this.Rx=Math.pow(a,2)});
z.Ih.prototype.Pf=z.Z(6,function(a){this.Hi=a});z.ml.prototype.Pf=z.Z(5,function(a){this.Hi=a});z.Zf.prototype.vq=z.Z(4,function(a,b,c){var d=(0,z.w)(),f=c?c:d,g=Pu(this.Fr);g.Hr=2;g.Gr=f;g.type=b;g.lD=a;a=(a=this.yW)&&a.isTracing()?a.totalVarAlloc:-1;g.ZI=a;this.Tv++;if(c){c=this.Rf.length;for(a=0;a<c;a++)if(this.Rf[a].Gr>f){z.y.vo(this.Rf,g,a);break}a==c&&this.Rf.push(g)}else this.Rf.push(g);if(f=g.type)g=this.pk.get(f),g||(g=Pu(this.RA),g.type=f,this.pk.set(f,g)),g.count++;this.wu+=(0,z.w)()-d});
z.xe.prototype.$v=z.Z(3,function(a,b,c){var d=this.Ja;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var l=d.createElement("TR"),n=0;n<b;n++){var p=d.createElement("TD");c&&z.lf(p,"\u00a0");l.appendChild(p)}g.appendChild(l)}return f});z.jd.prototype.rl=z.Z(2,function(){return this.RD});z.v(z.Yu,z.S);z.e=z.Yu.prototype;z.e.By=null;z.e.vb=null;z.e.N=null;z.e.Gb=null;z.e.rb=!0;z.e.kc=!0;z.e.Xw=!0;z.e.Ra=-1;z.e.pc=null;z.e.tf=!1;z.e.CK=!1;z.e.NR=!0;
z.e.vg=null;z.e.dc=function(){return this.By||this.N.dc(this)};z.e.Qr=function(){return this.vb||(this.vb=new z.tj(this.dc()))};z.e.B=function(){this.h=this.N.B(this)};z.e.Z=function(){return this.N.Z(this.m())};z.e.bc=function(a){return this.N.bc(a)};z.e.ga=function(a){this.h=this.N.w(this,a);"none"==a.style.display&&(this.rb=!1)};
z.e.D=function(){z.Yu.o.D.call(this);z.$h(this,function(a){a.ua&&Ku(this,a)},this);var a=this.m();this.N.Ge(this);this.F(this.rb,!0);this.v().g(this,"enter",this.Cx).g(this,"highlight",this.Gx).g(this,"unhighlight",this.Ox).g(this,"open",this.aO).g(this,"close",this.zx).g(a,"mousedown",this.de).g(z.ye(a),"mouseup",this.tN).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.mN);this.Pg()&&Lu(this,!0)};z.e.nb=function(){this.Hb(-1);this.pc&&this.pc.Ab(!1);this.tf=!1;z.Yu.o.nb.call(this)};
z.e.C=function(){z.Yu.o.C.call(this);this.vb&&(this.vb.H(),this.vb=null);this.N=this.pc=this.vg=this.By=null};z.e.Cx=function(){return!0};z.e.Gx=function(a){var b=z.Bu(this,a.target);if(-1<b&&b!=this.Ra){var c=z.Ju(this);c&&c.zc(!1);this.Ra=b;c=z.Ju(this);this.tf&&c.setActive(!0);this.NR&&this.pc&&c!=this.pc&&(z.yj(c,64)?c.Ab(!0):this.pc.Ab(!1))}b=this.m();null!=a.target.m()&&z.Bg(b,"activedescendant",a.target.m().id)};z.e.Ox=function(a){a.target==z.Ju(this)&&(this.Ra=-1);this.m().removeAttribute("aria-activedescendant")};
z.e.aO=function(a){(a=a.target)&&a!=this.pc&&a.getParent()==this&&(this.pc&&this.pc.Ab(!1),this.pc=a)};z.e.zx=function(a){a.target==this.pc&&(this.pc=null)};z.e.de=function(a){this.kc&&(this.tf=!0);var b=this.dc();b&&z.of(b)?b.focus():a.preventDefault()};z.e.tN=function(){this.tf=!1};
z.e.mN=function(a){var b;a:{b=a.target;if(this.vg)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.vg){b=this.vg[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.de(a);break;case "mouseup":b.nf(a);break;case "mouseover":b.kd(a);break;case "mouseout":b.Dl(a);break;case "contextmenu":b.ao(a)}};z.e.Cd=function(){};z.e.Uc=function(){this.Hb(-1);this.tf=!1;this.pc&&this.pc.Ab(!1)};
z.e.ec=function(a){return this.isEnabled()&&this.T()&&(0!=z.Yh(this)||this.By)&&this.mf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.mf=function(a){var b=z.Ju(this);if(b&&"function"==typeof b.ec&&b.ec(a)||this.pc&&this.pc!=b&&"function"==typeof this.pc.ec&&this.pc.ec(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Pg())this.dc().blur();else return!1;break;case 36:z.Iu(this);break;case 35:Hu(this);break;case 38:if(this.Gb==z.wt)Fu(this);else return!1;break;case 37:if(this.Gb==z.vt)this.Ed()?Gu(this):Fu(this);else return!1;break;case 40:if(this.Gb==z.wt)Gu(this);else return!1;
break;case 39:if(this.Gb==z.vt)this.Ed()?Fu(this):Gu(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.Yu.o.L.call(this,a,b)};z.e.Ek=function(a,b,c){a.rh|=2;a.rh|=64;!this.Pg()&&this.CK||a.Rb(32,!1);a.wp(!1);var d=a.getParent()==this?z.Bu(this,a):-1;z.Yu.o.Ek.call(this,a,b,c);a.ua&&this.ua&&Ku(this,a);a=d;-1==a&&(a=z.Yh(this));a==this.Ra?this.Ra=Math.min(z.Yh(this)-1,b):a>this.Ra&&b<=this.Ra?this.Ra++:a<this.Ra&&b>this.Ra&&this.Ra--};
z.e.removeChild=function(a,b){if(a=z.q(a)?z.Xh(this,a):a){var c=z.Bu(this,a);-1!=c&&(c==this.Ra?(a.zc(!1),this.Ra=-1):c<this.Ra&&this.Ra--);(c=a.m())&&c.id&&this.vg&&z.A.remove(this.vg,c.id)}a=z.Yu.o.removeChild.call(this,a,b);a.wp(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Gb=a};z.e.T=function(){return this.rb};
z.e.F=function(a,b){if(b||this.rb!=a&&this.dispatchEvent(a?"show":"hide")){this.rb=a;var c=this.m();c&&(z.R(c,a),this.Pg()&&Mu(this.dc(),this.kc&&this.rb),b||this.dispatchEvent(this.rb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.kc};
z.e.Ya=function(a){this.kc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.kc=!0,z.$h(this,function(a){a.BJ?delete a.BJ:a.Ya(!0)})):(z.$h(this,function(a){a.isEnabled()?a.Ya(!1):a.BJ=!0}),this.tf=this.kc=!1),this.Pg()&&Mu(this.dc(),a&&this.rb))};z.e.Pg=function(){return this.Xw};z.e.Re=function(a){a!=this.Xw&&this.ua&&Lu(this,a);this.Xw=a;this.kc&&this.rb&&Mu(this.dc(),a)};z.e.Hb=function(a){(a=z.Zh(this,a))?a.zc(!0):-1<this.Ra&&z.Ju(this).zc(!1)};z.e.zc=function(a){this.Hb(z.Bu(this,a))};
z.e.VC=function(a){return a.T()&&a.isEnabled()&&z.yj(a,2)};z.e.uA=function(a){this.Hb(a)};var gv={};fv.prototype.Nl=!0;fv.prototype.qj=function(){return this.WA};fv.prototype.toString=function(){return"Const{"+this.WA+"}"};z.v(z.iv,z.nd);z.iv.prototype.next=function(){var a=this.UG;if(!a)throw z.I.bb;this.UG=this.$S?a.previousSibling:a.nextSibling;return a};var ov={},qv={},Aw=/^[-,."'%_!# a-zA-Z0-9]+$/;z.v(mv,z.iv);nv.prototype.Nl=!0;nv.prototype.qj=function(){return this.KH};nv.prototype.$x=!0;
nv.prototype.rl=function(){return 1};pv.prototype.Nl=!0;pv.prototype.qj=function(){return this.km};pv.prototype.$x=!0;pv.prototype.rl=function(){return 1};var Qv=/^#(?:[0-9a-f]{3}){1,2}$/i;z.v(sv,z.sc);zv.defaults={paddingTop:0};var Ov=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Rv=/#(.)(.)(.)/,zw=/^[a-zA-Z0-9-]+$/;z.v(Ev,z.Fn);z.e=Ev.prototype;z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))Ev.o.w.call(this,a),this.Me(!0),z.R(this.qE,!1)};
z.e.Ng=function(a){var b;this.xy&&(b="/topic/autocomplete?no_create\x3dtrue");Ev.o.Ng.call(this,a,b);this.X.ld.pE=!1};z.e.tm=function(){return(0,z.r)(function(a,b){return z.y.filter(a,function(a){return 3>=a.length?!1:z.y.every(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"\u5df2\u5728\u73b0\u6709\u5217\u8868\u4e2d',!0):!1:!0})},this)},this)};
z.e.Ye=function(a,b){this.Tg||(this.Tg=!0,this.xhr=new z.V(!0),this.v().Ba(this.xhr,"complete",this.iv),a||(a=-1),this.xy?this.xhr.ajax("/topic/add","tid\x3d"+this.Bf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.Bf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.AE=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.ap=function(a){if(!this.fa||!this.fa.Ub()){var b=new z.V(!0);this.v().g(b,"success",function(){var c=z.fe(b);c.r?z.U(c.msg):(z.In(this),this.Qe(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.xy?b.ajax(this.YH,"cid\x3d"+this.Bf+"\x26pid\x3d"+a):b.ajax(this.YH,"pid\x3d"+this.Bf+"\x26cid\x3d"+a);this.fa=b}};z.v(Fv,z.H);z.e=Fv.prototype;z.e.xF=0;z.e.vA=function(a){this.xF=a};
z.e.init=function(){if(!this.VF){for(var a=0,b=this.Qc.length;a<b;a++)for(var c=z.Ze(this.Qc[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,l=z.ka(h);this.tw[l]=g;this.aE&&(this.S.g(g,"mouseover",this.AN),this.S.g(g,"mouseout",this.zN));this.$D&&(this.S.g(h,"mouseover",this.yN),this.S.g(h,"mouseout",this.xN));this.cl.push(g);this.S.g(h,["mousedown","touchstart"],this.dO)}this.VF=!0}};
z.e.C=function(){this.S.H();for(var a=0,b=this.Qc.length;a<b;a++){var c=this.Qc[a];c.YD=void 0;c.Zi=void 0}this.Qc.length=0;this.cl.length=0;this.tw=null;Iv(this);Fv.o.C.call(this)};
z.e.dO=function(a){var b=z.ka(a.currentTarget);this.Za=this.tw[b];a:{for(var b=this.Za,c=b.cloneNode(!0),d=b.getElementsByTagName("TEXTAREA"),f=c.getElementsByTagName("TEXTAREA"),g=0;g<d.length;g++)f[g].value=d[g].value;switch(b.tagName){case "TR":b=z.P("TABLE",null,z.P("TBODY",null,c));break a;case "TD":case "TH":b=z.P("TABLE",null,z.P("TBODY",null,z.P("TR",null,c)));break a;case "TEXTAREA":c.value=b.value;default:b=c}}this.Fc=b;this.Ar&&z.Kg(this.Fc,this.Ar||[]);this.Fc.style.margin="0";this.Fc.style.position=
"absolute";this.Fc.style.visibility="hidden";z.ye(this.Za).body.appendChild(this.Fc);b=z.jh(this.Za);Av(this.Fc,b);this.Kb=new z.Ih(this.Fc);this.Kb.vA(this.xF);z.G(this.Kb,"start",this.Bx,!1,this);z.G(this.Kb,"end",this.vN,!1,this);z.G(this.Kb,"earlycancel",this.Nv,!1,this);this.Kb.Km(a)};
z.e.Bx=function(a){if(this.dispatchEvent(new sv("beforedragstart",0,a.RC,0,0,null))){this.tt=this.Za.parentNode;this.AD=this.Cz=Bv(this.Za);this.ew=this.tt;this.dw?z.Kg(this.Za,this.dw||[]):this.Za.style.visibility="hidden";var b=z.rh(this.Fc);this.Fc.eN=b.width/2;this.Fc.dN=b.height/2;this.Fc.style.visibility="";this.qB&&(this.Za.style.display="none");Hv(this,this.Za);this.Za.style.display="";z.G(this.Kb,"drag",this.BN,!1,this);this.dispatchEvent(new sv("dragstart",0,a.RC,0,0,this.Kb))}else a.preventDefault(),
this.Nv()};
z.e.BN=function(a){var b=z.jh(this.Fc),b=new z.te(b.x+this.Fc.eN,b.y+this.Fc.dN),c;a:{c=null;if("none"!=this.Za.style.display){c=this.Za.parentNode;var d=z.th(c);if(Jv(b,d))break a}for(var d=0,f=this.Qc.length;d<f;d++){var g=this.Qc[d];if(g!=c&&Jv(b,g.bl)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var l,n,d=!1,f=void 0;switch(c.YD){case 0:h=b.y;l=xv;n=uv;break;case 4:d=!0;case 2:h=b.x;l=wv;n=uv;break;case 5:d=!0;case 3:h=b.x,l=vv,n=tv}for(var g=
null,p,x=z.Ze(c),F=0,J=x.length;F<J;F++){var K=x[F];if(K!=this.Za){var O=l(K.bl);if(d){var da=yv(K,b);z.ba(f)||(f=da);n(h,O)&&(void 0==p||da<f||da==f&&(n(O,p)||O==p))&&(g=K,p=O);da<f&&(f=da)}else n(h,O)&&(void 0==p||n(O,p))&&(g=K,p=O)}}h=null!==g&&yv(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new sv("beforedragmove",0,a,0,0,this.Kb)))return!1;if(c)this.qB?this.Za.parentNode==c&&Bv(this.Za)==h||c.insertBefore(this.Za,h):h&&(this.AD=h),this.Za.style.display="",c.Zi&&z.Jg(c,c.Zi);else for(this.pP||
(this.Za.style.display="none"),h=0,l=this.Qc.length;h<l;h++)n=this.Qc[h],n.Zi&&z.Lg(n,n.Zi);c!=this.ew&&(this.ew=c,Hv(this,this.Za));this.dispatchEvent(new sv("dragmove",0,a,0,0,this.Kb));return!1};z.e.Nv=function(){Iv(this);this.Kb=this.Fc=this.Cz=this.tt=this.ew=this.Za=null;for(var a=0,b=this.Qc.length;a<b;a++)this.Qc[a].bl=null;a=0;for(b=this.cl.length;a<b;a++)this.cl[a].bl=null};
z.e.vN=function(a){if(!this.dispatchEvent(new sv("beforedragend",0,a,0,0,this.Kb)))return!1;this.qB||this.tt.insertBefore(this.Za,this.AD);Iv(this);this.dispatchEvent(new sv("dragend",0,a,0,0,this.Kb));this.Nv();return!0};z.e.AN=function(a){z.Kg(a.currentTarget,this.aE||[])};z.e.zN=function(a){z.Mg(a.currentTarget,this.aE||[])};z.e.yN=function(a){z.Kg(a.currentTarget,this.$D||[])};z.e.xN=function(a){z.Mg(a.currentTarget,this.$D||[])};
var sw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},CI=/[^\d]+$/;z.v(Xv,z.Fn);z.e=Xv.prototype;
z.e.w=function(a){this.h=a;this.ig=z.N("zm-tag-editor-labels",this.h);this.Me(!0);this.ve();this.ic();this.Sf=z.M("zh-expert-topics");this.$m=z.M("zh-active-topics");Yv(this);Zv(this);this.data=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get();this.sm()};
z.e.Ln=function(){this.Rc||(this.Rc=z.P("div","zm-tag-editor-editor",[this.ef=z.P("div","zg-section zm-tag-editor-command-buttons-wrap",[this.qb=z.M("profile-expert-edit-input")])]),this.He&&(this.Dy=new z.vn(this.He),this.Dy.w(this.qb),this.qb.title=this.He),z.Ve(this.Rc,this.ig),this.Ng(this.ef))};
z.e.Ng=function(a){this.X=new z.En("/topic/autocomplete",this.qb,null,null,a,!0);this.X.nh(!0);this.X.Wl=this.Gd;this.X.zp(this.tm());Xu(this.X,[this.He]);this.v().g(this.X,"select",this.Ro);this.v().g(this.X,"suggestionsupdate",this.hv);this.v().g(this.X,"suggestionsupdate",this.ev);this.v().g(this.X,z.Ak,function(){(0,window.$)(this.X.N.h).hide()})};
z.e.ev=function(){if(0===this.X.Ha.length){var a=z.P("div",{className:"zu-autocomplete-empty"},"\u6ca1\u6709\u540d\u5b57\u4e3a "+(0,window.$)(this.qb).val()+" \u7684\u8bdd\u9898");(0,window.$)(this.X.N.h).html(a).show()}};z.e.Ro=function(){var a=this.X.nj().slice(1);a&&3<a.length&&(this.GD=a,this.Ye(a))};
z.e.Ye=function(a){this.data.push(a[1]);var b=(0,window.$)(this.Sf).find("[data-url-token\x3d'"+a[1]+"']")[0];b?z.Vm(b):(Mv("TopicMediumV2",{member_url_token:z.Y[1],topic_url_token:a[1]},this.jr,this),(0,window.$)(this.$m).find("[data-url-token\x3d'"+a[1]+"']").remove(),this.dispatchEvent("add"))};z.e.jr=function(a){a=(0,window.$)(a)[0];z.We(this.Sf,a,0);z.Vm(a);this.Sk()};z.e.Qe=function(){};
z.e.sm=function(){if(!z.Zr.Ob){var a=this;this.Nf&&this.Nf.H();var b=new Fv;b.Ar=(0,z.Ya)("expert-item-moving").split(" ");Gv(b,this.Sf,4);b.init();this.Nf=b;this.v().g(this.Nf,"dragend",function(){this.dispatchEvent("sort")});(0,window.$)("a, input, .del, .add",this.Sf).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})});this.v().g(this.Nf,"beforedragstart",function(){return z.N("editing",this.Sf)?!1:!0})}};
z.e.Sk=function(){var a=(0,window.$)(this.Sf).children().length;6<a&&z.Q((0,window.$)(this.Sf).children()[6]);z.R(z.M("zh-profile-expert-empty"),0>=a);0<a&&z.R(z.M("zh-profile-expert-warning"),!1);a=(0,window.$)(this.$m).children().length;z.R(z.M("active-topics-wrap"),a);this.sm()};z.e.tm=function(){return(0,z.r)(function(a){return z.y.filter(a,function(a){return z.y.every(this.data,function(c){return c+""!==a[2]+""&&3<a.length})},this)},this)};z.v($v,Ev);
$v.prototype.Ye=function(a){this.Tg||(this.Tg=!0,this.xhr=new z.V(!0),this.v().Ba(this.xhr,"complete",this.iv),this.xhr.ajax(this.OC,"tid\x3d"+a+"\x26method\x3dadd"))};$v.prototype.ap=function(a){this.Tg||(this.Tg=!0,this.xhr=new z.V(!0),this.v().g(this.xhr,"complete",function(){z.In(this);this.Qe();this.Tg=!1}),this.xhr.ajax(this.OC,"tid\x3d"+a+"\x26method\x3ddel"))};z.v(aw,z.Fn);z.e=aw.prototype;z.e.w=function(a){this.h=a;this.ig=z.N("zm-tag-editor-labels",this.h);this.Me(!0);this.ve();this.ic()};
z.e.Ln=function(){this.Rc||(this.Rc=z.P("div","zm-tag-editor-editor",[this.Kn=z.P("div","zg-section zg-clear"),this.ef=z.P("div","zg-section zm-tag-editor-command-buttons-wrap",[this.qb=z.M("zh-topic-merge-input"),z.P("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"\u6dfb\u52a0"),this.qE=z.M("zh-topic-merge-btn")])]),z.Ve(this.Rc,this.ig),this.Ng(this.ef))};
z.e.Ng=function(a){this.X=new z.En("/topic/autocomplete",this.qb,null,null,a,!0);this.X.nh(!0);this.X.Wl=this.Gd;this.X.zp(this.tm());this.X.Gw=[this.He];this.v().g(this.X,"select",this.Ro);this.v().g(this.X,"suggestionsupdate",this.hv)};z.e.tm=function(){return(0,z.r)(function(a){return z.y.filter(a,function(a){return z.y.every(this.data,function(c){return c[1]!==a[1]&&3<a.length})},this)},this)};z.e.Ro=function(){var a=this.X.nj().slice(1);a&&3<a.length&&(this.GD=a,this.Ye(a[3],a[0]))};
z.e.Ye=function(a,b){var c=this;(0,window.setTimeout)(function(){c.qb.value=b})};z.e.Qe=function(){};
var Zz={QE:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},BB:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.Ki("\u63d0\u793a\u4fe1\u606f","\x3cp\x3e"+a.msg+'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24752645" target\x3d"_blank"\x3e\u4e3a\u4ec0\u4e48\u56de\u7b54\u4f1a\u88ab\u5efa\u8bae\u4fee\u6539\uff1f\x3c/a\x3e\x3c/p\x3e')})},sA:function(a,b){return window.$.post("/node/AnswerMetaV2",
{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.v(ow,z.pl);ow.prototype.xh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.v(pw,z.pl);pw.prototype.xh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.v(qw,z.pl);qw.prototype.xh=function(){var a=this.Hi&&this.Ed()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.v(Ew,z.H);var Gw={};
Ew.prototype.defaults={};Ew.prototype.v=function(){return this.Jg||(this.Jg=new z.dd(this))};Ew.prototype.init=function(){};Ew.prototype.C=function(){Ew.o.C.call(this);this.view&&(z.A.remove(this.view.Id,this.name),this.view=null);this.Jg&&(this.Jg.H(),this.Jg=null)};z.v(Iw,z.S);z.e=Iw.prototype;z.e.defaults={source:null,use:["autoload","shortcut"],oh:!0,pn:"zg-btn-white zu-button-more"};z.e.use=function(a,b){var c=Hw(a,b);c.view=this;this.ua?c.init(this):this.v().g(this,"initialized",function(){c.init(this)});this.Id[a]=c;return this};z.e.Vi=function(){!this.Pd&&this.J.oh&&(this.Pd=this.Sq(),z.Ve(this.Pd,this.h),this.v().g(this.Pd,"click",this.Ul))};
z.e.D=function(){Iw.o.D.call(this);this.Vi();z.y.forEach(this.Eb(),this.jr,this);z.y.forEach(this.J.use,this.use,this);this.dispatchEvent("initialized")};z.e.C=function(){z.A.forEach(this.Id,function(a){a.H()});this.Id=null;Iw.o.C.call(this)};z.e.Eb=function(){return z.Ze(this.h)};z.e.jr=function(a,b){this.Yj(a,b);this.dispatchEvent({type:"itemcreated",item:a,index:b})};z.e.Yj=z.m;z.e.$Q=function(a){if(a){var b=a.results,c=!b||!b.length;c||this.ea(b);this.dispatchEvent("next");(c||!1===a.next)&&Kw(this)}};
z.e.ea=function(a,b){a=window.$.isArray(a)?a.join(""):a;var c=z.Ne(a+" ");z.y.forEach(window.$.makeArray(z.Ze(c)),this.jr,this);z.We(this.h,c,b)};z.e.Ul=function(){if(!1!==this.dispatchEvent("beforeloadnext")&&"pending"!==this.promise.state())return this.GA(!0),this.promise=this.source().done((0,z.r)(this.$Q,this)).always((0,z.r)(z.pa(this.GA,!1),this))};z.e.Ad=function(){return this.Pd};z.e.Sq=function(){return z.P("a",{"aria-role":"button","class":this.J.pn},"\u66f4\u591a")};
z.e.GA=function(a){this.Pd&&(this.Pd.innerHTML=a?'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e \u52a0\u8f7d\u4e2d':"\u66f4\u591a",z.T.enable(this.Pd,"loading",a))};var Mw={s:function(a,b,c){return(0,window.isNaN)(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,f){d=a.toString();(0,window.isNaN)(f)||""==f||(d=(0,window.parseFloat)(a).toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if((0,window.isNaN)(c)||d.length>=c)return d;d=(0,window.isNaN)(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+
d+Array(a+1).join(" "):(b=0<=b.indexOf("0",0)?"0":" ",d=g+Array(a+1).join(b)+d);return d},d:function(a,b,c,d,f,g,h,l){return Mw.f((0,window.parseInt)(a,10),b,c,d,0,g,h,l)}};Mw.i=Mw.d;Mw.u=Mw.d;Fw("activeSource",{defaults:{kL:"%d \u6761\u65b0\u52a8\u6001",pn:"zu-main-feed-fresh-button",fX:z.m},init:function(a){this.data=[];this.button=this.Sq();z.Ue(this.button,a.m());this.v().g(this.button,"click",function(){a.ea(this.data,0);this.setData([])});var b=this,c=this.options.source(function(a){a&&a.length&&b.setData(a.concat(b.data))},function(){return b.data});if(!c||!z.ia(c.H))throw Error("Source must return a disposable object.");this.qM=c},setData:function(a){this.data=a;this.LQ()},LQ:function(){var a=
this.data.length;z.lf(this.button,Lw(this.options.kL,a));z.R(this.button,!!a)},Sq:function(){return z.P("a",{href:"javascript:;",style:"display:none","class":this.options.pn})},H:function(){Ew.prototype.H.call(this);z.ic(this.qM);this.options=null;this.button&&(z.Q(this.button),this.button=null)}});Fw("autoload",{defaults:{DC:!0,viewport:window,cX:function(){return!0}},init:function(a){if(a.Ad()&&(!this.options.DC||z.Y.wa())){var b=this.options.viewport,c=new z.hj(b);z.gc(this,c);cv(c,this,function(c){return z.vh(a.Ad())?400>=(z.ef(b)?a.Ad().getBoundingClientRect().top-c.height:b.scrollHeight-b.scrollTop-c.height):!1});this.v().g(a,"complete",this.H).g(a,"next",function(){this.enable()});this.enable()}},enable:function(){this.v().Ba(this,"nearbottom",function(){this.view.Ul()})}});Fw("childConstructor",{defaults:{Wk:null,factory:null},init:function(a){z.ia(this.options.Wk)&&Jw(a,this.PL,this);z.ia(this.options.factory)&&Jw(a,this.sS,this)},PL:function(a){var b=new this.options.Wk;this.view.L(b);b.w(a)},sS:function(a){var b=this.options.factory(a);this.view.L(b);b.w(a)}});Fw("dataPagingSource",{defaults:{aD:!0},init:function(a){var b=(0,window.$)(a.m()).data("paging").next;b||Kw(a);a.source=function(){return window.$.get(b).then(function(a){b=a.paging.next;return{results:a.htmls,next:!!b}})}}});Fw("expandLimit",{defaults:{lX:3},init:function(a){z.Y.wa()||this.v().g(a,"beforeloadnext",function(){(new z.km).F(!0);return!1})}});Fw("locationSource",{defaults:{Sl:20,param:null,wt:!1,offset:function(a){return a.length}},init:function(a){function b(a){return{start:c.wt?z.y.Wc(a).id.split("-")[1]:0,offset:c.offset(a)}}var c=this.options,d=c.url||window.location.href,f=a.Eb().length;(!f||f<c.Sl)&&Kw(a);a.source=function(){return window.$.post(d,(c.param||b)(a.Eb())).then(function(b){if(!b.r){b=b.msg;var d=b[0];z.ha(d)&&d<c.Sl&&Kw(a);return{results:b[1]}}})}}});Fw("nodeSource",{defaults:{aD:!0},init:function(a){var b=(0,window.$)(a.m()).data("init"),c="/node/"+b.nodename,d=b.params,f=d.offset||0,b=d.limit,g=d.pagesize;this.options.aD&&b&&a.Eb().length<b&&Kw(a);a.source=function(){return window.$.post(c,{method:"next",params:window.$.extend(d,{offset:f+a.Eb().length})}).then(function(a){var b=!0;g&&!a.r&&a.msg.length<g&&(b=!1);return!a.r&&{results:a.msg,next:b}})}}});Fw("shortcut",{defaults:{items:"\x3ediv"},init:function(a){a.Eb().length&&(this.Po=new z.tq(this.options),this.Po.w(a.m()),this.v().g(this.Po,"action",function(b){b.data.index>=b.data.size&&a.Ad()&&z.vh(a.Ad())&&a.Ad().click()}))},H:function(){Ew.prototype.H.call(this);this.Po&&(this.Po.H(),this.Po=null)}});z.v(Nw,Iw);z.v(Ow,z.vj);z.ca(Ow);Ow.prototype.R=function(){return"goog-menuheader"};z.v(Pw,z.Ej);z.Cj("goog-menuheader",function(){return new Pw(null)});z.v(Qw,z.vj);z.ca(Qw);z.e=Qw.prototype;z.e.Ae=function(){return"menuitem"};z.e.B=function(a){var b=a.M().B("DIV",this.Be(a).join(" "),Sw(this,a.fb(),a.M()));Uw(this,a,b,z.yj(a,8)||z.yj(a,16));return b};z.e.Z=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.af(b),d=Rw(this,2);c&&z.Ig(c,d)||b.appendChild(Sw(this,b.childNodes,a.M()));z.Ig(b,"goog-option")&&(a.up(!0),this.up(a,b,!0));return Qw.o.w.call(this,a,b)};
z.e.ha=function(a,b){var c=this.Z(a),d=Tw(this,a)?c.firstChild:null;Qw.o.ha.call(this,a,b);d&&!Tw(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.Ai=function(a,b,c){a&&b&&Uw(this,a,b,c)};z.e.up=function(a,b,c){a&&b&&Uw(this,a,b,c)};z.e.Rn=function(a){switch(a){case 2:return Rw(this,0);case 16:case 8:return"goog-option-selected";default:return Qw.o.Rn.call(this,a)}};
z.e.Sr=function(a){var b=Rw(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Qw.o.Sr.call(this,a)}};z.e.R=function(){return"goog-menuitem"};z.v(Vw,z.Ej);z.e=Vw.prototype;z.e.W=function(){var a=this.bz;return null!=a?a:this.Hg()};z.e.Ea=function(a){this.bz=a};z.e.Rb=function(a,b){Vw.o.Rb.call(this,a,b);switch(a){case 8:this.of()&&!b&&this.Jd(!1);var c=this.m();c&&this.N.Ai(this,c,b);break;case 16:(c=this.m())&&this.N.up(this,c,b)}};z.e.Ai=function(a){this.Rb(8,a)};z.e.up=function(a){this.Rb(16,a)};
z.e.Hg=function(){var a=this.fb();return z.fa(a)?(a=z.y.map(a,function(a){return z.df(a)&&(z.Ig(a,"goog-menuitem-accel")||z.Ig(a,"goog-menuitem-mnemonic-separator"))?"":z.vf(a)}).join(""),z.Ca(a)):Vw.o.Hg.call(this)};z.e.nf=function(a){var b=this.getParent();if(b){var c=b.sH;b.sH=null;if(b=c&&z.ha(a.clientX))b=new z.te(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}Vw.o.nf.call(this,a)};z.e.mf=function(a){return a.keyCode==this.az&&this.Hd(a)?!0:Vw.o.mf.call(this,a)};
z.e.YM=function(){return this.az};z.Cj("goog-menuitem",function(){return new Vw(null)});Vw.prototype.ci=function(){return z.yj(this,16)?"menuitemcheckbox":z.yj(this,8)?"menuitemradio":Vw.o.ci.call(this)};Vw.prototype.getParent=function(){return z.Ej.prototype.getParent.call(this)};Vw.prototype.yl=function(){return z.Ej.prototype.yl.call(this)};z.v(Ww,z.vj);z.ca(Ww);Ww.prototype.B=function(a){return a.M().B("DIV",this.R())};Ww.prototype.w=function(a,b){b.id&&z.Vh(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.Ue(b,c);z.Q(c)}else z.Jg(b,this.R());return b};Ww.prototype.ha=function(){};Ww.prototype.R=function(){return"goog-menuseparator"};z.v(z.Xw,z.Ej);z.Xw.prototype.D=function(){z.Xw.o.D.call(this);z.Ag(this.m(),"separator")};z.Cj("goog-menuseparator",function(){return new z.Xw});z.v(Yw,z.rn);z.ca(Yw);z.e=Yw.prototype;z.e.bc=function(a){return"UL"==a.tagName||Yw.o.bc.call(this,a)};z.e.Tn=function(a){return"HR"==a.tagName?new z.Xw:Yw.o.Tn.call(this,a)};z.e.If=function(a,b){return z.ff(a.m(),b)};z.e.R=function(){return"goog-menu"};z.e.Ge=function(a){Yw.o.Ge.call(this,a);z.Bg(a.m(),"haspopup","true")};z.v(Zw,z.Xw);z.Cj("goog-menuseparator",function(){return new z.Xw});z.v($w,z.Yu);z.e=$w.prototype;z.e.an=!0;z.e.DK=!1;z.e.R=function(){return this.N.R()};z.e.If=function(a){if(this.N.If(this,a))return!0;for(var b=0,c=z.Yh(this);b<c;b++){var d=z.Zh(this,b);if("function"==typeof d.If&&d.If(a))return!0}return!1};z.e.Ga=function(a){this.L(a,!0)};z.e.Oi=function(a,b){this.Ek(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.ai=function(a){return z.Zh(this,a)};z.e.ul=function(){return z.Yh(this)};
z.e.Eb=function(){var a=[];z.$h(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.T();c||z.R(this.m(),!0);Av(this.m(),a,b);c||z.R(this.m(),!1)};z.e.F=function(a,b,c){(b=$w.o.F.call(this,a,b))&&a&&this.ua&&this.an&&this.dc().focus();this.sH=a&&c&&z.ha(c.clientX)?new z.te(c.clientX,c.clientY):null;return b};z.e.Cx=function(a){this.an&&this.dc().focus();return $w.o.Cx.call(this,a)};z.e.VC=function(a){return(this.DK||a.isEnabled())&&a.T()&&z.yj(a,2)};
z.e.ga=function(a){var b=this.N,c;c=this.M();c=z.Be(c.Ja,"DIV",b.R()+"-content",a);for(var d=c.length,f=0;f<d;f++)z.sn(b,this,c[f]);$w.o.ga.call(this,a)};z.e.mf=function(a){var b=$w.o.mf.call(this,a);b||z.$h(this,function(c){!b&&c.YM&&c.az==a.keyCode&&(this.isEnabled()&&this.zc(c),b=c.ec(a))},this);return b};z.e.Hb=function(a){$w.o.Hb.call(this,a);(a=z.Zh(this,a))&&z.kh(a.m(),this.m())};z.v(ax,z.Hq);ax.prototype.Un=function(){return this.Fo};ax.prototype.Am=function(a){this.Fo=a};ax.prototype.ba=function(a,b,c,d){var f=z.wl(this.element,this.Jf,a,b,null,c,10,d,this.Fz);if(f&496){var g=bx(f,this.Jf);b=bx(f,b);f=z.wl(this.element,g,a,b,null,c,10,d,this.Fz);f&496&&(g=bx(f,g),b=bx(f,b),z.wl(this.element,g,a,b,null,c,this.Un(),d,this.Fz))}};z.v(cx,ax);z.v(dx,z.Bj);z.ca(dx);z.e=dx.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.Be(a).join(" ")},b=a.M().B("DIV",b,this.Vi(a.fb(),a.M()));this.qc(b,a.Wf());return b};z.e.Ae=function(){return"button"};z.e.Z=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.Vi=function(a,b){return b.B("DIV","goog-inline-block "+(this.R()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.R()+"-inner-box"),a))};z.e.bc=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){ex(b,!0);ex(b,!1);var c;a:{c=a.M().JE(b);var d=this.R()+"-outer-box";if(c&&z.Ig(c,d)&&(c=a.M().JE(c),d=this.R()+"-inner-box",c&&z.Ig(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Vi(b.childNodes,a.M()));z.Kg(b,["goog-inline-block",this.R()]);return dx.o.w.call(this,a,b)};z.e.R=function(){return"goog-custom-button"};z.v(fx,dx);z.ca(fx);z.e=fx.prototype;z.e.Z=function(a){return fx.o.Z.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.Ae("*","goog-menu",b)[0];if(c){z.R(c,!1);z.ye(c).body.appendChild(c);var d=new $w;d.w(c);a.mh(d)}return fx.o.w.call(this,a,b)};z.e.Vi=function(a,b){return fx.o.Vi.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.R()+"-dropdown"),"\u00a0")],b)};z.e.createCaption=function(a,b){return gx(a,this.R(),b)};z.e.R=function(){return"goog-menu-button"};z.v(hx,z.Lj);z.e=hx.prototype;z.e.Js=!1;z.e.hk=!1;z.e.pT=!1;z.e.D=function(){hx.o.D.call(this);mx(this,!0);this.ka&&lx(this,this.ka,!0);z.Bg(this.h,"haspopup",!!this.ka)};z.e.nb=function(){hx.o.nb.call(this);mx(this,!1);if(this.ka){this.Ab(!1);this.ka.nb();lx(this,this.ka,!1);var a=this.ka.m();a&&z.Q(a)}};z.e.C=function(){hx.o.C.call(this);this.ka&&(this.ka.H(),delete this.ka);delete this.iS;this.ma.H()};
z.e.de=function(a){hx.o.de.call(this,a);this.Ub()&&(this.Ab(!this.ub(),a),this.ka&&(a=this.ub(),this.ka.tf=a))};z.e.nf=function(a){hx.o.nf.call(this,a);this.ka&&!this.Ub()&&(this.ka.tf=!1)};z.e.Hd=function(){this.setActive(!1);return!0};z.e.sN=function(a){this.ka&&this.ka.T()&&!this.If(a.target)&&this.Ab(!1)};z.e.If=function(a){return a&&z.ff(this.m(),a)||this.ka&&this.ka.If(a)||!1};
z.e.mf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ka&&this.ka.T()){var b=13==a.keyCode||32==a.keyCode,c=this.ka.ec(a);return 27==a.keyCode||b?(this.Ab(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Ab(!0,a),!0):!1};z.e.bo=function(){this.Ab(!1)};z.e.VN=function(){this.Ub()||this.Ab(!1)};z.e.Uc=function(a){this.Js||this.Ab(!1);hx.o.Uc.call(this,a)};
z.e.$a=function(){this.ka||this.mh(new $w(this.M(),this.hQ));return this.ka||null};z.e.mh=function(a){var b=this.ka;if(a!=b&&(b&&(this.Ab(!1),this.ua&&lx(this,b,!1),delete this.ka),this.ua&&z.Bg(this.h,"haspopup",!!a),a)){this.ka=a;z.Wh(a,this);a.F(!1);var c=this.Js;(a.an=c)&&a.Re(!0);this.ua&&lx(this,a,!0)}return b};z.e.Ga=function(a){this.$a().L(a,!0)};z.e.Oi=function(a,b){this.$a().Ek(a,b,!0)};z.e.removeItem=function(a){(a=this.$a().removeChild(a,!0))&&a.H()};
z.e.ai=function(a){return this.ka?z.Zh(this.ka,a):null};z.e.ul=function(){return this.ka?z.Yh(this.ka):0};z.e.F=function(a,b){var c=hx.o.F.call(this,a,b);c&&!this.T()&&this.Ab(!1);return c};z.e.Ya=function(a){hx.o.Ya.call(this,a);this.isEnabled()||this.Ab(!1)};z.e.CI=function(){this.Ab(!0)};
z.e.Ab=function(a,b){hx.o.Ab.call(this,a);if(this.ka&&!!(this.O&64)==a){if(a){if(!this.ka.ua)if(this.hk){var c=Bv(this.m());c?this.ka.hp(c.parentNode,c):this.ka.ea(this.m().parentNode)}else this.ka.ea();this.yJ=z.ih(this.m());this.SC=z.th(this.m());kx(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.pT?z.Iu(this.ka):this.ka.Hb(-1)}else{this.setActive(!1);this.ka.tf=!1;if(c=this.m())z.Bg(c,"activedescendant",""),z.Bg(c,"owns","");null!=this.vt&&(this.vt=void 0,
(c=this.ka.m())&&z.ph(c,"",""))}this.ka.F(a,!1,b);if(!this.Td){var c=this.v(),d=a?c.g:c.na;d.call(c,this.M().sa(),"mousedown",this.sN,!0);this.Js&&d.call(c,this.ka,"blur",this.VN);d.call(c,this.ma,z.Qk,this.dm);a?this.ma.start():this.ma.stop()}}this.ka&&this.ka.m()&&this.ka.h.removeAttribute("aria-hidden")};
z.e.dm=function(){var a=z.th(this.m()),b=z.ih(this.m()),c=this.SC;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.yJ,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.SC=a,this.yJ=b,kx(this))};z.e.Gx=function(a){(a=a.target.m())&&nx(this,a)};z.e.NN=function(a){z.yj(this,32)&&this.dc()&&this.ka&&this.ka.T()&&a.stopPropagation()};
z.e.Ox=function(){if(!z.Ju(this.ka)){var a=this.m();z.Bg(a,"activedescendant","");z.Bg(a,"owns","")}};z.e.zx=function(a){if(this.ub()&&a.target instanceof Vw){a=a.target;var b=a.m();a.T()&&a.O&2&&null!=b&&nx(this,b)}};z.Cj("goog-menu-button",function(){return new hx(null)});z.v(ox,z.H);ox.prototype.eC={question:"\u95ee\u9898",comment:"\u8bc4\u8bba",answer:"\u56de\u7b54",favlist:"\u6536\u85cf",member:"\u7528\u6237",message:"\u79c1\u4fe1",image:"\u56fe\u7247",video:"\u89c6\u9891",post:"\u6587\u7ae0"};ox.prototype.cw="report-dialog";ox.prototype.vG="loading";ox.prototype.yE='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"\u8bf7\u586b\u5199\u539f\u56e0" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
ox.prototype.submit=Dw;z.e=ox.prototype;z.e.ix=function(){return this.Jn};z.e.Ok=function(a,b){var c=new z.Ai;z.pi(c,!0);c.xe=!0;z.ui(c,z.ji());c.addEventListener(z.wi,this.rN,!1,this);z.gc(c,this);a&&c.kb(a);b&&c.ha(b);c.F(!0);c.ba();z.T.add(c.m(),this.cw);return this.Jn=c};z.e.rN=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.Jn.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Ok(this.GE(a),this.Fv());z.T.add(d.m(),this.vG);this.NE(a).then((0,z.r)(function(f){d.ha((0,z.Fp)(this.yE,{each:z.y.forEach,options:f,headnote:c}));z.T.remove(d.m(),this.vG);d.ba();z.Di(d,450);this.DM={type:a,id:b};this.Oq(f)},this))};z.e.bF=function(){};
z.e.Oq=function(a){var b=this,c=(0,window.$)(this.Jn.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,l=z.y.find(a,function(a){return h===String(a.value)});b.bF(l);l="0"===h;f.toggle(l);l&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"\u8bf7\u9009\u62e9\u7406\u7531",detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.Fv=function(){return'\x3cdiv class\x3d"loading"\x3e\u7406\u7531\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.v(px,z.S);var qx={question:"question_report",answer:"question_answer_report",post:"article_report",member:"member_report",comment:"comment_report",favlist:"favlist_report",message:"message_report"},DI=(0,z.r)(z.nu(function(a){return window.$.getJSON(z.xa("/report/%s/options",a))}),z.t);
px.submit=function(a,b,c){b=window.$.extend({type:a,id:b},c);z.X.ya({type:"ga_click_report",data:{type:a}});window.$.post("/report",b).done(function(a){if(a.r)"duplicate_report"===a.errtype?z.U(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5"):z.U(a.msg);else if(a.noti){var b=z.Gi({title:"\u4e3e\u62a5\u6210\u529f\uff01",oi:!0,content:'\x3cp\x3e\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u300c\u79c1\u4fe1\u300d\u901a\u77e5\u60a8\x3c/p\x3e\x3cp\x3e\u60a8\u4e5f\u53ef\u4ee5\u8fdb\u5165 \x3ca href\x3d"/community/report"\x3e\u793e\u533a\u670d\u52a1\u4e2d\u5fc3\x3c/a\x3e \u67e5\u770b\u5b9e\u65f6\u5904\u7406\u8fdb\u5ea6\x3c/p\x3e\x3clabel class\x3d"modal-dialog-cancelNoti"\x3e\x3cinput type\x3d"checkbox" name\x3d"cancelNoti" /\x3e\u4e0d\u518d\u63d0\u9192\x3c/label\x3e',
className:"report-success-dialog",ba:!0,buttons:["\u77e5\u9053\u5566"]});b.v().g(b,z.Xl,function(){(0,window.$)(z.ni(b)).find("input[name\x3dcancelNoti]")[0].checked&&window.$.post("/community/report/noti",{cancel:!0});return!0})}else z.U("\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210",2E3,"\u4e3e\u62a5\u6210\u529f\uff01")})};
px.prototype.submit=z.mm(function(a){px.submit(this.type,this.id,a)},function(){return{wa:this.tv,ed:!0}});px.prototype.BI=z.mm(function(){(new tx(this.type,this.id)).open(this.type,this.id);z.X.ya({type:"ga_click_report_box",data:{type:this.type}})},function(){return{wa:this.tv,ed:!0}});
px.prototype.UO=function(){var a=this.FG,b=this.FG.$a();DI(this.type).then(function(c){window.$.each(c,function(a,c){var g=new Vw(c.label,{value:c.value,options:c.options});b.Ga(g)});kx(a);(0,window.$)(b.m()).addClass("report-menu")});this.v().g(b,"show",z.mm(function(){z.X.ya({type:"ga_click_report_box",data:{type:this.type}})},{wa:this.tv,ed:!0})).g(b,"action",this.ux)};
px.prototype.ux=function(a){var b=a.target.W().value;a=a.target.W().options;var c=this.type;0===b?(b=new tx(this.type,this.id),b.Ok("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",'\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3ctextarea class\x3d"textarea" name\x3d"detail"\x3e\x3c/textarea\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"0" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e'),b=(0,window.$)(b.ix().m()),b=(0,window.$)("form",b),b.validate({rules:{detail:{rangelength:[2,
100],required:!0}},messages:{detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",b)})):"member"===c&&10018!==b?(b='\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3cinput placeholder\x3d"\u586b\u5199\u8fdd\u89c4\u5185\u5bb9\u94fe\u63a5\u4f1a\u66f4\u5feb\u88ab\u7ba1\u7406\u5458\u5904\u7406" type\x3d"text" name\x3d"link" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"'+b+'" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e',
(new tx(this.type,this.id)).Ok("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",b)):"question"===c&&a?sx(this,a):px.submit(c,this.id,{reason:b})};z.v(tx,ox);tx.prototype.NE=DI;tx.prototype.submit=function(){var a=(0,window.$)((0,window.$)("form",this.Jn.m())[0]).serializeArray(),a=z.y.reduce(a,function(a,c){c.value&&(a[c.name]=c.value);return a},{});px.submit(this.type,this.id,a)};tx.prototype.GE=function(a){return z.xa("\u4e3a\u4ec0\u4e48\u4e3e\u62a5\u8fd9\u4e2a%s\uff1f",this.eC[a]||"\u6761\u76ee")};z.v(ux,z.kk);
ux.prototype.init=function(){var a=z.M("zh-create-pm");a&&this.v().g(a,"click",this.JQ);var a=z.M("zh-pm-item-wrap"),b=new Nw;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a);this.v().g(a,"click",this.Ma);(0,window.$)(function(){(0,window.$)("#zh-change-pm-admin").change(function(){var a=(0,window.$)(this).find("option:selected").attr("data-token");window.location.href="self"===a?"/admin_feedback":"/admin_feedback/"+a})});(0,window.$)('a[name\x3d"report"]').each(function(a,b){var f=
(0,window.$)(b).closest(".zm-pm-item").data("report-token");rx(new px("message",f),b)})};ux.prototype.JQ=z.mm(function(){var a;this.oo();this.Xb.show();z.fr(this.Xb,-1);(a=z.Ra(window.location.pathname,"admin_inbox")?"admin":(0,window.$)("#zh-change-pm-admin option:selected").attr("data-token"))&&this.Xb.cu(a)},!0);ux.prototype.oo=function(){this.Xb||(this.Xb=new z.dr({Lt:!0}))};
ux.prototype.Ma=function(a){if(a=z.bn(this.WW,a.target)){var b=a.name,c=z.Af(a,this.sf);if(!c||!a.name)return!0;var d=(0,window.$)(c).data(),f=d.member,g=d.name;switch(b){case "reply":z.mm((0,z.r)(function(){this.oo();this.Xb.show();var a=this.Xb,b=d.type;a.Np=d.token;a.cB=b;z.fr(this.Xb,f,g,!1);this.Xb.yc.focus()},this),!0)();break;case "delete":var h=c.getAttribute("data-token");z.Gi("\u5220\u9664\u79c1\u4fe1\u4f1a\u8bdd","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u4e0e "+g+"\u7684\u6240\u6709\u4f1a\u8bdd\u5417\uff1f",
function(a){a&&vx(h)},this);break;case "edit":z.Tm(this.Zc,this.yh),this.Mm=-1}}};z.v(wx,z.kk);
wx.prototype.init=function(){this.Ys=z.M("zh-pm-detail-item-wrap");this.v().g(this.Ys,"click",this.Ma);var a=z.M("zh-pm-editor-form");if(a){this.Xb=new z.dr({Lt:!0});this.Xb.aq=!1;this.Xb.lh(a);this.Xb.show();if(a=this.Eb()[0]){var a=(0,window.$)(a).data(),b=this.Xb,c=a.type;b.Np=a.token;b.cB=c;z.fr(this.Xb,a.member,a.name)}else a=z.Sp,z.fr(this.Xb,a.id,a.cx);this.Xb.focus()}else this.Xb=new z.dr({Lt:!0});xx(this);this.Cj()};
wx.prototype.Cj=function(){(0,window.$)('a[name\x3d"report"]').each(function(a,b){var c=(0,window.$)(b).closest(".zm-pm-item").data("token");rx(new px("message",c),b)})};wx.prototype.Eb=function(){return z.Ze(this.Ys)};
wx.prototype.Ma=function(a){var b=z.bn(this.Ys,a.target);if(b&&(a=b.name,b=z.Af(b,this.sf))){var b=(0,window.$)(b).data(),c=b.token;switch(a){case "reply":this.Xb.show();a=this.Xb;var d=b.type;a.Np=c;a.cB=d;z.fr(this.Xb,b.member,b.name,!1);this.Xb.focus();break;case "delete":yx(this,c)}}};z.v(Ax,z.S);z.e=Ax.prototype;z.e.vB=!z.Ei;z.e.uB=!z.Ei;z.e.yi=function(a){this.Qg=a};z.e.init=function(){this.fc=z.M("zh-load-more");this.w(this.zM)};
z.e.D=function(){Ax.o.D.call(this);this.dn=1;Hx(this);this.Ak=(0,window.$)(this.fc);this.fc&&(Ex(this),this.v().g(this.fc,"click",function(){this.zo=!0;this.Ch&&"pending"===this.Ch.state()&&1===this.dn?(this.Ch.done((0,z.r)(this.Vg,this)),this.DA=!0,Cx(this,!0)):this.vz()}),this.vB&&(this.dB=new z.ej(this.sz,100,this),this.v().g(window,"scroll",function(){this.dB.fire()})));Ix(this,this.Eb())};z.e.Ul=function(){Fx(this,!0)};
z.e.sz=function(){var a=this.fc;a&&z.vh(a)&&1E3>=a.getBoundingClientRect().top-z.Fe().height&&!(this.Bt||this.Ch&&"pending"===this.Ch.state())&&(this.uB&&(3===this.dn?(this.dn=1,this.DA=!1):(this.zo=!1,this.dn++,this.DA=!0)),Fx(this))};z.e.vz=function(){this.vB&&this.Bt?(this.Vg(this.Bt),this.Bt=null):(Cx(this,!0),Fx(this))};z.e.GH=function(a){return a};
z.e.Vg=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.fc.setAttribute("data-next",f));0<c&&(this.Eq(d),this.offset=this.hz?this.hz(this.Eb()):this.offset+c);b=!0;b=this.js?this.js(a):!(-1===f||10>c);z.R(this.fc,b);Cx(this,!1);Gx(this)}};z.e.Eb=function(){return z.Ce(this.Qg,this.h)};z.e.BH=function(a){return a.id.split("-")[1]};
z.e.Eq=function(a,b){var c=z.fa(a)?a.join(""):a,c=z.Ne(c+" "),d=z.Ce(this.Qg,c);Ix(this,d);"prepend"===b?z.Ue(c,this.h.firstChild):this.h.appendChild(c);Hx(this)};z.e.Yj=z.m;var Pz=function(a,b){var c=[],d=[].slice,f=z.nn(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.Y.wa()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});var EI=/a(:(link|visited|active|hover))?/;Lx.prototype.clone=function(){var a=new Lx;a.kh=this.kh.concat();a.In=this.In;return a};var FI=/(^|;|{)\s*color:([^;]+);/g,Px={},Sx={},GI={},HI="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),II="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var JI;z.v(z.Tx,z.H);z.e=z.Tx.prototype;z.e.G=null;z.e.TK=!0;z.e.lJ=function(){this.G&&(this.disable(this.G),this.G=null)};z.e.enable=function(a){this.G==a&&(this.kc=!0)};z.e.disable=function(a){this.G==a&&(this.kc=!1)};z.e.isEnabled=function(a){return this.G==a?this.kc:!1};z.e.uq=z.$r;z.e.BP=z.$r;z.e.C=function(){this.G&&this.lJ(this.G);z.Tx.o.C.call(this)};z.Yx=z.A.Om({Ix:1,ON:2,bs:3,vj:4,cs:5,execCommand:6,queryCommandValue:7,FH:8,xL:10,wL:11});JI=z.A.af(8,10,11);
z.Tx.prototype.execCommand=function(a,b){var c=this.BP(a);c||(z.B&&z.qy(this.G,!0,!0),this.G.Uh());try{var d=this.gf.apply(this,arguments)}finally{c||(this.G.df(),z.oy(this.G))}return d};z.Tx.prototype.Ke=function(){return!1};var Zx,by;z.v(Xx,z.H);Xx.prototype.Aa=null;Xx.prototype.Jc=null;Zx="change";z.$x="delayedchange";by={lV:"cvc",EV:"load",XV:"unload",eV:"beforechange",jV:Zx,mV:z.$x,fV:"beforefocus",pV:"focus",hV:"blur",gV:"beforetab",wV:"ifrsz",MV:"selectionchange"};z.dy=0;z.KI=null;z.e=Xx.prototype;z.e.Mg=!1;z.e.sJ=!1;z.e.Du=!1;z.e.m=function(){return this.Aa};z.e.addListener=function(a,b,c,d){var f=this.m();z.It&&f&&this.sc()&&(f=f.ownerDocument);d?z.ed(this.lc,f,a,b,c,d):this.lc.g(f,a,b,c)};z.e.bi=function(a){return this.Id[a]};
var cy=15,ay=250;Xx.prototype.sc=z.as;Xx.prototype.Ao=z.as;Xx.prototype.AI=z.$r;var fy={46:!0,8:!0};z.C||(fy[9]=!0);var gy={86:!0,88:!0};z.Am&&!z.B&&(fy[229]=!0);
Xx.prototype.Pv=function(){this.lc&&this.lc.removeAll();if((z.ts||z.Fi)&&this.sc()&&this.AI()){try{var a=this.mb.Wa();a.removeEventListener("keydown",this.ln,!1);a.removeEventListener("touchend",this.ln,!1)}catch(b){}delete this.ln}if(z.Zg&&this.sc()){try{a=this.mb.Wa(),a.removeEventListener("focus",this.Bv,!1),a.removeEventListener("blur",this.Av,!1)}catch(c){}delete this.Bv;delete this.Av}this.ue&&this.ue.stop();this.tr.stop()};
Xx.prototype.C=function(){this.Jc&&this.execCommand("clearlorem");this.Vl=z.dy;for(var a in this.Id){var b=this.Id[a];b.uq()||b.disable(this)}this.mb=this.Aa=null;this.Pv();this.il&&(z.Uc(this.il),this.il=null);this.fm=null;this.lc&&(this.lc.H(),this.lc=null);for(;a=this.ZU.pop();)a.H();z.KI==this.id&&(z.KI=null);for(var c in this.Id)a=this.Id[c],a.TK&&a.H();delete this.Id;Xx.o.C.call(this)};var LI=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];
Xx.prototype.AA=function(){if(z.Ft||!this.sc())this.lc.g(this.m(),"DOMSubtreeModified",this.Jx);else{var a=this.mb.sa();this.lc.g(a,LI,this.Jx,!0);this.lc.g(a,"DOMAttrModified",(0,z.r)(this.UE,this,this.Jx),!0)}};var MI={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},NI={65:!0,86:!0,88:!0},ly={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=Xx.prototype;
z.e.yo=function(a,b){for(var c=this.Aj[a],d=z.y.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||JI[a])&&g[z.Yx[a]].apply(g,d))return!0}return!1};z.e.nP=function(a,b){for(var c=this.Aj[a],d=z.y.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||JI[a])&&g[z.Yx[a]].apply(g,d)}};z.e.Gt=function(a,b,c){for(var d=this.Aj[a],f=z.y.slice(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||JI[a])f[0]=h[z.Yx[a]].apply(h,f)}return f[0]};
z.e.lf=function(a){(z.B||iy(this,a))&&!this.yo(1,a)&&z.Pt&&ky(this,a)};z.e.PN=function(a){if(z.B){if(!iy(this,a))return}else this.tx=!0,this.Uh();this.yo(2,a)||z.Pt||ky(this,a)};z.e.QN=function(a){z.B||!this.tx&&!ey(a)||this.$n();this.yo(3,a);py(this,"selectionchange")||(MI[a.keyCode]||(a.ctrlKey||a.metaKey)&&NI[a.keyCode])&&this.sI.start()};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.Aj[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Ke(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Je()&&this.rf;if(z.q(a))return this.Et(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.Et(a[d],b);return c};z.e.Et=function(a,b){for(var c=this.Aj[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Ke(a)&&(b||f.uq()))return f.queryCommandValue(a)}return b?null:!1};z.e.UE=function(a,b){if(!py(this,Zx)){var c=b.xb;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Jx=function(a){py(this,Zx)||(a=a.EE?a.xb:a,a.target.firebugIgnore||this.ue.start())};z.e.Zr=function(){z.C&&this.execCommand("clearlorem",!0);z.B&&this.rw();this.df()};z.e.hO=function(){var a=this.rI;this.rI=null;z.oy(this,void 0,a)};z.e.Uh=function(){py(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.df=function(a){sy(this,!0,a)};z.e.$n=function(){py(this,Zx)||(this.ue&&this.ue.stop(),py(this,z.$x)||this.tr.start())};z.e.VD=function(){py(this,z.$x)||(this.tr.stop(),this.dispatchEvent(z.$x))};
z.e.rw=function(){this.UD();this.WD()};z.e.UD=function(){py(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.WD=function(){if(!py(this,"focus")){z.KI=this.id;this.rf=!0;this.dispatchEvent("focus");if(z.B){var a=this.m(),b=z.ny(this);if(b){var c=z.Wn(b);0!=z.Xn(b)||c&&c!=a&&"BODY"!=c.tagName||z.Tv(a)}}!z.Gt&&this.sc()&&this.mb.Wa().parent.getSelection().removeAllRanges()}};z.e.wr=function(){py(this,"blur")||(z.KI==this.id&&(z.KI=null),this.rf=!1,this.dispatchEvent("blur"))};
z.e.Bl=function(a){z.KI=this.id;if(z.C){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.fm.Wa().open(b.href)}this.Du=!0};z.e.Bx=function(){this.Du=!1};z.e.es=function(a){if(!this.sJ||this.Du)this.Du=!1,z.oy(this,a),z.C&&(this.rI=a.target,this.sI.start())};
z.e.ol=function(){if(this.queryCommandValue("usinglorem"))return"\u00a0";if(!this.Je())return this.Jc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.C&&a.match(/^\s*<script/i)&&(a="\u00a0"+a);b.innerHTML=a;this.nP(11,b);return this.Gt(10,b.innerHTML)};
z.e.Kd=function(a,b,c,d){if(1!=this.Vl){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.qy(this,!1,!0);a=b;if(b=this.m()){if(this.sc()&&z.D)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Jc;b&&jy(this,a,b);d&&this.execCommand("updatelorem");this.Je()&&(c?(z.B&&$u(this.ue),sy(this)):this.df())}};z.e.mB=function(){var a=this.mb.sa();a.designMode="on";z.Lt&&a.execCommand("styleWithCSS",!1,!1)};
z.e.MF=function(){this.Vk&&vy(this)&&z.wh(this.Vk,this.m())};z.e.Je=function(){return 2==this.Vl};z.e.focus=function(){if(!z.Et&&this.sc())this.mb.Wa().focus();else{if(z.Zg)var a=this.Gk.pageXOffset,b=this.Gk.pageYOffset;this.m().focus();z.Zg&&this.Gk.scrollTo(a,b)}};z.e.Vf=function(){!z.Ct&&z.B||z.uy(this);this.focus()};z.e.Me=function(a){this.Vl=1;var b=this.Jc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;b.className+=" editable";this.Sy(a)};
z.e.Sy=function(a){var b=this.Jc;if(b){var b=b.innerHTML,c={},b=this.Gt(8,b,c),d=this.fm.B("IFRAME",this.LE());if(vy(this)){var f=(0,z.r)(this.zF,this,d,b,c);this.il=z.G(d,"load",f,!0);a&&(d.src=a)}this.CC(d);vy(this)||this.zF(d,b,c)}};
z.e.$r=function(){z.C&&z.Wv(this.mb.Wa());z.KI!=this.id&&this.execCommand("updatelorem");if((z.ts||z.Fi)&&this.sc()&&this.AI()){var a=this.mb.Wa();this.ln=(0,z.r)(a.focus,a);a.addEventListener("keydown",this.ln,!1);a.addEventListener("touchend",this.ln,!1)}z.Zg&&this.sc()?(this.Bv=(0,z.r)(this.rw,this),this.Av=(0,z.r)(this.wr,this),a=this.mb.Wa(),a.addEventListener("focus",this.Bv,!1),a.addEventListener("blur",this.Av,!1)):(z.Ot?(this.addListener("focus",this.WD),this.addListener(z.ks,this.UD)):this.addListener("focus",
this.rw),this.addListener("blur",this.wr,z.B));z.B?this.AA():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Uh),this.addListener(["cut","paste"],Bw(this.df)),this.addListener("drop",this.Zr));this.addListener(z.D?"dragend":"dragdrop",this.Zr);this.addListener("keydown",this.lf);this.addListener("keypress",this.PN);this.addListener("keyup",this.QN);this.sI=new z.gl(this.hO,250,this);this.QM&&this.addListener("click",ty);this.addListener("mousedown",this.Bl);this.sJ?(this.lc.g(this.mb.sa(),
"mouseup",this.es),this.addListener("dragstart",this.Bx)):this.addListener("mouseup",this.es);this.MF();sy(this);this.dispatchEvent("load");for(var b in this.Id)this.Id[b].enable(this)};z.e.CC=function(a){var b=this.Jc;a.className=b.className;a.id=b.id;z.Xe(a,b)};z.e.kx=function(a){var b=z.Cf(z.L(this.Jc));return new Ux(this.id,b,!1,!1,a)};
z.e.HJ=function(a,b,c){c=this.kx(c);vy(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.Et&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.oE,z.Wg(a,c.Mw),a.innerHTML=b):Wx(c,b,new Vx(this.m(),this.Vk),a)};z.e.zF=function(a,b,c){this.il&&(z.Uc(this.il),this.il=null);a.allowTransparency="true";this.HJ(a,b,c);hy(this,(a.contentDocument||a.contentWindow.document).body);!z.Et&&this.sc()&&this.mB();this.$r()};
z.e.LE=function(){var a="padding:0;"+this.Jc.style.cssText;z.wa(a,";")||(a+=";");a+="background-color:white;";z.C&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var OI;z.v(z.wy,Xx);z.e=z.wy.prototype;z.e.TF=!1;z.e.tP=!1;z.e.Ao=function(){return this.TF};z.e.cF=function(){py(this,Zx)||xy(this)};
z.e.LA=function(){if(this.Dp?0:this.Dp=!0){var a=!1,b=my(this);if(b){var c,d=my(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(vw(d,"height"),10)&&z.Wg(d,"height","1px");z.Cf(z.L(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=OI||(OI=z.Gh())));c=d;this.kQ&&(c=Math.max(c,this.kQ));(0,window.parseInt)(vw(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Dp=!1;a&&this.dispatchEvent("ifrsz")}};z.e.Ux="";var PI=!1;z.e=z.wy.prototype;z.e.sc=function(){return!z.Et};
z.e.AA=function(){z.wy.o.AA.call(this);if(this.sc()){var a=my(this).ownerDocument;this.lc.g(a,LI,this.cF,!0);this.SP=z.Sc(this.mb.Wa(),"load",this.LA,!0,this);this.lc.g(a,"DOMAttrModified",(0,z.r)(this.UE,this,this.cF),!0)}};z.e.$n=function(){py(this,Zx)||(z.wy.o.$n.call(this),this.sc()&&this.LA())};
z.e.wr=function(){if(!py(this,"blur")&&(z.wy.o.wr.call(this),!z.Et&&!z.Gt)){var a=this.mb.Wa(),b=!1;z.Uc(this.mG);this.mG=z.Sc(a.document.body,"dragover",function(){b=!0});z.t.setTimeout((0,z.r)(function(){if(!b&&this.mb){var a=z.ny(this),d=this.mb.Wa();z.Wv(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.mB=function(){z.wy.o.mB.call(this);var a=this.mb.sa();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.MF=function(){this.sc()||PI||(this.Vk&&z.wh(this.Vk,this.m()),PI=!0)};z.e.Sy=function(a){if(this.sc())z.wy.o.Sy.call(this,a);else if(a=this.Jc)hy(this,a),a.contentEditable=!0,jy(this,a.innerHTML,a),this.$r()};z.e.$r=function(){if(this.sc()){var a=this;z.t.setTimeout(function(){yy(a)},0)}z.wy.o.$r.call(this)};z.e.LE=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.CC=function(a){if(!this.tP){var b=this.Jc;b&&(this.TF="auto"==z.bh(b,"overflowY"))}var b=this.Jc,c=z.L(b),d=b.style.width,f=b.style.height;z.Wg(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);var g=uw(b),c=g.width,g=g.height,h="";this.Ao()&&(h="\x26nbsp;",z.Wg(b,"position","relative"),z.Wg(b,"overflow","visible"),z.Wg(a,"position","absolute"),z.Wg(a,"top","0"),z.Wg(a,"left","0"));z.ph(b,
c,g);z.Cf(z.L(b))&&z.Wg(b,"lineHeight","0");z.Uv(b,h);z.ph(a,c,g);z.ph(b,d,f);z.Wg(b,"visibility","");b.appendChild(a);vy(this)||(b=a.contentWindow.document,z.Cf(z.L(a.ownerDocument))&&(b.open(),a=z.md("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.ld(a)),b.close()))};z.e.kx=function(a){var b=this.Jc;if(b)return new Ux(this.id,z.Cf(z.L(b)),!0,this.Ao(),a);throw Error("no field");};
z.e.HJ=function(a,b,c){z.Wg(a,"visibility","hidden");c=this.kx(c);var d=this.Jc,f=this.Vk;if(!this.Ux){var g=this.Jc;if(g){var h=g.ownerDocument,l=z.ka(h);if(!GI[l]){for(var n=z.ka(h),p=[],h=Kx(h.styleSheets),x=0,F;F=h[x];x++)if((F=Jx(F))&&F.length)for(var J=0,K=F.length;J<K;J++){var O=new Lx,da;da=O;var Na=F[J],Za=Na.style;if(Za){var Ma=void 0,Ia="";Za&&(Ma=Na.selectorText)&&(Ia=Za.cssText)?z.C&&(Ia+="/* */"):Na.cssText&&(Ia=/([^\{]+)\{/,Ma=Ia.exec(Na.cssText)[1],Ia=Na.cssText.replace(Ia,"").replace(/\}[^\}]*$/g,
""));if(Ma){Na=da;Na.kh=[];Ma=Ma.split(/,\s*/gm);for(Za=0;Za<Ma.length;Za++){var Re=Ma[Za];0<Re.length&&Na.kh.push(new Nx(Re))}da.In=Ia;da=!0}else da=!1}else da=!1;da&&p.push(O)}GI[n]=p}n=GI[l];l=[];for(p=0;p<n.length;p++)l.push(n[p].clone());h=new Rx(g);x=new Ox("body");for(n=0;n<l.length;n++)for(F=l[n].kh,p=F.length,J=0;J<p;J++){K=F[J];O=K;da=h.uid;if(O.ov[da])da=O.ov[da];else{for(var Ia=0,Za=Ma=Na=null,Re=h.VG,Im=Re.length,Se=0;Se<=O.ti.length;Se++){for(Ma=O.ti[Se];Ia<Im;){var ie=Re[Ia];if(Ma&&
Qx(Ma,ie)){Na={dE:Ia,tI:Se};Ia++;break}else Za&&Qx(Za,ie)&&(Na={dE:Ia,tI:Se-1});Ia++}Za=Ma}da=O.ov[da]=Na}da&&(O=da.tI,K=K.ti,Ia=K.length-1,da.dE==h.VG.length-1||O<Ia?(K=K.concat(),K.splice(0,O+1,x),O=new Nx,O.ti=K,F.push(O)):0<O&&O==Ia&&(O=new Nx,O.ti=[x,K[Ia]],F.push(O)))}h=new Lx;g=g.currentStyle||z.ye(g).defaultView.getComputedStyle(g,"")||{};n=new Nx;n.ti=[new Ox("html")];h.kh=[n];x={};for(n=0;p=HI[n];n++)x[p]=g[z.cb(p)];Mx(h,x);l.push(h);h=new Lx;x=new Nx;x.ti=[new Ox("body")];F={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(n=0;p=II[n];n++)F[p]=g[z.cb(p)];Mx(h,F,!0);h.kh=[x];l.push(h);g=[];p=l.length;for(n=0;n<p;n++){F=l[n];h=g;J=F.kh.length;x=!1;for(K=0;K<J;K++){O=F.kh[K].ti;da=O.length;for(Ia=0;Ia<da;Ia++)h.push(O[Ia].KF," ");K<J-1&&h.push(",");z.B&&!z.E("1.9a")&&(x=x||EI.test(O[da-1].KF))}F=F.In;x&&(F=F.replace(FI,"$1 color: $2 ! important; "));h.push("{",F,"}\n")}this.Ux=g.join("")}}d=new Vx(d,f+this.Ux);c.Pq&&(f=z.Dh(d.YU),(f.top||f.left||f.right||
f.bottom)&&z.Wg(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));Wx(c,b,d,a);yy(this);z.Wg(a,"visibility","visible")};z.e.Pv=function(){z.Uc(this.mG);z.Uc(this.SP);z.wy.o.Pv.call(this)};var Xy={};Xy._default_={ox:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},pl:Dw,ql:Dw,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},Ly:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
Xy.answer={pl:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},ql:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},SK:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
Xy.question={pl:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},ql:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
Xy.favlist={pl:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},ql:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
Xy.post={ox:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},pl:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},ql:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},Ly:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
Xy.roundtable={ox:function(a){return window.$.get("/roundtable/comments/"+a)},pl:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},ql:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},Ly:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};z.v(zy,z.sc);Ay.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.v(By,ox);var BG=function(a){return function(b,c){return a(z.xa("/manage/%s/options?action\x3d%s",b,c))}}(z.nu(window.$.getJSON));z.e=By.prototype;z.e.$B={remove:"\u5220\u9664",lock:"\u9501\u5b9a",unlock:"\u89e3\u9664\u9501\u5b9a",collapse:"\u6298\u53e0",uncollapse:"\u89e3\u9664\u6298\u53e0",mute:"\u9694\u79bb",unmute:"\u89e3\u9664\u9694\u79bb"};z.e.NE=function(a){return BG(a,this.ml())};z.e.Ok=function(a,b){var c=By.o.Ok.call(this,a,b);c.uc.set("ok",this.$B[this.ml()]);return c};z.e.ml=function(){return(0,window.$)(this.Ev).data("op").split("-")[0]};
z.e.GE=function(a){return z.xa("\u786e\u5b9a\u8981%s\u8be5%s\uff1f",this.$B[this.ml()],this.eC[a]||"\u6761\u76ee")};z.e.vI=function(a){(0,window.$)(".footnote",this.ix().m()).text(a)};z.e.bF=function(a){a&&(a.trackable?Dy(this,a).then((0,z.r)(this.vI,this)):this.vI(""))};By.prototype.submit=function(){var a=(0,window.$)(this.Ev).data(),b=a.action,a=a.content,c=(0,window.$)((0,window.$)("form",this.Jn.m())[0]).serialize();a&&(c+="\x26"+a);Cy(b,c,this.Qk)};
By.prototype.C=function(){this.Qk=this.Ev=null;By.o.C.call(this)};By.prototype.open=function(a,b,c){this.Ev=a;this.Qk=c||z.Yd.RW;By.o.open.call(this,b.type,b.id,"")};z.v(Ey,z.S);z.e=Ey.prototype;z.e.defaults={trigger:{A:"data-editable"},kK:"hc-actionbar",FP:"checked",IT:100,EO:100};z.e.D=function(){Ey.o.D.call(this);this.gn=z.P("div");window.document.body.appendChild(this.gn);Fy(this,this.h)};z.e.mx=function(){return this.JO};
z.e.jL=function(a,b,c){b=z.P("div",{title:a.V,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.P("i","icon icon-actionbar-"+a.name)]);z.yh(b,!0);this.v().g(b,"click",function(){Gy(this,a.name)&&a.Si(this.qe)});return b};z.e.ea=function(){this.gn.innerHTML="";z.Qe(this.gn,z.y.map(z.A.Oa(this.Ym.su()),this.jL,this))};z.v(z.Iy,z.S);z.Iy.prototype.defaults={sF:{},PK:!0};z.Iy.prototype.D=function(){z.Iy.o.D.call(this);var a=this,b=this.h;this.J.PK&&(this.sq=Vy(b));this.v().g(b,"paste",function(){(0,window.setTimeout)(function(){Jy(a)})}).g(b,"keydown",this.xO)};
z.Iy.prototype.xO=function(a){var b=z.Pg(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.Mo(),d=b.Y(),f=b.ia(),g=this.h,h,l=My(d,g,Oy)||f!==d&&(h||(h=My(f,g,Oy)));if(l){var n=z.sf(l),p=b.ta(),x=b.Ka();if(l.getAttribute("data-editable")&&n===l.href){var F=!1;h=h||My(f,g,Oy)||l;var g=l.contains(d),J=h.contains(f);if(c)g&&(d=l,p=0,F=!0),J&&(f=h,x=z.Au(h),F=!0),F&&z.xo(d,p,f,x).select();else if(g&&J&&h===l){if(!b.isCollapsed()||0!==p&&n.length!==p)a.preventDefault(),z.Eu(l)}else g&&
(d=l.nextSibling,p=0,F=!0),J&&(f=h.previousSibling,x=z.Au(f),F=!0),F&&z.xo(d,p,f,x).select()}}}};var Uy=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,Qy=["http:","https:"],Ry=z.nu(function(a){return window.$.post("/scraper",{url:a})});z.v(Wy,z.S);z.e=Wy.prototype;z.e.defaults={qG:!1,autofocus:!0,vw:"empty",sf:"zm-item-comment"};z.e.ga=function(a){Wy.o.ga.call(this,a);oz(this);gz(this);this.yd=!0;z.y.forEach(iz(this),this.qt,this)};z.e.Hh="zm-comment-bubble";z.e.AC="."+Wy.prototype.Hh;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.P("div",{"class":this.gD,style:"display:none"});this.ff()};z.e.Wi=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.C=function(){Wy.o.C.call(this);this.Aa=this.mD=this.wn=this.rC=this.wh=this.Pz=this.rG=null};z.e.Ds=function(a){(a=a.m&&a.m())&&(new z.Iy({sF:{image:z.m}})).w(a)};z.e.Cs=function(a,b){if(a.m){var c=(new z.Yk).add("type",this.type+"_comment").add("resource_id",this.id),d=a.m(),c=new z.ip(d,{Xm:{source:"/people/autocomplete?"+c.toString()},bk:z.N("zu-main")||window.document.body});new z.bp(d,{bA:z.sp});z.ia(b)&&b(c)}};
z.e.NT=Yy(function(a){var b=z.N("zm-comment-content-wrap",a),c=z.N("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.N("zm-comment-editable",c);if(z.vh(c)){if(zv(c)){z.R(c,!1);return}}else z.R(c,!0);ez(g)}else{c=fz(b);g=z.N("zm-comment-editable",c);var h=new z.wy(g);h.Kd(!1,"");h.Me();this.Cs(h,function(){ez(g)});this.Ds(h);a=z.N("zm-comment-close",c);b=z.N("zm-comment-submit",c);b.name="";var l=function(){var a=(0,z.Ya)(h.ol()),b=(0,z.Ya)(z.sf(g));a&&b?qz(f,{content:a,SS:d},function(a){a.r||
(z.R(c,!1),h.Kd(!1,""),(a=z.y.Wc(iz(f)))&&Kv(a,{offsetTop:100,xC:!0}))}):(z.U("\u8bf7\u586b\u5199\u5185\u5bb9"),g.focus())};z.G(a,"click",function(){z.R(c,!1)});z.G(b,"click",l);z.G(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(l(),a.preventDefault())})}Kv(c,100)},"reply");z.e.fu=function(a){z.T.enable(this.mD,"expanded",a)};z.e.Ei=function(a,b){this.dispatchEvent(new zy("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.ha(b)?b:this.Ta()}))};
z.e.rj=function(){this.yd?mz(this):this.Yg=!0};z.e.YQ=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.vq(),(0,window.$)(this.Aa).blur(),a.preventDefault());27===a.keyCode&&kz(this)};
z.e.Ma=function(a){var b=z.bn(this.h,a.target,"BUTTON")||z.bn(this.h,a.target);if(b&&b.name){var c=z.Af(b,this.J.sf);a.preventDefault();switch(b.name){case "reply_comment":this.NT(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");dv(0,null,a);break;case "delcomment":this.Xr(b);break;case "like_comment":this.SN(b);break;case "author_delcomment":sz(this,b);break;case "admin_delcomment":rz(this,b);break;case "closeform":kz(this);break;case "addnew":this.vq();break;
case "load-more":this.Ei("comments_all"),this.rG(b)}}};
z.e.rG=function(a){this.$s&&"pending"===this.$s.state()||(a&&z.T.add(a,"loading"),this.$s=this.Pz||this.sG(),this.$s.done((0,z.r)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=iz(this);c.length&&(b=z.y.filter(b,function(a){return!z.y.find(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.y.concat(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.y.forEach(b,this.qt,this),a&&z.Q(a));z.Qe(this.wn,
b)}},this)))};z.e.SN=Yy(function(a){var b=(0,window.$)(a),c=z.Af(a,this.J.sf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");(c=!b.hasClass("liked"))&&this.Ei("like_comment");this.ug.Ly(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" \u4eba\u89c9\u5f97\u8fd9\u4e2a\u5f88\u8d5e");d.text(f);b.toggleClass("liked",c);z.Nm(b[0],c?"\u53d6\u6d88\u8d5e":"\u8d5e")},"like");z.e.expand=function(){this.Sa(!0)};
z.e.collapse=function(){this.Sa(!1)};z.e.Hc=function(){return this.yd};
z.e.Sa=function(a){if(a!==this.yd){a&&(this.$(this.AC).hide(),this.ff());this.yd=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.R(this.h,this.yd);var b=(0,z.r)(function(){a&&lz(this);this.dispatchEvent(a?"expand":"collapse");this.kl&&!a&&(z.Vo(this.kl),Kv(this.kl.h))},this),c;a&&this.Yg?(c=mz(this))&&c.done(b):(0,window.setTimeout)(b);this.wh&&(a?(this.WR=z.sf(this.wh),z.Nm(this.wh,"\u6536\u8d77\u8bc4\u8bba")):z.Nm(this.wh,0>this.Ia?this.WR:this.Ia?this.Ia+" \u6761\u8bc4\u8bba":"\u6dfb\u52a0\u8bc4\u8bba"))}};
z.e.Cf=function(){this.Sa(!this.yd)};z.e.sG=function(){return this.ug.ql(this.id)};z.e.$t=function(a){this.yn=a};z.e.LS=function(a){a=z.Ne((0,z.Ya)(a));z.R(a,this.yd);z.y.forEach((0,window.$)("."+this.J.sf,a).get(),this.qt,this);this.Yg=!1;this.nb();z.Xe(a,this.h);this.h=a;oz(this)};z.e.fb=function(){var a=(0,z.Ya)(this.dl.ol());return a===this.placeholder?"":a};
z.e.vq=function(){var a=this.fb(),b=(0,z.Ya)(z.sf(this.Aa));a&&"TEXTAREA"===this.Aa.tagName&&b||a?qz(this,a):(z.U("\u8bf7\u586b\u5199\u5185\u5bb9"),this.Aa.focus())};z.e.Ta=function(){return this.Ia};z.e.gN=function(a){if(a.r)return z.Ki("\u63d0\u793a\u4fe1\u606f",a.msg);this.ug.ox(a.msg).done(window.$.proxy(this.MS,this));this.dl.Kd("");dz(this);this.fu(!1)};
z.e.qt=function(a){if(z.Is("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e\u5220\u9664',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.Cj(a)};
z.e.Cj=function(a){var b=(0,window.$)("a[name\x3dreport], button.report",a);b.length&&(a=a.getAttribute("data-id"),a=new px("comment",a,{post:"article_comment_report",question:"question_comment_report",answer:"question_answer_comment_report"}[this.type]),rx(a,b[0]),z.gc(a,this))};z.e.MS=function(a){this.Kj="";a=z.Ne(a);this.wn.appendChild(a);this.qt(a);this.Ia+=1;pz(this)};
z.e.Xr=function(a){var b=z.Af(a,this.J.sf),c=b.getAttribute("data-id");z.Gi("\u5220\u9664\u8bc4\u8bba","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",function(a){a&&uz(this,c,z.pa(z.Q,b))},this)};z.e.ff=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.r)(function(){if(this.Kj)return"\u4f60\u7684\u8bc4\u8bba\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Mf=function(){(0,window.$)(window).off("beforeunload.CommentForm")};z.v(yz,z.S);z.e=yz.prototype;z.e.ga=function(a){yz.o.ga.call(this,a);this.Fb()};z.e.Fb=function(){var a=this.Ki=(0,window.$)(this.m());z.Zr.Ob?a.click(z.mm(window.$.proxy(this.zI,this))):Az(this);a.one("mouseover focus",window.$.proxy(z.zi(this.lS),this))};z.e.zI=function(){this.nk||(this.nk=lw(this.td,this.tB));this.nk.then(function(a){wz(a.msg.sina)})};
z.e.lS=function(){this.nk||(this.nk=lw(this.td,this.tB));if(this.EG){var a="/qrcode?"+window.$.param({url:this.AT+"#showWechatShareTip"});(0,window.$)(".js-qrcode-image",this.EG.m()).attr("src",a)}};z.e.fN=function(a){a=a.target.W();0===a?this.zI():2===a&&Bz(this)};z.v(Cz,z.S);z.e=Cz.prototype;z.e.Kw="zm-item-expanded";z.e.et="zm-item-meta";z.e.Lj=null;z.e.D=function(){Cz.o.D.call(this);var a=Ez(this.h);this.Mb=a[this.entryType+"-id"];this.Fg=a[this.entryType+"-url-token"];this.Dr=a;this.hn();this.pe();Fz(this)};z.e.Sn=function(){var a=this.entryType+"-"+this.Mb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.hn=function(a){var b={'a[name\x3d"expand"]':function(a){this.Sa(!0);this.Ks&&(a.currentTarget.name="toggleExpanded")},'a[name\x3d"collapse"]':function(){this.Sa(!1)},'a[name\x3d"toggleExpanded"]':this.Cf,'a[name\x3d"ignore"]':this.as,".js-close":this.gF,".js-collect":this.sj,".js-hiderelated":this.fF,".js-toggle-commentbox":this.lF,".js-unhide":this.pF,'a[name\x3d"dislike"]':this.TE};z.A.extend(b,a||{});z.A.forEach(b,function(a,b){if(z.ia(a))(0,window.$)(this.h).on("click",b,window.$.proxy(a,
this))},this);var c=(0,window.$)(".zm-meta-panel",this.h);z.A.forEach({'a[name\x3d"toggle-comment"]':function(a){this.lF(a);c.toggleClass("focusin",this.qa.Hc())}},function(a,b){c.on("click",b,window.$.proxy(a,this))},this)};z.e.lF=function(a){this.Rp();this.qa.Hc()&&(a=(0,window.parseInt)(z.sf(a.currentTarget),10)||0,this.qa.Ei("view_comments",a))};z.e.Vy=function(){Pz(this.entryType,this.Fg,"read")};z.e.Pj=function(){Pz(this.entryType,this.Fg,"touch")};z.e.Hc=function(){return z.T.has(this.h,this.Kw)};
z.e.Cf=function(){this.Sa(!this.Hc())};z.e.Sa=function(a){if(a===this.Hc())return!1;a&&uw(this.h).height<z.Fe().height&&1<(0,window.$)("a.collapse",this.h).length&&(0,window.$)("a.collapse",this.h).eq(0).remove();z.T.enable(this.h,this.Kw,a);this.dispatchEvent(a?"expand":"collapse");return!0};z.e.MR=function(){window.open(z.N(this.Lj,this.h).href)};z.e.gF=function(){(0,window.$)(this.h).fadeOut(150,function(){(0,window.$)(this).remove()})};z.e.sj=z.m;z.e.as=z.m;z.e.pF=z.m;z.e.fF=z.m;
z.e.TE=function(){var a=(0,window.$)(this.h),b=(0,window.$)(".feed-item-inner",a),c=(0,window.$)(".undo-dislike-options",a),d=c.data();c.off().one("click",".revert",function(){b.slideDown();c.slideUp();window.$.post("/topstory/item/uninterest/revert",d)}).one("click",".close",function(){a.slideUp(function(){a.remove()})});window.$.post("/topstory/item/uninterest",d).done(function(){b.slideUp();c.slideDown()})};
z.e.Rp=function(){if(!this.qa){var a=(0,window.$)(".toggle-comment",this.h)[0];this.qa=new Wy(this.Mb,this.entryType);this.L(this.qa);Zy(this.qa,z.N(this.et,this.h),a);vz(this.qa);this.qa.$t(this.Sn())}this.qa.Cf()};z.e.Fx=function(){this.qa?this.qa.Aa.focus():this.Rp()};
z.e.pe=function(){this.Ld=z.st.FJ(this.h);z.Mm(this.Ld.register("shift+o",this.MR,this),{group:"\u64cd\u4f5c",name:"\u65b0\u7a97\u53e3\u6253\u5f00\u6761\u76ee"});var a=(0,window.$)('a[name\x3d"dislike"], a[name\x3d"ignore"]',this.h);a.length&&z.Mm(this.Ld.register("i g",function(){a.click()}),{group:"\u64cd\u4f5c",name:"\u4e0d\u611f\u5174\u8da3"})};Gz.prototype={Ic:function(a){if(a)this.$C.push(a);else{var b={current:this.Rd,eo:this.eo(),ks:this.ks()};z.y.forEach(this.$C,function(a){(0,window.setTimeout)(function(){a.call(null,b)})})}},remove:function(a){a=this.items.indexOf(a);-1!==a&&(this.items.splice(a,1),Hz(this),this.Ic());return a},eo:function(){return this.Rd<this.Jo},ks:function(){return 1!==this.Rd},next:function(){this.eo()&&(this.Rd+=1,this.Ic())},prev:function(){this.ks()&&(--this.Rd,this.Ic())},random:function(a){if(this.Jo>=2*
this.Zg){for(var b=[],c=1;c<this.Jo+1;c++)b.push(c);0!==a&&z.y.remove(b,this.Rd);0!==this.items.length%this.Zg&&z.y.remove(b,this.Jo);a=b.length;a=Math.floor(Math.random()*a);this.Rd=b[a]}else a===this.Zg&&this.items.reverse(),this.Rd=1;this.Ic();return this.items.length>this.Zg}};z.v(Kz,Cz);Kz.prototype.D=function(){Kz.o.D.call(this);Lz(this)};Kz.prototype.TE=function(){var a=this,b=(0,window.$)(this.h);window.$.post("/actioncard/uninterest",{type:"suggest_topics"},function(){b.slideUp(function(){a.H();b.remove()})})};z.v(Mz,Cz);Mz.prototype.Lj="question_link";Mz.prototype.as=function(){var a=this.Dr["question-id"];this.dispatchEvent({type:"ignore",key:"question-id",value:a});window.$.post("/question/uninterest",{qid:a})};z.v(Nz,Mz);Nz.prototype.D=function(){Nz.o.D.call(this);Oz(this)};Nz.prototype.pe=function(){Nz.o.pe.call(this);z.Mm(z.Mm(this.Ld.register("c",this.Rp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",this.Fx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};
z.v(Qz,Mz);z.e=Qz.prototype;z.e.D=function(){Qz.o.D.call(this);this.rv=Rz(this.h);this.Ks="1"===this.rv.getAttribute("data-isowner");this.hr="1"===this.rv.getAttribute("data-copyable");this.ey();this.Ol()};z.e.Sa=function(a){Qz.o.Sa.call(this,a)&&(a||(bw(this.tg.m()),Sz(this,!1)),a&&this.Ol(),this.tg.zA(a),this.tg.lu.Sa(a))};z.e.ey=function(){var a=z.N("zm-item-answer-author-wrap",this.h);a&&(a=z.N("zm-list-avatar",a),z.qt.add(a))};
z.e.Ol=function(){this.tg=new nG(this.Dr["question-id"],{gb:this.Dr["question-url-token"]},this.Mb);rG(this.tg,z.N("zm-item-meta",this.h));this.L(this.tg);this.tg.w(this.rv);var a=this.tg.lu;this.v().g(a,"expand",function(){this.Sa(!0)});this.Ol=z.m};z.e.pe=function(){Qz.o.pe.call(this);z.Mm(this.Ld.register("o",this.Cf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"})};z.e.hn=function(){Qz.o.hn.call(this,{"a[name\x3dexpandQuestionDetail]":function(){Sz(this,!0)}})};z.v(Tz,Cz);Tz.prototype.D=function(){Tz.o.D.call(this);var a=z.N("column",this.h);bv(a,this.Pj,this)};Tz.prototype.Pj=function(){Pz("column",this.Fg,"touch")};var Yz={BB:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},QE:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.v(Uz,z.S);var Wz={oe:1,pg:-1,aC:0};Uz.prototype.defaults={CU:"up",tM:"down",TL:"count",Ct:"pressed"};z.A.extend(Uz.prototype,Wz);z.e=Uz.prototype;z.e.O=Wz.aC;
z.e.w=function(a){Uz.o.w.call(this,a);var b=this.J;a=this.K=(0,window.$)(a);this.Wu=(0,window.$)("."+b.CU,a);this.Qu=(0,window.$)("."+b.tM,a);this.HB=(0,window.$)("."+b.TL,a);b=this.Wu.hasClass(this.J.Ct);a=this.Qu.hasClass(this.J.Ct);b?this.O=Wz.oe:a&&(this.O=Wz.pg);$z(this);this.Wu.click(window.$.proxy(this.uu,this));this.Qu.click(window.$.proxy(this.tu,this));return this};z.e.be=function(){return this.O};
z.e.gc=z.mm(function(a){a!==this.O&&z.A.xg(Wz,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.Th&&"pending"===this.Th.state()&&this.Th.abort(),Vz(this,this.O,a),this.O=a,$z(this),Xz(this).done((0,z.r)(function(a){a.r||this.Ic()},this)))},function(a){var b={};b[Wz.oe]="question_answer_vote_up";b[Wz.pg]="question_answer_vote_down";return{wa:b[a],ed:!0}});z.e.track=function(a){a===Wz.oe?z.en("vote","voteup","side_vote"):a===Wz.pg&&z.en("vote","votedown","side_vote")};
z.e.uu=function(){this.gc(this.O===Wz.pg?Wz.oe:this.O^Wz.oe)};z.e.tu=function(){this.gc(this.O===Wz.oe?Wz.pg:this.O^Wz.pg)};z.e.Ic=function(){this.dispatchEvent("change")};z.v(aA,z.S);aA.prototype.ga=function(a){aA.o.ga.call(this,a);this.v().g(a,"click",this.PR)};aA.prototype.lM=function(){var a=this.CB;z.Xe(a.m(),this.zJ);z.T.remove(a.m(),this.fq)};aA.prototype.MP='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e\u8d5e\u540c\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e\u53cd\u5bf9\x3c/label\x3e\x3c/div\x3e';
aA.prototype.PR=z.mm(function(){this.Db&&this.Db.H();var a=new z.Ai(null,!1);a.xe=!0;a.kk(!0);a.wE=!0;bA(this);this.v().Ba(a,"hide",this.lM);var b=a.Z();b.appendChild(this.CB.m());b.appendChild(z.Ne(this.MP));z.T.add(a.m(),this.pw);a.F(!0);this.Db=a;z.gc(this,a)},!0);z.v(cA,Cz);z.e=cA.prototype;z.e.Lj="post-link";z.e.D=function(){cA.o.D.call(this);dA(this);var a=z.N("zm-votebar",this.h);a&&(this.sb=new Uz(this.Mb,this.entryType),z.gc(this,this.sb),this.sb.w(a),(a=z.N("votenum-mobile",this.h))&&(new aA(this.sb)).w(a));fA(this);this.Dj()};z.e.Sa=function(a){cA.o.Sa.call(this,a)&&(a||bw((0,window.$)(".entry-body",this.h)[0]),this.lu.Sa(a),this.zA(a))};z.e.zA=function(a){var b=this.Ej();b&&z.Uo(b,a)};
z.e.Ej=function(){if(this.zh)return this.zh;var a=!z.Ei,b=z.N("zm-editable-content",this.h),c=this.sb&&this.sb.m();a&&c&&(0,window.$)(c).is(":visible")&&b&&230<(0,window.$)(b).height()&&(a=this.zh=new z.Zo(null,b),this.L(a),a.tag="votebar",a.Gz=50,a.w(c))};z.e.Dj=function(){var a=(0,window.$)("a[name\x3dshare]",this.h).get(0),b=(0,window.$)(".post-link",this.h).get(0);a&&b&&xz(a,"post",this.Fg,b.href)};
z.e.as=function(){(0,window.$)(".feed-hide-options",this.h).show().siblings().hide();window.$.post(Lw("/post/uninterest"),{id:this.Mb})};z.e.pF=function(){(0,window.$)(".feed-hide-options",this.h).hide().siblings().show();window.$.post(Lw("/post/undo_uninterest"),{id:this.Mb})};z.e.fF=function(a){a=(0,window.$)(a.currentTarget);var b=a.data();z.Gi(a.attr("title"),Lw("\u786e\u5b9a%s\u5417\uff1f",a.text()),function(a){a&&(this.gF(),window.$.post(Lw("/%s/uninterest",b.type),{id:b.id}))},this)};
z.e.pe=function(){cA.o.pe.call(this);z.Mm(this.Ld.register("v",function(){this.sb&&this.sb.uu()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Mm(this.Ld.register("d",function(){this.sb&&this.sb.tu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Mm(z.Mm(z.Mm(this.Ld.register("o",this.Cf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.Rp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",this.Fx,this),{group:"\u64cd\u4f5c",
name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.v(hA,Cz);z.e=hA.prototype;z.e.D=function(){hA.o.D.call(this);this.to()};z.e.Lj="roundtable_link";z.e.as=function(){window.$.post("/roundtable/"+this.Fg,{action:"mute"});this.dispatchEvent({type:"ignore",key:"roundtable-id",value:this.Mb})};z.e.to=function(){bv(this.h,this.Pj,this)};z.e.Pj=function(){Pz("roundtable",this.Fg,"touch")};z.v(jA,Ax);jA.prototype.Yj=function(a){var b=iA(a);this.L(b);b.w(a);b instanceof Qz&&b.Sa(!1)};z.v(kA,z.kk);z.ca(kA);z.e=kA.prototype;
z.e.B=function(){this.rM=!0;this.h=z.P("div",null,[this.RP=z.P("div",null,[this.Sg=z.P("div","zm-favo-list-content"),this.mC=z.P("div","zh-favo-add-new-wrap zm-command",this.TT=z.P("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ \u521b\u5efa\u6536\u85cf\u5939"),this.Qv=z.P("a",{href:"javascript:;","class":"zg-btn-blue"},"\u5173\u95ed")),this.fv=z.P("div","zh-favo-add-new-wrap zm-command",this.DL=z.P("a",{href:"javascript:;","class":""},"\u53d6\u6d88"),this.UT=z.P("a",{"class":"zm-favo-dialog-create zg-btn-blue",
href:"javascript:;"},"\u521b\u5efa\u6536\u85cf\u5939"))]),this.ax=z.P("div",{"class":"zh-favo-add-form",style:"display:none"},[z.P("div",null,["\u6807\u9898",this.fB=z.P("span",{"class":"zh-favo-add-title-error"},"\u8bf7\u586b\u5199\u6807\u9898")]),z.P("div","zg-section",this.Mj=z.P("input",{"class":"zg-form-text-input"})),z.P("div",null,"\u63cf\u8ff0\uff08\u53ef\u9009\uff09"),z.P("div",{"class":"zg-section zg-form-text-input"},this.Tl=z.P("textarea",{"class":"zg-editor-input",style:"height:66px"})),
this.tS=z.P("label",null,[this.yP=z.P("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),z.P("strong",null," \u516c\u5f00 "),z.P("span","zg-gray-normal","\u516c\u5f00\u540e\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u79c1\u5bc6")]),this.IP=z.P("br"),this.qS=z.P("label",null,[this.xP=z.P("input",{type:"radio",value:"private",name:"mode"}),z.P("strong",null," \u79c1\u5bc6 "),z.P("span","zg-gray-normal","\u53ea\u6709\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6536\u85cf\u5939")]),z.P("div","zm-command",
[this.TA=z.P("a",{href:"javascript:;","class":"zg-mr10"},"\u53d6\u6d88"),this.$q=z.P("a",{href:"javascript:;","class":"zg-mr10"},"\u5b8c\u6210"),this.kC=z.P("a",{"class":"zg-btn-blue"},"\u786e\u8ba4\u521b\u5efa")])])]);z.R(this.fB,!1);z.R(this.fv,!1);(new z.vn(this.gB)).w(this.Mj);(new z.vn(this.nw)).w(this.Tl);z.y.forEach(this.My,function(a){mA(this,a)},this);this.My.length||(this.Sg.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6536\u85cf\u5939\uff0c\u5c06\u7b54\u6848\u5206\u7c7b\u6536\u85cf\x3c/div\x3e ',
z.R(this.fv,!0),z.R(this.mC,!1));lA(this);this.xa.Z().innerHTML="";this.xa.Z().appendChild(this.h);this.xa.ba()};
z.e.ic=function(){this.fL||(this.fL=!0,this.v().g(this.TA,"click",function(){this.pa?qA(this,0):tA(this)}).g(this.TT,"click",function(){z.X.ya({type:"ga_click_add_collection"});qA(this,1)}).g(this.Qv,"click",function(){tA(this)}).g(this.UT,"click",function(){z.X.ya({type:"ga_click_add_collection"});qA(this,1)}).g(this.DL,"click",function(){tA(this)}).g(this.$q,"click",function(){tA(this)}).g(this.kC,"click",this.Wg).g(this.Sg,"click",this.sR).g(this.Mj,"change",function(){z.R(this.fB,!1)}))};
z.e.sR=function(a){var b=z.yf(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.T.has(b,"zm-favo-list-item-link-active")?(c=!0,this.ED=a):this.BD=a;b=new z.cn;b.add("answer_id",this.pa);b.add("favlist_id",a);this.nA=new z.V(!0);this.locked=!0;this.v().Ba(this.nA,"complete",this.zK);this.nA.ajax(c?"/collection/remove":"/collection/add",b.Bd())}};
z.e.zK=function(){this.locked=!1;this.Qv.innerHTML="\u5173\u95ed";var a=z.fe(this.nA);a&&!a.r?(a=z.Ce("zm-favo-list-item-link",this.Sg),z.y.forEach(a,function(a){var c=a.getAttribute("data-lid"),d=z.N("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.ED?(d.innerHTML=f-1+"",z.T.remove(a,"zm-favo-list-item-link-active")):c===this.BD&&(d.innerHTML=f+1+"",z.T.add(a,"zm-favo-list-item-link-active"))},this),this.BD=this.ED=null,z.en("Favorite","add_favorite")):z.U("\u6dfb\u52a0\u5931\u8d25: "+a.msg)};
z.e.$j=function(){this.ic();this.Qv.innerHTML="\u5173\u95ed";this.pa?(z.R(this.$q,!1),qA(this,0)):(qA(this,1),z.R(this.TA,!1),this.$q.innerHTML="\u53d6\u6d88")};z.e.show=function(a){a?(pA(this),this.xa.F(!0),this.$j()):(lA(this,"\u6dfb\u52a0\u5230\u6536\u85cf\u5939",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e\u6536\u85cf\u5939\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.xa.F(!0),this.Rr())};
z.e.Rr=function(){this.pa&&window.$.get("/collections/json",{answer_id:this.pa}).done((0,z.r)(this.dR,this))};z.e.dR=function(a){a&&!a.r&&(this.My=a.msg[0],this.Xs=a.msg[1],pA(this),this.$j())};
z.e.Wg=function(){if(!this.xhr||!this.xhr.Ub()){var a=z.Qm(this.Mj.value);if(a&&a!==this.gB){a=rA(this);this.pa&&a.add("answer_id",this.pa);if(this.Is){if(this.YO.Bd()===a.Bd()){tA(this);return}a.add("favlist_id",this.DD[0])}this.xhr=new z.V(!0);this.v().Ba(this.xhr,"complete",this.rK);this.xhr.ajax(this.Is?"/collection/update":"/collection/create",a.Bd())}else z.R(this.fB,!0)}};
z.e.rK=function(){var a=z.fe(this.xhr);a&&!a.r?this.Is?(tA(this),z.U("\u7f16\u8f91\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Is=!1):this.pa?(z.R(this.fv,!1),z.R(this.mC,!0),qA(this,0),this.Xs.push(a.msg[0]),mA(this,a.msg,!0),this.Mj.value="",this.Tl.value=""):(tA(this),z.U("\u521b\u5efa\u6210\u529f"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):z.U(a.msg)};z.e.T=function(){return this.xa.T()};var uA="close";
kA.prototype.ff=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.r)(function(){return"\u4f60\u5bf9\u6536\u85cf\u5939\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};kA.prototype.Mf=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.v(yA,z.H);yA.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.xb;if("mousewheel"==a.type){c=1;if(z.C||z.D&&(z.Am||z.E("532.0")))c=40;d=zA(-a.wheelDelta,c);z.ba(a.wheelDeltaX)?(b=zA(-a.wheelDeltaX,c),c=zA(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ba(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.ha(this.BG)&&(b=xw(b,-this.BG,this.BG));z.ha(this.CG)&&(c=xw(c,-this.CG,this.CG));this.AP&&(b=-b);b=new AA(d,a,b,c);this.dispatchEvent(b)};
yA.prototype.C=function(){yA.o.C.call(this);z.Uc(this.nG);this.nG=null};z.v(AA,z.vc);z.v(BA,z.H);z.e=BA.prototype;z.e.je=0;z.e.No=0;z.e.Ko=100;z.e.Mn=0;z.e.qk=1;z.e.RF=!1;z.e.jt=!1;z.e.Ea=function(a){a=CA(this,a);this.je!=a&&(this.je=a+this.Mn>this.Ko?this.Ko-this.Mn:a<this.No?this.No:a,this.RF||this.jt||this.dispatchEvent("change"))};z.e.W=function(){return CA(this,this.je)};z.e.au=function(a){a=CA(this,a);this.Mn!=a&&(this.Mn=0>a?0:this.je+a>this.Ko?this.Ko-this.je:a,this.RF||this.jt||this.dispatchEvent("change"))};
z.e.$h=function(){var a=this.Mn;return null==this.qk?a:Math.round(a/this.qk)*this.qk};z.e.Gc=function(){return CA(this,this.No)};z.e.Tc=function(){return CA(this,this.Ko)};z.e.Wn=function(){return this.qk};z.v(DA,z.S);z.e=DA.prototype;z.e.Gb="horizontal";z.e.Gs=!1;z.e.pQ=!1;z.e.Gf=10;z.e.gt=0;z.e.UF=!0;z.e.ht=0;z.e.ZJ=1E3;z.e.kc=!0;z.e.Yd=!1;z.e.B=function(){DA.o.B.call(this);var a=this.M().B("DIV",this.R(this.Gb));this.ga(a)};z.e.ga=function(a){DA.o.ga.call(this,a);z.Jg(a,this.R(this.Gb));a=this.m();var b=z.Ae(null,"goog-slider-thumb",a)[0];b||(b=this.M().B("DIV","goog-slider-thumb"),z.Ag(b,"button"),a.appendChild(b));this.ab=this.zd=b;z.Ag(this.m(),"slider");TA(this)};
z.e.D=function(){DA.o.D.call(this);this.ie=new z.Ih(this.ab);this.Tf=new z.Ih(this.zd);this.ie.Pf(this.Yd);this.Tf.Pf(this.Yd);this.ie.jw=this.Tf.jw=z.m;this.vb=new z.tj(this.m());EA(this,!0);this.m().tabIndex=0;NA(this)};z.e.nb=function(){DA.o.nb.call(this);z.jc(this.ie,this.Tf,this.vb,this.Sj)};
z.e.Vr=function(a){var b=a.zr==this.ie?this.ab:this.zd,c;"vertical"==this.Gb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Tc()-this.Gc())+this.Gc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Tc()-this.Gc())+this.Gc();c=a.zr==this.ie?Math.min(Math.max(c,this.Gc()),this.W()+this.$h()):Math.min(Math.max(c,this.W()),this.Tc());LA(this,b,c)};
z.e.gs=function(a){var b="start"==a.type;z.Ng(this.m(),"goog-slider-dragging",b);z.Ng(a.target.handle,"goog-slider-thumb-dragging",b);a=a.zr==this.ie;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.lf=function(a){var b=!0;switch(a.keyCode){case 36:RA(this,this.Gc());break;case 35:RA(this,this.Tc());break;case 33:JA(this,this.Gf);break;case 34:JA(this,-this.Gf);break;case 37:var c=this.Yd&&this.Ed()?1:-1;JA(this,a.shiftKey?c*this.Gf:c*this.Zp);break;case 40:JA(this,a.shiftKey?-this.Gf:-this.Zp);break;case 39:c=this.Yd&&this.Ed()?-1:1;JA(this,a.shiftKey?c*this.Gf:c*this.Zp);break;case 38:JA(this,a.shiftKey?this.Gf:this.Zp);break;default:b=!1}b&&a.preventDefault()};
z.e.ds=function(a){this.m().focus&&this.m().focus();var b=a.target;z.ff(this.ab,b)||z.ff(this.zd,b)||(b="click"==a.type,b&&(0,z.w)()<this.ht+this.ZJ||(b||(this.ht=(0,z.w)()),this.pQ?RA(this,HA(this,a)):(this.VA(a),this.Te=MA(this,HA(this,a)),this.DF="vertical"==this.Gb?this.Qs<this.Te.offsetTop:this.Qs>QA(this,this.Te)+this.Te.offsetWidth,a=z.ye(this.m()),this.v().g(a,"mouseup",this.UA,!0).g(this.m(),"mousemove",this.VA),this.hi||(this.hi=new z.$c(200),this.v().g(this.hi,z.Qk,this.kF)),this.kF(),
this.hi.start())))};z.e.$E=function(a){JA(this,(0<a.detail?-1:1)*this.Zp);a.preventDefault()};z.e.kF=function(){var a;if("vertical"==this.Gb){var b=this.Qs,c=this.Te.offsetTop;this.DF?b<c&&(a=IA(this,this.Te)+this.Gf):b>c+this.Te.offsetHeight&&(a=IA(this,this.Te)-this.Gf)}else b=this.Qs,c=QA(this,this.Te),this.DF?b>c+this.Te.offsetWidth&&(a=IA(this,this.Te)+this.Gf):b<c&&(a=IA(this,this.Te)-this.Gf);z.ba(a)&&LA(this,this.Te,a)};
z.e.UA=function(){this.hi&&this.hi.stop();var a=z.ye(this.m());this.v().na(a,"mouseup",this.UA,!0).na(this.m(),"mousemove",this.VA)};z.e.VA=function(a){this.Qs=GA(this,a)};z.e.Gc=function(){return this.zb.Gc()};z.e.Tc=function(){return this.zb.Tc()};z.e.eF=function(){NA(this);TA(this);this.dispatchEvent("change")};z.e.BM=function(){this.Gs=!1};
z.e.setOrientation=function(a){if(this.Gb!=a){var b=this.R(this.Gb),c=this.R(a);this.Gb=a;this.m()&&(a=this.m(),z.Ig(a,b)&&(z.Lg(a,b),z.Jg(a,c)),b=this.Yd&&this.Ed()?"right":"left",this.ab.style[b]=this.ab.style.top="",this.zd.style[b]=this.zd.style.top="",this.Wb&&(this.Wb.style[b]=this.Wb.style.top="",this.Wb.style.width=this.Wb.style.height=""),NA(this))}};
z.e.C=function(){DA.o.C.call(this);this.hi&&this.hi.H();delete this.hi;this.lr&&this.lr.H();delete this.lr;delete this.ab;delete this.zd;this.Wb&&delete this.Wb;this.zb.H();delete this.zb;this.vb&&(this.vb.H(),delete this.vb);this.Sj&&(this.Sj.H(),delete this.Sj);this.ie&&(this.ie.H(),delete this.ie);this.Tf&&(this.Tf.H(),delete this.Tf)};z.e.Zp=1;z.e.Wn=function(){return this.zb.Wn()};z.e.W=function(){return this.zb.W()};z.e.Ea=function(a){LA(this,this.ab,a)};z.e.$h=function(){return this.zb.$h()};
z.e.au=function(a){LA(this,this.zd,this.zb.W()+a)};z.e.F=function(a){z.R(this.m(),a);a&&NA(this)};z.e.Ya=function(a){this.kc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.kc=a,EA(this,a),a||this.UA(),z.Ng(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.kc};z.v(UA,DA);UA.prototype.R=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.v(VA,z.S);z.e=VA.prototype;z.e.defaults={oD:310,pD:310,lg:250,mg:250,fQ:2,opacity:.25,nX:"#eee"};z.e.ga=function(a){VA.o.ga.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.Sm=(this.options.oD-this.options.lg)/2;this.options.Rm=(this.options.pD-this.options.mg)/2;this.ir()};
z.e.ir=function(){var a=this.options;this.GB=(0,window.$)((0,z.Fp)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"\u62d6\u52a8\u76f8\u7247"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.pD,
containerHeight:a.oD,windowHeight:a.lg,windowWidth:a.mg,windowMarginTop:a.Sm,windowMarginLeft:a.Rm,src:a.src,opacity:a.opacity}));this.cc=this.GB[0];this.GB.insertBefore(this.h);z.R(this.h,!1);this.RL=z.N("avatar-editor-container-inner",this.cc);this.ss=z.N("outer",this.cc);this.Zx=z.N("inner",this.cc);this.Vm=(0,window.$)(this.ss);this.Ru=(0,window.$)(this.Zx);this.BF=0;this.Vm.load((0,z.r)(this.gJ,this));this.Ru.load((0,z.r)(this.gJ,this));this.Zx.src=this.ss.src=this.options.src;this.PT=z.N("goog-slider",
this.cc)};
z.e.D=function(){this.MA=new UA;this.MA.w(this.PT);this.v().g(this.RL,["mousedown","touchstart"],function(a){var b=new z.Ih(this.cc);b.addEventListener("drag",(0,z.r)(function(a){var b=this.zoom;this.Le={gq:this.options.mg/b,Xn:this.options.lg/b,x:(this.options.Rm-(this.JF.left+(a.clientX-this.hu)))/b,y:(this.options.Sm-(this.JF.top+(a.clientY-this.iu)))/b};YA(this)},this));b.addEventListener("end",(0,z.r)(function(){b.H()},this));b.Km(a);this.Km(a)});this.v().g(this.cc,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.v().g(this.MA,"change",function(){var a=this.MA.W(),b=this.KJ;WA(this,(this.bV-b)*a/100+b)})};z.e.gJ=function(){this.XO||(this.Zx.complete&&this.ss.complete?this.init():(this.BF++,2<=this.BF&&this.init()))};z.e.init=function(){this.rs=this.Vm.width();this.qs=this.Vm.height();var a=this.options.mg/this.rs,b=this.options.lg/this.qs;this.KJ=a=b>a?b:a;this.bV=this.KJ*this.options.fQ;this.Le={Xn:this.options.mg/a,gq:this.options.lg/a,x:0,y:0};WA(this,a);XA(this,this.rs/2,this.qs/2);this.XO=!0};
z.e.Km=function(a){this.hu=a.clientX;this.iu=a.clientY;this.JF=this.Ru.position();this.Vm.position()};z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.v(ZA,z.S);var $A=1;z.e=ZA.prototype;z.e.ga=function(a){this.h=a;this.B()};
z.e.B=function(){this.rB=z.Zr.yu+"/upload_avatar";this.zk=(0,window.$)((0,z.Fp)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.rB,
type:this.Jq,dest_id:this.Jq===$A?z.Y[3]:this.iE,return_size:this.gI}));this.QJ=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.QJ.appendTo(window.document.body);this.input=this.zk.find("input[type\x3dfile]")[0];z.C?(this.zk.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.zk),this.zk.addClass("avatar-editor-form-ie")):(this.zk.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.v().g(this.input,"change",this.Ic).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.v().g(z.X,"iframe_data",function(a){(a=a.vf)&&!a.r?"upload"===a.handle_mode?(this.Ml=a.url,this.Yx=a.id,aB()||this.Zo()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.yD(a)):z.U(a.msg)})};
z.e.Ic=function(a){bB(this);a=this.input=a.target;if(aB()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.r)(function(a){this.Ml=a.target.result;this.Zo()},this);b.readAsDataURL(a)}}else this.zk[0].submit();eB(this)};z.e.Zo=function(){var a=this.bf.Z();this.Xx=new window.Image;this.Xx.src=this.Ml;a=(0,window.$)(a);a.html("");a.append(this.Xx);this.bw=new VA;this.bw.w(this.Xx)};
z.e.yD=function(a){a&&!a.r?this.data=a:z.U(a.msg);this.dispatchEvent({type:"success",src:this.data});this.bf.F(!1)};z.e.getData=function(){return this.data||null};z.e.nl=function(a){return this.data?this.data.url.replace(/(\.\w+)$/,"_"+a+"$1"):""};z.v(gB,z.S);z.e=gB.prototype;z.e.ga=function(a){gB.o.ga.call(this,a);this.me=(0,window.$)("input",a);this.ud=(0,window.$)(".zm-profile-details-items",this.h);this.rq=[];var b=this;b.rq=this.me.map(function(){var a=new iB("/topic/autocomplete",this,b.aS||(0,window.$)(this).parents(".topic-input-wrap")[0]);a.cn=!1;var d=(0,z.r)(b.filter,b);a.filter=d;return a});this.sm()};
z.e.D=function(){this.v().g(z.N("add",this.h),"click",this.add);var a=this;this.me.each(function(){a.v().g(this,"keydown",function(a){this.keydown(a)})});z.y.forEach(this.rq,function(b){a.v().g(b.N,z.yk,a.select)});this.ud.on("click","[name\x3d'del']",window.$.proxy(this.remove,this));this.sm()};
z.e.sm=function(){if(!z.Zr.Ob){var a=this;this.Nf&&this.Nf.H();var b=new Fv;b.Ar=(0,z.Ya)("profile-edit-item-moving").split(" ");Gv(b,this.ud[0],0);b.init();this.Nf=b;(0,window.$)('a, input, [role\x3d"button"]',this.ud).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})})}};z.e.keydown=function(a){13===a.keyCode&&(0,window.setTimeout)((0,z.r)(function(){hB(this)&&this.add();this.me[0].value&&this.me[1]&&!this.me[1].value&&this.me[1].focus()},this));return!0};
z.e.lp=function(){z.y.forEach(this.me,function(a){a.value=""});this.me[0].focus()};z.e.select=function(){hB(this)&&this.add()};z.e.add=function(){var a=(0,z.Ya)(this.me[0].value),b={title:a,member_url_token:z.Sp["1"]};if(this.me[1]){var c=(0,z.Ya)(this.me[1].value);if(!a&&!c)return;b.sub_title=c}Mv("ProfileEditItemV2",b,this.xQ,this)};
z.e.xQ=function(a){a=(0,window.$)(a);var b;if(a.data("title")){if(b=this.ud.find("[data-title\x3d'"+a.data("title")+"']")[0]){z.Vm(b);this.lp();return}}else if(a.data("sub-title")&&(b=this.ud.find("[data-sub-title\x3d'"+a.data("sub-title")+"']")[0])){z.Vm(b);this.lp();return}this.ud.append(a);this.sm();this.lp();this.dispatchEvent("add")};z.e.remove=function(a){(0,window.$)(a.target).parents("li").remove();this.dispatchEvent("remove")};
gB.prototype.filter=function(a){return z.y.filter(a,function(a){return!this.ud.find("[data-title\x3d'"+a+"']")[0]},this)};z.v(iB,z.Il);iB.prototype.rm=function(a,b){a=a[0].slice(1);a=z.y.filter(a,function(a){return 3<a.length});a=z.y.map(a,function(a){return a[1]});this.filter&&(a=this.filter(a));iB.o.rm.call(this,a,b)};z.v(jB,z.S);z.e=jB.prototype;z.e.ga=function(a){jB.o.ga.call(this,a);kB(this);this.X=[];var b=this;(0,window.$)(".editable-group",this.h).each(function(){var a=new gB;b.X.push(a);a.w(this)});a=z.M("zm-profile-edit-submit");this.v().g(a,"click",this.wz);(0,window.$)(this.h).on("change","input, textarea, select",function(){b.ff()})};
z.e.D=function(){jB.o.D.call(this);z.mm(z.m,!0)();var a=z.M("zm-profile-progress-anim"),b=new lB;b.addEventListener("update",function(){var c=100*b.W()|0;10>c&&(c=10);a.style.width=a.innerHTML=c+"%"});z.y.forEach(this.X,function(a,c){b.watch({name:"name"+c,target:a,Xh:["add","remove"],Oh:function(){return!!a.ud.children().length}})},this);var c=this.h,d=z.M("zm-profile-edit-male"),f=z.M("zm-profile-edit-female"),g=z.M("zm-profile-edit-description"),h=(0,window.$)(".business-selection select")[0],
l=z.M("zm-profile-edit-expert-disable");b.watch({name:"expert_progress",target:z.M("zm-profile-edit-expert-enable"),Xh:["change"],Oh:function(){return null!==wA(c,"enable_expert")}}).watch({name:"expert_progress",target:l,Xh:["change"],Oh:function(){return null!==wA(c,"enable_expert")}}).watch({name:"gender_progress",target:d,Xh:["change"],Oh:function(){return null!==wA(c,"gender")}}).watch({name:"gender_progress",target:f,Xh:["change"],Oh:function(){return null!==wA(c,"gender")}}).watch({name:"desc_progress",
target:g,Xh:["blur"],Oh:function(){return!!(0,z.Ya)(g.value)}}).watch({name:"business_progress",target:g,Xh:["blur"],Oh:function(){return!!(0,z.Ya)(g.value)}}).watch({name:"headline_progress",target:h,Xh:["blur"],Oh:function(){return!!(0,z.Ya)(h.value)}})};z.e.ff=function(){(0,window.$)(window).on("beforeunload.profileedit",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Mf=function(){(0,window.$)(window).off("beforeunload.profileedit")};
z.e.wz=z.mm(function(){var a=(0,window.$)("#zm-profile-edit-male").is(":checked")?1:0,b=(0,window.$)("#zm-profile-edit-headline").val(),c=(0,window.$)("#zm-profile-edit-description").val(),d=(0,window.$)(".business-selection select").val(),f=[];(0,window.$)("#zm-profile-edit-loc-container").children().each(function(){f.push((0,window.$)(this).data("title"))});var g=[];(0,window.$)("#zm-profile-edit-co-container").children().each(function(){var a=(0,window.$)(this);g.push([a.data("title"),a.data("sub-title")||
""])});var h=[];(0,window.$)("#zm-profile-edit-edu-container").children().each(function(){var a=(0,window.$)(this);h.push([a.data("title"),a.data("sub-title")||""])});var l=(0,window.$)("#zm-profile-edit-weibo-enable").is(":checked")?1:0,n=(0,window.$)("#zm-profile-edit-expert-enable").is(":checked")?1:0,a=z.A.filter({gender:a,headline:b,description:c,location:f,business:d,employment:g,education:h,enable_weibo:l,enable_expert:n},ev);xA(a,(0,z.r)(function(){this.Mf();window.location.href="/people/"+
z.Y[1]+"/about"},this),function(a){z.U(z.fa(a)?a[0][1]:a)})},!0);z.v(lB,z.H);lB.prototype.update=function(a,b){this.CH[a]=b;this.dispatchEvent({type:"update"});return this};lB.prototype.watch=function(a){var b=(0,z.r)(function(){this.update(a.name,a.Oh())},this);z.G(a.target,a.Xh,b);b();return this};lB.prototype.W=function(){var a=z.A.Oa(this.CH);return a.length&&z.y.filter(a,Boolean).length/a.length};z.v(mB,z.S);mB.prototype.ga=function(a){mB.o.ga.call(this,a);this.K=(0,window.$)(a);this.K.on("click",'a[href^\x3d"javascript"]',window.$.proxy(this.Ma,this));this.K.on("click",'a[href^\x3d"javascript"], input',!1);this.K.on("click",".item",window.$.proxy(this.OR,this))};mB.prototype.OR=function(a){var b=(0,window.$)(a.currentTarget),c=b.data("href"),b=c&&!b.hasClass(this.aj);a=a.metaKey||a.ctrlKey;b&&(a?window.open(c):window.location.href=c)};
mB.prototype.Ma=function(a){var b=(0,window.$)(a.currentTarget),c=b.closest(".item");a=b.attr("name");if("edit"===a)b.closest(".description").hide().siblings(".description-edit").show().find("input").focus().closest(".item").addClass(this.aj).closest(".skilled-topics").addClass(this.aj),nB(this,c);else if("cancel"===a)b.closest(".description-edit").hide().siblings(".description").show().closest(".item").removeClass(this.aj).closest(".skilled-topics").removeClass(this.aj),nB(this,c,!0);else if("save"===
a){var d=new z.V(!0);this.v().g(d,"success",function(){var a=z.fe(d);a.r?z.U(a.msg):(b.closest(".description-edit").hide().siblings(".description").show().children(".des").text(a.msg).siblings(".edit").addClass("zu-edit-button").children(".edit-msg").html("\u4fee\u6539").closest(".item").removeClass(this.aj).closest(".skilled-topics").removeClass(this.aj),nB(this,c,!0))});d.ajax("/topic/bio/update","tid\x3d"+b.closest(".item").data("id")+"\x26bio\x3d"+b.parent().siblings("input").val(),"POST")}};z.v(oB,z.S);
oB.prototype.ga=function(a){oB.o.ga.call(this);if(a){this.K=(0,window.$)(a);var b=(0,window.$)(".avatar",this.K);(0,window.$)(".editable-group",this.K).each(function(){(new pB).w(this)});(a=z.M("profile-header-description-input"))&&new z.on(a);if((a=z.N("zm-profile-header-avatar-container"))&&z.T.has(a,"self")){var c=new ZA($A);c.w(a);this.v().g(c,"beforepost",function(){b.parent().append((0,window.$)('\x3cdiv class\x3d"avatar-edit-preview-loading"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e'))});this.v().g(c,
"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:c.getData().url}}},function(a){if(a&&a.r){(0,window.$)(".avatar-edit-preview-loading").remove();for(var f="\u66f4\u65b0\u5931\u8d25",g=0;g<a.msg.length;++g){var h=a.msg[g];if(2<=h.length&&"avatar_path"===h[0]){f=h[1];break}}z.U(f)}else(0,window.$)(".avatar-edit-preview-loading").remove(),b.attr({src:c.nl("l"),srcset:c.nl("xl")+" 2x"})})})}}};z.v(pB,z.S);
pB.prototype.ga=function(a){pB.o.ga.call(this);this.K=(0,window.$)(a);this.le=(0,window.$)(".info-wrap",this.K);this.Nd=(0,window.$)(".edit-wrap",this.K);(0,window.$)(".title",this.le);this.Su=(0,window.$)("input",this.Nd)};
pB.prototype.D=function(){pB.o.D.call(this);this.K.on("click","[name\x3d'edit']",z.mm(window.$.proxy(function(){this.K.addClass("editing");var a=this.Nd.find("input").get(0);a?a.focus():(a=this.Nd.find("textarea").get(0))&&a.focus()},this),!0));var a=this;this.rq=[];(0,window.$)("input[type\x3dtext]",this.K).each(function(){var b=new iB("/topic/autocomplete",this,(0,window.$)(this).parents(".topic-input-wrap")[0]);a.rq.push(b)});this.Nd.on("keydown","input",function(a){13===a.keyCode&&(0,window.setTimeout)(function(){var b=
(0,window.$)(a.target),f=b.parents(".edit-wrap").children().index(b.parent()),g=b.parents(".edit-wrap").find("input, select").get(f+1),f=b.parents(".edit-wrap").find("input, select").get(f-1);b.val()&&(g?g.focus():f&&!(0,window.$)(f).val()&&f.focus())})});this.Nd.on("click","[name\x3d'cancel'], [name\x3d'save']",window.$.proxy(function(a){a=a.target.name;"cancel"===a?this.cancel():"save"===a&&this.save()},this));var b=(0,window.$)(".fold-wrap");b.click(function(a){"fold"===a.target.name?b.addClass("fold"):
"unfold"===a.target.name&&b.removeClass("fold")})};
pB.prototype.save=function(){var a=this,b=this.K.data("name");if("location"===b){var b=this.Nd.find("input.location"),c=this.Nd.find("select"),d=this.Nd.find("input.male").is(":checked")?1:0;window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{location:[b.val()],business:c.val(),gender:d}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.location[0].html||(b.location[0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5c45\u4f4f\u5730\x3c/a\x3e"),b.business.html||
(b.business.html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u884c\u4e1a\x3c/a\x3e"),a.le.find("span.location").attr("title",b.location[0].text).html(b.location[0].html),a.le.find("span.business").attr("title",b.business.text).html(b.business.html),b=1===(0,window.parseInt)(b.gender,10)?"male":"female",a.le.find("span.gender i").removeClass("icon-profile-female icon-profile-male").addClass("icon-profile-"+b),a.cancel())})}else"employment"===b?(c=
this.Nd.find("input.employment"),b=this.Nd.find("input.position"),c=c.val(),b=b.val(),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{employment:[[c,b]]}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.employment[0][0].text||b.employment[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.employment[0][0].html||(b.employment[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u516c\u53f8\u4fe1\u606f\x3c/a\x3e"),b.employment[0][1].html||
(b.employment[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u804c\u4f4d\x3c/a\x3e"),a.le.find(".employment").attr("title",b.employment[0][0].text).html(b.employment[0][0].html),a.le.find(".position").attr("title",b.employment[0][1].text).html(b.employment[0][1].html),a.cancel())})):"education"===b?(c=[this.Nd.find("input.education"),this.Nd.find("input.education-extra")],b=c[0].val(),c=c[1].val(),window.$.post("/node/ProfileHeaderV2",{method:"save",
params:{data:{education:[[b,c]]}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.education[0][0].text||b.education[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.education[0][0].html||(b.education[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5b66\u6821\u4fe1\u606f\x3c/a\x3e"),b.education[0][1].html||(b.education[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e13\u4e1a\x3c/a\x3e"),
a.le.find(".education").attr("title",b.education[0][0].text).html(b.education[0][0].html),a.le.find(".education-extra").attr("title",b.education[0][1].text).html(b.education[0][1].html),a.cancel())})):"description"===b&&(b=this.Nd.find("textarea.description"),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{description:b.val()}}},function(b){b&&b.r?z.U(b.msg):(b=b.msg,b.description.text?a.K.removeClass("empty"):(b.description.fold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",
b.description.unfold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",a.K.addClass("empty")),a.le.find(".fold-item .content").empty().html(b.description.fold_html),a.le.find(".unfold-item .content").html(b.description.unfold_html),b.description.shortened?a.le.removeClass("disable-fold"):a.le.addClass("disable-fold"),a.cancel())}))};pB.prototype.cancel=function(){this.K.removeClass("editing")};z.v(qB,z.kk);z.e=qB.prototype;z.e.init=function(a){this.cc=a;this.v().g(a,"click",this.Ma);this.refresh()};z.e.yi=function(a){this.Qg=a};
z.e.Ma=function(a){if(a.target){var b=z.bn(this.cc,a.target);b&&(this.type=b.getAttribute("data-type"),this.id=b.getAttribute("data-id"),this.action=b.name,this.item=z.Af(a.target,this.Qg),this.type&&this.id&&this.action&&this.item&&!this.JJ&&(this.JJ=!0,this.xhr=new z.V(!0),this.v().g(this.xhr,"complete",this.Vg),this.xhr.ajax("/people/"+("top"===this.action?"pin":"unpin")+"_"+this.type,this.type+"_id\x3d"+this.id,"POST")))}};
z.e.Vg=function(){if("cancel-top"===this.action)z.Om(this.item,!0);else if("top"===this.action){var a=z.Ce(this.Qg,this.cc);z.jh(this.item);a&&2<=a.length&&z.Ue(z.Q(this.item),z.N(this.Qg,this.cc));this.scroll();z.Vm(this.item);a=z.N("zm-item-top-btn-top",this.item);z.R(a,!1);a=z.N("zm-item-top-btn-cancel",this.item);z.R(a,!0);this.refresh()}this.JJ=!1};z.e.scroll=function(){if(this.gT){var a=z.N("zm-profile-section-wrap"),b=z.Df(z.L((z.t||window).document)).y;a&&0>z.jh(a).y-b&&a.scrollIntoView()}};
z.e.refresh=function(){var a=z.Ce(this.Qg,this.cc);a&&0<a.length&&z.y.forEach(a,function(a,c){if(0!==c){var d=z.N("zm-item-top-btn-top",a);d&&z.R(d,!0)}},this)};z.v(sB,z.S);sB.prototype.D=function(){this.v().g(this.h,"click",this.Ma)};sB.prototype.Ma=function(a){var b=z.bn(this.h,a.target);this.tn&&this.tn(b);b&&b.name&&"focus"===b.name&&(0,z.cu)(b,this.Zw,function(){b.getAttribute("data-followme")&&(z.T.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$\u5bf9\u65b9\u5df2\u5173\u6ce8\u4f60"):b.setAttribute("data-tip","s$b$\u5df2\u4e92\u76f8\u5173\u6ce8"))},this.Yw,{xW:"question"===this.Zw?"\u5173\u6ce8\u95ee\u9898":null})};
sB.prototype.uI=function(a){this.tn=a};z.v(z.tB,z.H);z.tB.prototype.handleEvent=function(a){if("input"==a.type)z.C&&z.E(10)&&0==a.keyCode&&0==a.charCode||(uB(this),this.dispatchEvent(vB(a)));else if("keydown"!=a.type||ww(a)){var b="keydown"==a.type?this.h.value:null;z.C&&229==a.keyCode&&(b=null);var c=vB(a);uB(this);this.ma=z.bd(function(){this.ma=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.tB.prototype.C=function(){z.tB.o.C.call(this);this.S.H();uB(this);delete this.h};z.v(wB,z.H);var xB=0;wB.prototype.nz=function(){this.Sk()};wB.prototype.Sk=function(){var a=this.Vh.value.length;if(a>this.dt){var b=this.Vh.scrollTop,c=this.Vh.scrollLeft;this.Vh.value=this.Vh.value.substring(0,this.dt);a=this.dt;this.Vh.scrollTop=b;this.Vh.scrollLeft=c}this.cE&&z.lf(this.cE,String(1==this.pM?a:this.dt-a))};wB.prototype.C=function(){wB.o.C.call(this);delete this.Vh;this.my.H();this.my=null};var FB;z.v(yB,z.kk);z.e=yB.prototype;z.e.init=function(){this.Es||(this.Es=!0,this.B(),this.ic())};z.e.ic=function(){z.C||(new z.vn("\u641c\u7d22\u95ee\u9898")).w(this.Zc);this.X=new z.En("/redirect-question/autocomplete",this.Zc,null,null,z.M("zh-question-redirect-diag-content"),!1);this.X.cn=!1;this.X.nh(!0);this.v().g(this.X,"suggestionsupdate",z.mn);this.v().g(this.X,"select",this.uR).g(this.hL,"click",function(){this.xa.F(!1)})};
z.e.uR=function(){var a=this.X.nj();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.Zc.value="";var b=a[3],a=a[1];this.xa.F(!1);this.Zc.value="";this.xhr=new z.V(!0);this.v().Ba(this.xhr,"complete",this.AK);this.xhr.ajax("/question/redirect","qid\x3d"+this.oa+"\x26rqid\x3d"+b);this.St=b;this.MH=a}};
z.e.AK=function(){var a=z.fe(this.xhr);a&&(a.r?z.U(a.msg):this.Ni?(this.Ni.innerHTML="\u5df2\u7ecf\u91cd\u5b9a\u5411",this.Ni.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.P("div",{id:"zh-question-redirect-diag"},["\u5c06\u95ee\u9898\u8df3\u8f6c\u81f3",z.P("div",{id:"zh-question-redirect-diag-content"},this.Zc=z.P("input",{type:"text","class":"zg-form-text-input"})),z.P("div","zm-command",this.hL=z.P("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"\u653e\u5f03\u64cd\u4f5c"))]);this.xa=new z.Ai(null,!1);this.xa.kb("\u95ee\u9898\u91cd\u5b9a\u5411");z.ui(this.xa,null);this.xa.Z().appendChild(this.h)};
z.e.show=function(){this.init();this.xa.F(!0)};var CB={},CB=function(){z.H.call(this)};z.v(CB,z.kk);
CB.Yu=[["\u9700\u8981\u8be6\u7ec6\u9610\u8ff0","\u7b54\u6848\u8fc7\u4e8e\u7b80\u77ed\u6216\u8868\u8ff0\u4e0d\u6e05\u6670\uff0c\u8bf7\u5b8c\u5584\u7b54\u6848\u3002"],["\u7b54\u975e\u6240\u95ee","\u6ca1\u6709\u6b63\u9762\u6216\u76f4\u63a5\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5e94\u4f5c\u4e3a\u95ee\u9898\u7684\u8bc4\u8bba","\u8be5\u5185\u5bb9\u662f\u5bf9\u95ee\u9898\u672c\u8eab\u7684\u8bc4\u8bba\u800c\u4e0d\u662f\u56de\u7b54\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5e94\u4f5c\u4e3a\u7b54\u6848\u7684\u8bc4\u8bba",
"\u8be5\u5185\u5bb9\u662f\u5bf9\u53e6\u5916\u4e00\u4e2a\u7b54\u6848\u7684\u8bc4\u8bba\u6216\u56de\u5e94\uff0c\u800c\u4e0d\u662f\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5185\u5bb9\u91cd\u590d","\u4e0e\u5df2\u6709\u7b54\u6848\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5185\u5bb9\u5df2\u8fc7\u671f","\u7b54\u6848\u7684\u65f6\u6548\u6027\u5df2\u8fc7\uff0c\u8bf7\u66f4\u65b0\u7b54\u6848\u3002"],["\u9700\u8981\u6ce8\u660e\u5173\u8054\u5229\u76ca",
"\u6709\u5e7f\u544a\u3001\u63a8\u9500\u5acc\u7591\uff0c\u8bf7\u6ce8\u660e\u4f5c\u8005\u4e0e\u5229\u76ca\u65b9\u7684\u5173\u7cfb\u3002"]];CB.Fj=null;CB.U=function(){CB.Fj||(CB.Fj=new CB,CB.Fj.init());return CB.Fj};z.e=CB.prototype;z.e.init=function(){if(!this.h){this.B();this.ic();var a=new z.Jq(this.h);z.ci(a);a.uF=!0;a.kk(!0);a.F(!1);a.Oz=0;a.T()&&a.ba();z.Su(a,new z.Sg(13,0,0,-22));this.Nz=a}};z.e.ic=function(){this.v().g(this.h,"click",this.rR)};
z.e.rR=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.$L.wW(a),this.Nz.F(!1))};
z.e.B=function(){var a=z.P("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.P("div","zg-r5px zu-hovercard-inner",[z.P("div",{id:"zh-answer-flag-popup-header"},[z.P("a",{"class":"zg-right",href:"/question/19867017",target:"_blank"},"\u8fd9\u662f\u4ec0\u4e48\uff1f"),"\u9009\u62e9\u4e00\u4e2a\u7406\u7531\uff1a"]),this.tH=z.P("div",{id:"zh-answer-flog-options-wrap"})]),z.P("div","zu-hovercard-spin-top")]);z.y.forEach(CB.Yu,function(a,c){var d=z.P("a",{href:"javascript:;","class":"zm-menu-item-link"},
a[0]);d.setAttribute("data-index",c);this.tH.appendChild(d)},this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.Nz.setPosition(new z.Hq(a,1));zB(this,b.BW());this.Nz.F(!0);this.$L=b};var EB;z.v(AB,z.kk);AB.prototype.init=function(){this.B();BB(this)};
AB.prototype.B=function(){this.h=z.P("div",null,[z.P("div","zg-section",[z.P("div",null,"\u6807\u8bb0\uff1a"),this.jl=z.P("select")]),z.P("div",null,[z.P("div",null,"\u539f\u56e0"),this.Vz=z.P("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.vn=z.P("div","zm-command",[z.P("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"\u53d6\u6d88"),z.P("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"\u786e\u5b9a")])]);this.jl.appendChild(z.P("option",
{value:"no"},"\u9009\u62e9\u6807\u8bb0\u539f\u56e0"));z.y.forEach(CB.Yu,function(a,b){this.jl.appendChild(z.P("option",{value:b},a[0]))},this);this.xa=new z.Ai(null,!1);this.xa.kb("\u6807\u8bb0\u7b54\u6848");z.ui(this.xa,null);this.xa.Z().appendChild(this.h)};AB.prototype.show=function(){this.xa.F(!0)};z.v(HB,z.S);z.e=HB.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){HB.o.D.call(this);TB();RB(this);QB(this);YB(this);SB(this);XB(this);WB();UB(this);aC();cC(this);IB(this);PB(this);JB(this);LB(this);MB(this);NB(this);OB(this);KB(this);this.ro();-1<window.location.search.indexOf("clean-followers-noti\x3d1")&&(new z.V(!0)).ajax("/notification/clear","no_refresh_content\x3dtrue\x26type\x3dfollow");(0,window.$)("#__signin").click(function(){(new z.Fr).F(!0)});(0,window.$)(".zm-profile-header-user-edit").click(z.mm(z.m,!0))};
z.e.oU=function(){z.Gi("\u786e\u5b9a","\u786e\u5b9a\u8981\u5f3a\u5236\u6b64\u7528\u6237\u6539\u540d\u5417\uff1f",function(a){if(a&&(z.M("realname_form").submit(),this.$w.innerHTML="\u5df2\u53d1\u9001",z.T.add(this.$w,"zg-gray"),a=this.$w))if(z.Bc(a))a.Vd&&a.Vd.removeAll(void 0);else if(a=z.Lc(a)){var b=0,c;for(c in a.oc)for(var d=a.oc[c].concat(),f=0;f<d.length;++f)z.Uc(d[f])&&++b}},this)};
z.e.ro=function(){this.Bj();var a=z.M("zm-profile-header-pm-btn");a&&z.G(a,"click",z.nb(function(a){a.preventDefault()},z.mm(function(){var b=new z.dr;b.show();z.fr(b,z.Sp[3],z.Sp[0]);z.er(b,a.href);b.yc.focus()},{wa:"people_message_button",ed:!0})));var b=z.M("zh-profile-cancel-block");b&&this.v().g(b,"click",this.ZG);(0,window.$)("#zh-report-people, #profile-side-op a[name\x3dreport]").each(function(a,b){rx(new px("member",z.Sp[3]),b)});(b=z.M("zh-profile-search-query-mirro"))&&new z.Jl(b,b.getAttribute("placeholder"))};
z.e.ZG=function(){z.Gi("\u786e\u5b9a\u53d6\u6d88\u5c4f\u853d\uff1f","\u53d6\u6d88\u5c4f\u853d\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002",function(a){a&&VB(this,!1)},this)};z.e.Mk=function(){this.v().Ba(window.document,"click",function(){this.ib.F(!1)})};
z.e.Bj=function(){var a=z.M("profile-side-op");a&&this.v().g(a,"click",this.uj)};z.e.jO=function(a){var b="";a.target===this.JK?b="time":a.target===this.KK?b="vote":a.target===this.IK&&(b="ask");window.location.href="/people/"+z.Y[1]+"/answers?sort\x3d"+b};
z.e.uj=function(a){a=a.target.name;"block"===a?z.Gi("\u786e\u5b9a\u8981\u5c4f\u853d\u8be5\u7528\u6237\uff1f","\u5c4f\u853d\u7528\u6237\u540e\uff0c\u5bf9\u65b9\u5c06\u4e0d\u80fd\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u5b9e\u540d\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u4f60\u7684\u516c\u5f00\u4fe1\u606f\u3002",function(a){a&&VB(this,!0)},
this):"cancel-block"===a&&this.ZG()};z.e.FM=function(a){if(a&&a.target&&(a=z.bn(this.h,a.target))){var b=z.N("zm-profile-fav-item-title",a),c=z.N("zm-profile-fav-item-des",a);b&&c&&"fav-edit"===a.name&&(b=b.innerHTML,c=c.innerHTML||"",a=[Number(a.getAttribute("data-id")),Number(a.getAttribute("data-public"))],oA(kA.U(),b,c,a))}};z.e.qR=function(a){(a=a.target)&&a.name&&($B(this,a.name),this.search())};
z.e.search=function(a,b,c){this.Pe=z.M("zh-profile-search-query").value;this.vm="/people/"+z.M("zh-profile-search-form").getAttribute("data_url")+"/search";if(this.Pe){void 0===b&&(b=!0);void 0===c&&(c=!0);if(window.history.pushState){if(this.mA)return;a&&a.preventDefault();this.wm=new z.V(!0);this.mA=!0;this.v().g(this.wm,"complete",this.IJ);b&&window.history.pushState({q:(0,window.encodeURIComponent)(this.Pe),type:this.ik},"","?pq\x3d"+(0,window.encodeURIComponent)(this.Pe)+"\x26type\x3d"+this.ik);
this.wm.ajax(this.vm,"type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Pe),"","POST")}else a||(c?(this.Pe=z.M("zh-profile-search-query").value,this.vm="/people/"+z.M("zh-profile-search-form").getAttribute("data_url")+"/search",window.location.href=this.vm+"?type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Pe)):(this.wm=new z.V(!0),this.mA=!0,this.v().g(this.wm,"success",this.IJ),this.Pe=z.M("zh-profile-search-query").value,this.vm="/people/"+z.M("zh-profile-search-form").getAttribute("data_url")+
"/search",this.wm.ajax(this.vm,"type\x3d"+this.ik+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Pe),"","POST")));(a=z.M("zh-profile-search-info"))&&z.R(a,!0)}else a&&a.preventDefault()};
z.e.IJ=function(){this.mA=!1;z.lf(z.M("zh-profile-search-word"),this.Pe);var a=z.fe(this.wm);if(a&&!a.r){var b=z.M("zh-profile-search-list");if(b)if(0===a.msg[0])z.M("zh-profile-list-container").innerHTML='\x3cdiv id\x3d"'+b.id+'"\x3e\x3cdiv style\x3d"margin: 20px;color: #999;text-align: center;"\x3e\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u4efb\u4f55\u7ed3\u679c\x3c/div\x3e\x3c/div\x3e';else{var c;c=""+('\x3cdiv id\x3d"'+b.id+'"\x3e');c+=a.msg[1]+"\x3c/div\x3e";z.M("zh-profile-list-container").innerHTML=
c+'\x3ca href\x3d"javascript:;" id\x3d"zh-load-more" class\x3d"zg-btn-white zu-button-more" style\x3d""\x3e\u66f4\u591a\x3c/a\x3e';(a=z.Ce("zm-item",b))&&a.length&&(this.qh=a[a.length-1].id.split("-")[1]);this.Xa=null;this.Xa=new jA(z.M(b.id),null,!0);this.Xa.init();this.Xa.qh=this.qh;this.Xa.url=this.vm;this.Xa.params.pq=this.Pe;this.Xa.params.type=this.ik;z.M("zh-profile-search-query").focus()}}};z.v(bC,z.S);
bC.prototype.ga=function(a){this.h=a;this.Qa=new Xv;this.Qa.w(this.h);this.form=z.M("zm-profile-expert-editform");this.v().g(this.form,"submit",this.wz);this.v().g(this.Qa,["add","remove","sort"],function(){this.ff()});(0,window.$)(".enable").on("change","input",window.$.proxy(function(){this.ff()},this));var b=z.M("zh-profile-expert-warning");b&&this.v().g(b,"click",function(a){"close"===a.target.name&&z.Om(b)});(0,window.$)(".enable input[type\x3d'radio']").click(function(a){a=!Number((0,window.$)(a.target).val());
z.R(z.M("zh-profile-expert-reopen-tip"),a)})};bC.prototype.ff=function(){(0,window.$)(window).on("beforeunload.profile",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};bC.prototype.Mf=function(){(0,window.$)(window).off("beforeunload.profile")};
bC.prototype.wz=function(a){a.preventDefault();z.y.map(this.Qa.data,function(a){return a[3]});a=(0,window.$)(this.form).serializeArray()[0].value;var b=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get(),c=this;window.$.post("/node/ProfileEditExpertTopicsV2",{method:"save",params:{settings:{enable_expert:a,expert_topic:b}}},function(a){a&&a.r||(c.Mf(),window.location.href="/people/"+z.Y[1])})};z.v(dC,z.S);dC.prototype.D=function(){dC.o.D.call(this);var a=z.M("zh-topic-block-editor");a&&(new $v(z.Fs)).w(a);fC(this);gC(this)};z.v(hC,z.S);hC.prototype.init=function(){var a=this;iC();jC();lC();nC();kC();mC();(0,window.$)(".zu-main-content-inner form").on("change","input, textarea, select",function(){a.yw("SettingsPage")}).on("submit",function(){a.ur("SettingsPage")})};hC.prototype.yw=function(){(0,window.$)(window).on("beforeunload.SettingsPage",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};hC.prototype.ur=function(){(0,window.$)(window).off("beforeunload.SettingsPage")};z.v(pC,Ax);pC.prototype.init=function(a){pC.o.init.call(this,a);this.ic(this.h)};pC.prototype.wB=function(a){this.wB=a};pC.prototype.ic=function(a){if(this.wB){var b=new sB,c=this.MM;b.Zw=this.Ww;b.Yw=c||b.Yw;this.tn&&b.uI(this.tn);b.w(a)}};pC.prototype.uI=function(a){this.tn=a};z.v(qC,z.kk);qC.prototype.init=function(){this.v().g(this.h,"click",this.To)};qC.prototype.To=function(a){a=z.bn(this.h,a.target);"focus"===(a&&a.name)&&(0,z.cu)(a,this.Ww,null,this.LM,{follow_text:this.text[0],unfollow_text:this.text[1]})};z.v(rC,z.kk);z.e=rC.prototype;z.e.w=function(a){this.element=a;var b=(0,window.$)("\x3cul\x3e");this.cJ=(0,window.$)("\x3cli\x3e");b.append(this.cJ);(0,window.$)(a).append(b);this.dJ||(this.dJ=!0,this.lB=new z.V(!0),this.v().Ba(this.lB,"success",this.QQ),this.lB.ajax(this.url,null,"POST"))};z.e.QQ=function(){var a=z.fe(this.lB);a&&(a&&a.r?z.U(a.msg):(sC(this,this.cJ,a.msg),this.dJ=!1,this.D()))};z.e.D=function(){this.v().g(this.element,"click",this.To)};
z.e.To=function(a){var b=(a=a.target)?a.name:"";if(b)switch(b){case "load":case "loadmore":if(!this.Io){var b=a.getAttribute("data-token"),c=a.getAttribute("data-parent");this.Io=!0;this.Oj=new z.V(!0);this.v().Ba(this.Oj,"success",this.xq);this.oA=a.parentNode;this.oA.innerHTML='\x3cspan class\x3d"zg-gray"\x3e\u52a0\u8f7d\u4e2d...\x3c/a\x3e';this.Oj.ajax(this.url+"?child\x3d"+b+"\x26parent\x3d"+c,null,"POST")}break;case "topic":window.location.href=a.href}};
z.e.xq=function(){var a=z.fe(this.Oj);if(a)if(a&&a.r)z.U(a.msg);else if(a=a.msg,a[1]){(0,window.$)(this.oA).hide();for(var b=(0,window.$)(this.oA.parentNode),c=0;c<a[1].length;c++){var d=a[1][c],f=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");"topic"!==d[0][0]&&f.addClass("zm-topic-organize-loadmore");b.append(f);sC(this,f,d)}this.Io=!1}};z.v(uC,z.tp);uC.prototype.Wg=function(a){z.Ds[0][0]===a?this.Ci():uC.o.Wg.apply(this,arguments)};uC.prototype.qC=function(a){if(a=z.fe(a.target))a.r?z.U(a.msg):a.msg&&(window.location.href=a.msg)};z.v(vC,z.S);z.e=vC.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){vC.o.D.call(this);AC(this);var a=z.M("zh-topic-top-answerer");a&&(new qC(a,"people",["zg-follow","zg-unfollow"])).init();if(a=z.M("zh-topic-direct-question-list"))a=new pC(a,null,"question",null,!0),a.yi("question-item"),a.init();if(a=z.M("zh-topic-title"))this.ad=new uC(!1,"/topic/update","title"),Vu(this.ad,["tid\x3d"+this.Bf]),this.ad.addEventListener("beforeedit",tC({Vp:!0})),this.ad.w(a),(0,window.$)(a).on("click",".js-pin",function(){var a=(0,window.$)(this),b=a.attr("data-action");
window.$.post(b,{tid:z.Ds[0][3]}).done(function(b){b.r?z.U(b.msg):(b=a.hasClass("pin")?'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/remove" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e':'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/add" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e',
a.replaceWith(b))})});if(a=z.M("zh-topic-desc"))(0,window.$)(a).find(".zm-editable-content").data("editable-maxlength"),this.al=new z.wp(!0,"/topic/update","description"),this.al.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u8bdd\u9898\u63cf\u8ff0\x3c/a\x3e\x3c/div\x3e',Vu(this.al,["tid\x3d"+this.Bf]),this.al.Vq=!1,this.al.qJ=!1,this.al.addEventListener("beforeedit",tC({Vp:!0})),this.al.w(a);if(a=z.M("zh-topic-faq"))this.Ow=new z.wp(!0,"/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+
"/faq","content"),this.Ow.Sb='\x3cdiv class\x3d"zm-topic-faq-container"\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\u5e38\u89c1\u95ee\u9898\u662f\u8be5\u8bdd\u9898\u4e0b\u7ecf\u5e38\u4f1a\u63d0\u5230\u7684\u95ee\u9898\u7684\u6574\u7406\uff0c\u4ee5\u4fbf\u540e\u6765\u8005\u67e5\u9605\uff08\x3ca href\x3d"/question/20388061" class\x3d"zg-link-litblue"\x3e\u5982\u4f55\u521b\u5efa\uff1f\x3c/a\x3e\uff09\x3c/div\x3e\x3ca href\x3d"javascript:;" name\x3d"edit" class\x3d"zg-link-litblue"\x3e\x3cspan class\x3d"zg-blue-edit"\x3e\x3c/span\x3e\u4e3a\u300c'+
z.Ds[0][0]+"\u300d\u6dfb\u52a0\u5e38\u89c1\u95ee\u9898\x3c/a\x3e\x3c/div\x3e",this.Ow.Vq=!1,this.Ow.w(a);FC(this);GC(this);zC(this);CC(this);DC();EC(this);xC(this);wC();(a=z.N("zm-topic-search-input-new"))&&new z.Jl(a,"\u5728\u8bdd\u9898\u4e2d\u641c\u7d22");var b=(0,window.$)(a);z.Zr.Ob||b.focus(function(){b.addClass("stretch-to")}).blur(function(){b.removeClass("stretch-to")});(a=z.N("zm-topic-ask-in-topic"))&&this.v().g(a,"click",this.CA);(a=z.N("zm-topic-feed-container"))&&(new qC(a,"question",
["zg-follow","zg-unfollow"])).init();(a=z.M("zh-topic-side-children-list"))&&(new qC(a,"topic",["zg-follow","zg-unfollow"])).init();JC(this);(a=z.M("zh-topic-info-add"))&&z.y.forEach(z.Ze(a),function(a){var b;a&&a.getAttribute&&(b=a.getAttribute("data-placeholder"))&&new z.Jl(a,b)});(0,window.$)(".js-may-disable").click(z.mm(z.m,!0))};
z.e.cR=function(){this.mr=this.Qa.GD;if(!this.HG&&this.mr){this.HG=!0;this.Zy=new z.V(!0);this.v().Ba(this.Zy,"success",this.vK);this.Zy.ajax("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+"/demand","action\x3dmerge\x26target_topic_id\x3d"+this.mr[3]);var a=z.M("zh-topic-merged-msg");z.R(z.M("zh-topic-merge"),!1);z.R(a,!0);a=z.Ae("a",null,a)[0];a.href="/topic/"+this.mr[1];a.innerHTML=this.mr[0];this.Qa&&(this.Qa.qb.value="")}};z.e.vK=function(){var a=z.fe(this.Zy);a&&a.r?z.U(a.msg):this.HG=!1};
z.e.MQ=function(){this.ND||(this.ND=!0,this.mw=new z.V(!0),this.v().Ba(this.mw,"success",this.tK),this.mw.ajax("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1])+"/demand","action\x3dremove"))};z.e.tK=function(){var a=z.fe(this.mw);a&&a.r?z.U(a.msg):(a=z.M("zh-topic-del-msg"),z.R(z.M("zh-topic-del-btn"),!1),z.R(a,!0),this.Qa&&(this.Qa.qb.value=""),this.ND=!1)};
z.e.DR=function(a){if((a=a.target)&&a.name)if("add"===a.name){if(a=this.kv.value)this.mv=new z.V(!0),this.v().Ba(this.mv,"complete",this.sK),this.mv.ajax(window.location.href,"action\x3dadd_alias\x26alias\x3d"+(0,window.encodeURIComponent)(a))}else"remove"===a.name?(this.$z=new z.V(!0),a=a.parentNode.getAttribute("data-token"),this.v().Ba(this.$z,"complete",this.xK),this.$z.ajax(window.location.href,"action\x3dremove_alias\x26alias_token\x3d"+a)):"remove-merged"===a.name&&(this.aA=new z.V(!0),a=a.parentNode.getAttribute("data-token"),
this.v().Ba(this.aA,"complete",this.yK),this.aA.ajax("/topic/"+(0,window.encodeURIComponent)(z.Ds[0][1]+"/demand"),"action\x3dremove\x26target_topic_id\x3d"+a))};z.e.yK=function(){var a=z.fe(this.aA);a&&a.r?z.U(a.msg):yC(this,a.msg)};z.e.xK=function(){var a=z.fe(this.$z);a&&a.r?z.U(a.msg):yC(this,a.msg)};
z.e.sK=function(){var a=z.fe(this.mv);if(a&&a.r)z.U(a.msg);else{var a=a.msg,b=z.P("li");b.setAttribute("data-token",a[1]);b.innerHTML=a[0]+' \x3ca name\x3d"remove" href\x3d"javascript:;" class\x3d"zg-link-gray"\x3e\u79fb\u9664\x3c/a\x3e';this.lv.appendChild(b);this.kv.value="";z.R(this.lv.parentNode,!0)}};z.e.EA=function(a){this.Az?this.ib.T()?this.ib.F(!1):(this.ib.F(!0),a.stopPropagation(),a.preventDefault(),this.Mk()):(a.stopPropagation(),a.preventDefault(),this.Bj(),this.Mk());this.Az=!0};
z.e.Mk=function(){this.v().Ba(window.document,"click",function(){this.ib.F(!1)})};z.e.Bj=function(){var a=z.M("zh-topic-side-head"),b=this.bg.getAttribute("data-auth");this.ib=new $w;this.Px=!0;"f-topic-manage"===b&&this.ib.Ga(this.IR=new Vw("\u7ba1\u7406\u8bdd\u9898"));this.ib.Ga(this.JR=new Vw("\u7ec4\u7ec7\u8bdd\u9898"));this.ib.Ga(this.HR=new Vw("\u8bdd\u9898\u65e5\u5fd7"));this.Px&&(this.ib.ea(a),this.v().g(this.ib,"action",this.uj))};
z.e.uj=function(a){var b="";a.target===this.IR?b="admin":a.target===this.JR?b="organize":a.target===this.HR&&(b="log");window.location.href=["/topic",this.jB[1],b].join("/")};z.e.lR=function(){var a=z.fe(this.Zz);if(a&&!a.r){var b=[];z.y.forEach(a,function(a){b.push(z.Pm(a,null,!0))});this.ES.innerHTML=b.join("")+'\x3cdiv class\x3d"zg-clear"\x3e\x3c/div\x3e';a.length&&z.R(z.M("zh-topic-side-related-topics-wrap"),!0)}};
z.e.VQ=function(a){var b=a.target;b&&b.name&&"remove"===b.name&&(this.QO=b,this.FF||(this.FF=!0,this.by=new z.V(!0),this.v().g(this.by,"success",this.WQ),a="token\x3d"+this.QO.parentNode.getAttribute("data-token")+"\x26action\x3dremove\x26element\x3d"+(0,window.encodeURIComponent)((0,window.$)(a.target).prev("[data-element]").text()),this.by.ajax("/topic/"+z.Ds[0][1]+"/information/manage",a,"POST")))};
z.e.WQ=function(){this.FF=!1;var a=z.fe(this.by);a&&(a.r?z.U(a.msg):a.msg&&(a=a.msg,z.N("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html()))};z.e.XQ=function(a){a.preventDefault();this.HF||(this.HF=!0,this.cy=new z.V(!0),this.v().g(this.cy,"success",this.UQ),a=z.Ze(this.ys),this.cy.ajax("/topic/"+z.Ds[0][1]+"/information/manage","title\x3d"+a[0].value+"\x26content\x3d"+a[1].value+"\x26url\x3d"+a[2].value+"\x26action\x3dadd","POST"))};
z.e.UQ=function(){this.HF=!1;var a=z.fe(this.cy);a&&(a.r?z.U(a.msg):a.msg&&(a=a.msg,z.N("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html(),a=z.Ze(this.ys),z.y.forEach(a,function(a,c){3>c&&(a.value="")})))};z.e.CA=z.mm(function(){if(!z.Gr()){var a=z.Cp.U();a.show();var b=z.N("zm-topic-search-input-new");b.value&&z.Dp(a,b.value);a.Qa.data.length||a.Qa.mk(z.Ds[0])}},!0);z.v(KC,z.S);KC.prototype.B=function(){this.h=this.M().B("FORM",{method:"POST",style:"display:none"})};KC.prototype.post=function(a,b,c){var d=this.m();d||(this.ea(),d=this.m());d.action=b||"";d.target=c||"";LC(this,d,a);d.submit()};z.v(PC,z.kk);PC.prototype.init=function(){var a=av(new z.Sk(window.location.href),"group_id");a&&(this.Uj=new z.V(!1),this.v().Ba(this.Uj,"success",this.Jz),a&&this.Uj.ajax("/noti7/read","group_id\x3d"+a,"POST"))};PC.prototype.Jz=function(){var a=z.fe(this.Uj);if(a&&!a.r&&a.msg){var b=a.msg;if(!0===b||"true"===b||"True"===b)return;this.rQ=a.msg;this.dispatchEvent("change")}(a=z.fu)&&z.Fq(a)};z.v(QC,z.S);z.e=QC.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){QC.o.D.call(this);SC(this);if(this.Vb=z.M("zh-list-meta-wrap"))this.v().g(this.Vb,"click",this.$o),av(new z.Sk(window.location.href),"fc")&&UC(this);var a=z.M("zh-favlists-wrap");a&&(new pC(a,null,"favlist",null,!0)).init();RC(this);(a=z.M("zh-favlist-log-list-wrap"))&&(new pC(a,null,"favlist",null,!0)).init();(a=z.M("zh-favlist-following-wrap"))&&(new pC(a,null,"favlist",null,!0)).init();if(a=z.M("zh-favlist-followers-wrap"))a=new pC(a,null,"people",["zg-btn-follow","zg-btn-unfollow"],
!0),a.yi("zm-profile-section-item"),a.wB(!0),a.init();this.v().g(window,"hashchange",this.XW);this.iy();this.Qo=new PC;this.Qo.init()};z.e.uO=function(a){a=a.target;var b=a.id.split("-"),c=b[1],b=b[2];(new z.V(!0)).ajax("/collection/remove","answer_id\x3d"+c+"\x26favlist_id\x3d"+b);if(b=z.yf(a,"div","zm-item"))a=z.Ce("zm-item-answer",b),1===a.length?z.Q(b):(a=z.y.find(a,function(a){return a.getAttribute("data-aid")===c}))&&z.Q(a.parentNode)};z.e.HT=z.mm(function(){kA.U().show(!0)},!0);
z.e.EA=function(a){this.Az?this.ib.T()?this.ib.F(!1):(this.ib.F(!0),a.stopPropagation(),a.preventDefault(),this.Mk()):(a.stopPropagation(),a.preventDefault(),this.Bj(),this.Mk());this.Az=!0};z.e.Mk=function(){this.v().Ba(window.document,"click",function(){this.ib.F(!1)})};
z.e.Bj=function(){var a=z.M("zh-list-side-head");this.ib=new $w;this.Px=!0;this.visible||this.ib.Ga(this.LR=new Vw("\u8bbe\u7f6e\u4e3a\u516c\u5f00"));this.ib.Ga(this.GR=new Vw("\u5220\u9664\u6b64\u6536\u85cf\u5939"));this.Px&&(this.ib.ea(a),this.v().g(this.ib,"action",this.uj))};z.e.$o=function(a){a=a.target;switch(a&&a.name){case "edit":oA(kA.U());break;case "addcomment":UC(this);this.qa.Cf();this.qa.Hc()&&this.qa.Ei("view_comments",(0,window.parseInt)(z.sf(a),10)||0);break;case "remove":TC(this)}};
z.e.uj=function(a){a.target===this.LR?z.Gi("\u786e\u5b9a\u8bbe\u7f6e\u6536\u85cf\u5939\u4e3a\u516c\u5f00\uff1f","\u6536\u85cf\u5939\u8bbe\u7f6e\u4e3a\u516c\u5f00\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6\u3002",function(a){a&&VC(this)},this):a.target===this.GR&&TC(this)};z.e.iy=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=NC(a).done(function(a){b.html(a)}))})};var eD=(0,window.$)("#is-topstory2").length?"topstory2":"homefeed",XC=z.C&&!z.E(9),$C={ac:"actioncard",q:"question",a:"answer",p:"article",c:"column",r:"roundtable"},bD={question:"question",answer:"question",article:"column",column:"column",roundtable:"roundtable"},cD={question:"question",answer:"question",article:"article",column:"column",roundtable:"roundtable"};WC.prototype.Fb=function(){this.MB=(0,window.$)('meta[itemprop\x3d"ZReactor"]',this.Bh);this.MB.length&&(ZC(this),this.VO())};
WC.prototype.jS=function(){var a=[],b=z.nn(550,function(){a.length&&(YC(a),a=[])});return function(c){a.push(c);b()}}();
WC.prototype.VO=z.zi(function(){z.G(z.X,"click_feed_fresh",function(a){YC({mid:z.kj.ga_vars.user_hash,object_type:"btn",object_id:2,object_meta:{load_items:a.data.count},action_type:"click",context:eD,others:"",time:(0,z.w)()})});z.G(z.X,"topstory_feed_more",function(){YC({mid:z.kj.ga_vars.user_hash,object_type:"btn",object_id:1,object_meta:{next:(0,window.$)("#js-home-feed-list .feed-item").length+1},action_type:"click",context:eD,others:"",time:(0,z.w)()})})});z.v(fD,Ax);fD.prototype.Vg=function(a){a&&!a.r&&(a=a.msg,a.length?(z.R(this.fc,0<a.length),this.offset+=a.length,this.Eq(a),Cx(this,!1),Gx(this)):this.Ak.hide())};var QI={ROUNDTABLE_ADD_RELATED:"roundtable",ARTICLE_VOTE_UP:"post_vote",ARTICLE_CREATE:"post_create",RECOMMENDED:"feed_recommended",QUESTION_FOLLOW:"feed_question_follow",QUESTION_CREATE:"feed_question",ANSWER_VOTE_UP:"feed_answer_vote",ANSWER_CREATE:"feed_answer_answer"};
fD.prototype.tO=function(a){var b=a.currentTarget.h.getAttribute("data-feedtype"),b=QI[b];"comment"===a.namespace&&b&&a.Lc.fill("category","feed").fill("label",b)};fD.prototype.Yj=function(a){var b=iA(a);this.L(b);this.v().g(b,"click!",this.tO);b.w(a);new WC(b);return b};fD.prototype.GH=function(a){return{params:a,method:"next"}};z.ca(hD);z.v(mD,z.S);z.e=mD.prototype;z.e.D=function(){mD.o.D.call(this);this.K=(0,window.$)(this.h);if(this.ze=z.M("zh-main-feed-fresh-button"))this.kq=(0,window.$)(this.ze),this.DP?(this.v().g(this.ze,"click",this.CS),this.v().g(z.X,"topstory2",this.nF)):this.$F?(this.v().g(this.ze,"click",this.BS),this.v().g(z.X,"topstory",this.nF)):(this.v().g(this.ze,"click",this.MT),this.v().g(z.X,"homefeed",this.YN));nD(this);rD(this);qD(this)};
z.e.BS=function(){this.kq.text("\u52a0\u8f7d\u4e2d\u2026");this.Di=0;var a=this;this.Xa.offset=0;this.Xa.qh=0;Fx(this.Xa,!0,function(){gD(a.Xa)}).done(function(){a.kq.hide();Ex(a.Xa)})};z.e.CS=function(){this.kq.text("\u52a0\u8f7d\u4e2d\u2026");var a=this.Di;this.Di=0;var b=this;this.Xa.offset=a;this.Xa.qh="live";Fx(this.Xa,!0,null,function(a){a&&a.msg.length&&(b.Xa.Eq(a.msg,"prepend"),b.kq.hide())});z.X.ya({type:"click_feed_fresh",data:{count:a}})};
z.e.MT=function(){var a=z.N("zm-home-question-list-devider",this.h);a&&z.T.remove(a,"zm-home-question-list-devider");var a=this.lt.length,b=(0,window.$)("."+this.nE,this.h)[0];b&&5<=a&&((0,window.$)(".feed-separator-hook",this.h).next(".feed-item-hook").css("border-top","1px solid #eee").end().remove(),(0,window.$)(b).css("border-top","none").before('\x3cdiv class\x3d"feed-item-hook feed-separator-hook feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u4f60\u770b\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'));
z.y.forEach(this.lt,function(a){var b=(0,window.$)("."+this.nE,this.h)[0];b?z.Ue(a,b):this.h.appendChild(a)},this);this.lt=[];z.R(this.ze,!1);lD();z.X.ya({type:"ga_click_feed_fresh",data:{count:a}})};
z.e.YN=function(a){var b=(0,z.Ya)(a.vf);a=this.lt;var c=a.length;if(b&&!(500<c)){var d=z.Ne(b),f=this.zy,g=function(a){return z.A.IM(f,a)},b=function(){return g(function(a){return a.pa===n.pa})},h=function(){return g(function(a){return a.oa===n.oa})},l=function(){return g(function(a){return a.Mb===n.Mb})};if(!function(){return g(function(a){return a.m().id===d.id})}()){var n=this.Xa.Yj(d);if(n.pa){if(b())return}else if(n.oa){if(h())return}else if(n.Mb&&l())return;oD(this,n);a.push(d);c+=1;this.ze&&
(this.ze.innerHTML=(99<c?"99+":c)+" \u6761\u65b0\u52a8\u6001",z.R(this.ze,!0))}}};z.e.nF=function(a){this.Di=this.Di||0;this.Di+=+a.vf;this.ze&&(this.ze.innerHTML=(99<this.Di?"99+":this.Di)+" \u6761\u65b0\u52a8\u6001",z.R(this.ze,!0))};z.v(sD,z.S);z.e=sD.prototype;z.e.D=function(){sD.o.D.call(this);var a=z.M("zh-invite-select");a&&this.v().g(a,"change",this.uz);(a=z.N("zm-invite-list"))&&this.v().g(a,"click",this.Ma);(this.Vx=z.M("zh-invite-ignore-all-btn"))&&this.v().g(this.Vx,"click",this.MO)};
z.e.Ma=function(a){if((a=a.target)&&a.name){if("ignore"===a.name){z.T.add(a,"zg-btn-disabled");this.NO=new z.V(!1);var b="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.Y.Ne+"\x26op\x3dpass";this.NO.ajax("/question/askpeople",b,"POST");(b=a.parentNode)&&z.Om(b,!0)}"recover"!==a.name||this.UH||(this.SH=a,this.UH=!0,z.T.add(a,"zg-btn-disabled"),a.innerHTML="...",this.TH=new z.V(!1),this.v().g(this.TH,"success",this.wK),a="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.Y.Ne+"\x26op\x3drecover",
this.TH.ajax("/question/askpeople",a,"POST"))}};z.e.uz=function(a){var b=av(new z.Sk(window.location.href),"filter_by");(a=a.target)&&a.value&&(a=a.value,a!==b&&(window.location.href="/question/invited?filter_by\x3d"+a))};z.e.wK=function(){this.UH=!1;this.gc(this.SH,"ignore");this.SH.name="ignore"};
z.e.gc=function(a,b){var c=a.parentNode,d=z.N("zm-invite-item-info-label",c);"ignore"===b?(z.T.remove(a,"zg-btn-disabled"),z.T.remove(a,"recover"),z.T.add(a,"ignore"),z.T.add(c,"invite"),z.T.remove(c,"ignore"),d.innerHTML="\u65b0\u9080\u8bf7",a.name="ignore",a.innerHTML="\u5ffd\u7565"):(z.T.remove(a,"zg-btn-disabled"),z.T.remove(a,"ignore"),z.T.add(a,"recover"),z.T.remove(c,"invite"),z.T.remove(c,"draft"),z.T.add(c,"ignore"),d.innerHTML="\u5df2\u5ffd\u7565",a.name="recover",a.innerHTML="\u6062\u590d")};
z.e.MO=function(){this.Wx||(this.Wx=!0,this.AF=new z.V(!1),this.v().g(this.AF,"success",this.uK),this.AF.ajax("/question/askpeople","uid\x3d"+z.Y.Ne+"\x26op\x3dignore_all","POST"))};z.e.uK=function(){this.Wx=!1;z.R(this.Vx,void 0);this.Wx=!1;z.y.forEach(z.Ce("zm-invite-item-control"),(0,z.r)(function(a){this.gc(a,"recover")},this))};z.v(tD,z.S);tD.prototype.D=function(){tD.o.D.call(this);this.wl();this.v().g(this.h,"click",this.Ma)};tD.prototype.Ma=function(a){a=a.target;if(a.name)switch(a.name){case "fold":(0,window.$)(a).parent().hide().prev().animate({height:"show"},200);break;case "fold-follow":(0,window.$)(a).parent().hide().prev().show();break;case "unfold-item":(0,window.$)(a).parent(".author-list").hide().siblings(".hidden").show()}};
tD.prototype.wl=function(){this.Io||(this.Io=!0,this.Oj=new z.V(!1),this.v().g(this.Oj,"success",this.rz),this.Oj.ajax("/noti7/calendar","","GET"))};
tD.prototype.rz=function(){this.Io=!1;var a=z.ee(this.Oj);if(a){var b=z.M("zh-noti7-list-inner");/category/.test(a)?(b.innerHTML=a,b&&(a=new Ax(b,"/noti7/calendar",!0),a.Eq=function(a){var b=z.P("div","zm-item-more-wrap");b.innerHTML=a;z.Ue(b,this.fc)},Dx(a,function(a){this.qh=this.fc.getAttribute("data-next");return!a||a.msg[0]&&a.msg[1]}),a.init())):b.innerHTML='\x3cdiv class\x3d"empty"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e\u60a8\u6536\u5230\u7684\u6d88\u606f\u4f1a\u663e\u793a\u5728\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'}};z.v(uD,z.kk);uD.prototype.init=function(){var a=z.M("home-suggest-block");a&&(this.h=a,a=z.M("home-suggest-close-button"),this.v().Ba(a,"click",function(){(new z.V(!0)).ajax("/option","key\x3dno_show_lookup\x26value\x3d1");z.R(this.h,!1)}),a=z.M("home-suggest-refresh-button"),this.v().g(a,"click",this.kR),this.Zs=z.M("home-suggest-list"),xD(this))};uD.prototype.kR=function(){vD(this);return!0};
uD.prototype.KQ=function(a){a.r||((a=a.msg)&&z.fa(a)&&a.length?(this.Tx=[],this.KD=a,vD(this)):this.Zs.innerHTML="")};z.v(yD,z.H);z.e=yD.prototype;z.e.show=function(a){if(this.Do)return this;this.Do=!0;this.dispatchEvent("willShow");this.K.addClass(this.position).appendTo("body");this.XB=(0,window.$)(a);this.target=this.XB[0];if(!this.target)return this;this.ba();this.K.addClass("is-active");this.dispatchEvent("show");this.K.on("click",".js-dismiss",(0,z.r)(this.hide,this));!1!==this.Bz.Hq&&this.Hq();return this};
z.e.ba=function(){var a=this.position,b=this.offset(a),c;c=b;var d=this.Eg,f=(0,window.$)(window),g=d.clientWidth,d=d.clientHeight,h=f.scrollTop(),l=f.scrollLeft(),n=f.innerHeight(),f=f.innerWidth();c={top:c.top>h+z.Dh(window.document.body).top,bottom:c.top+d<h+n,left:c.left>l,right:c.left+g<l+f};c=c[a]?a:z.A.Sw(c,z.kb);a!==c&&(b=this.offset(c));0>b.left&&(this.K.find(".tooltip-arrow").css("left",zD(this.Eg).width/2+b.left),b.left=0);this.K.removeClass("top right bottom left").addClass(c).css(b);
this.dispatchEvent("reposition")};z.e.offset=function(a){var b=zD(this.Eg),c=b.width,b=b.height,d=zD(this.target),f=d.width,d=d.height,g=this.XB.offset();switch(a){case "top":return{top:g.top-b,left:g.left+f/2-c/2};case "bottom":return{top:g.top+d,left:g.left+f/2-c/2};case "right":return{top:g.top+d/2-b/2,left:g.left+f};case "left":return{top:g.top+d/2-b/2,left:g.left-c}}};
z.e.hide=function(a){if(this.Do)return this.dispatchEvent({type:"hide",reason:"string"===typeof a?a:"click"}),this.Do=!1,window.Modernizr.csstransitions?this.K.onTransitionEnd((0,z.r)(this.clear,this),350).removeClass("is-active"):this.clear(),this};z.e.Hq=function(){function a(){if(!b.Do)return z.Ys.na("update",a);z.ij(z.Ys,b.Eg)||(b.hide("outOfView"),z.Ys.na("update",a))}var b=this;z.Ys.g("update",a)};z.e.clear=function(){this.K.remove()};(0,z.w)();window.$.validator.addMethod("datetime",function(a,b){return this.optional(b)||(0,window.moment)(a,"YYYY-MM-DDTHH:mm:ss").isValid()},"\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e");window.$.validator.addMethod("dateGreaterThan",function(a,b,c){return new Date(a)>new Date((0,window.$)(c).val())},"\u65f6\u95f4\u8303\u56f4\u4e0d\u6b63\u786e");
window.$.validator.addMethod("realEmail",function(){var a="AC ACADEMY AD AE AERO AF AG AI AL AM AN AO AQ AR ARPA AS ASIA AT AU AW AX AZ BA BB BD BE BF BG BH BI BIKE BIZ BJ BM BN BO BR BS BT BUILDERS BUZZ BV BW BY BZ CA CAB CAMERA CAMP CAREERS CAT CC CD CENTER CEO CF CG CH CI CK CL CLOTHING CM CN CO CODES COFFEE COM COMPANY COMPUTER CONSTRUCTION CONTRACTORS COOP CR CU CV CW CX CY CZ DE DIAMONDS DIRECTORY DJ DK DM DO DOMAINS DZ EC EDU EDUCATION EE EG ENTERPRISES EQUIPMENT ER ES ESTATE ET EU FARM FI FJ FK FLORIST FM FO FR GA GALLERY GB GD GE GF GG GH GI GL GLASS GM GN GOV GP GQ GR GRAPHICS GS GT GU GURU GW GY HK HM HN HOLDINGS HOLIDAY HOUSE HR HT HU ID IE IL IM IN INFO INSTITUTE INT INTERNATIONAL IO IQ IR IS IT JE JM JO JOBS JP KAUFEN KE KG KH KI KITCHEN KM KN KP KR KW KY KZ LA LAND LB LC LI LIGHTING LIMO LK LR LS LT LU LV LY MA MANAGEMENT MC MD ME MENU MG MH MIL MK ML MM MN MO MOBI MP MQ MR MS MT MU MUSEUM MV MW MX MY MZ NA NAME NC NE NET NF NG NI NINJA NL NO NP NR NU NZ OM ONL ORG PA PE PF PG PH PHOTOGRAPHY PHOTOS PK PL PLUMBING PM PN POST PR PRO PS PT PW PY QA RE RECIPES REPAIR RO RS RU RUHR RW SA SB SC SD SE SEXY SG SH SHOES SI SINGLES SJ SK SL SM SN SO SOLAR SOLUTIONS SR ST SU SUPPORT SV SX SY SYSTEMS SZ TATTOO TC TD TECHNOLOGY TEL TF TG TH TIPS TJ TK TL TM TN TO TODAY TP TR TRAINING TRAVEL TT TV TW TZ UA UG UK UNO US UY UZ VA VC VE VENTURES VG VI VIAJES VN VOYAGE VU WF WS XXX YE YT ZA ZM ZW".split(" ");return function(b){return z.y.contains(a,
z.y.Wc(b.split(".")).toUpperCase())}}(),"\u8bf7\u8f93\u5165\u771f\u5b9e\u7684\u90ae\u7bb1\u5730\u5740");window.$.validator.addMethod("strongPassword",function(a,b){return this.optional(b)||/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/.test(a)}," \u5bc6\u7801\u9700\u5305\u542b\u6570\u5b57\u548c\u5b57\u6bcd\uff0c\u4e14\u957f\u5ea6\u5927\u4e8e 8 \u4f4d");z.v(DD,z.S);DD.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};
DD.prototype.D=function(){DD.o.D.call(this);ED(this);var a=z.N("zm-invite-container");a&&(new sD).w(a);z.M("home-settings-page-wrap")&&(a=z.M("zh-topic-block-editor"))&&(new $v(z.Fs)).w(a);(a=z.M("zh-noti7"))&&(new tD).w(a);var b=z.M("zm-home-sidebar-domain-entry-link");b&&(a=!!b.getAttribute("data-expanded"),b=new z.Wj(b,z.M("zm-home-sidebar-domain-entry-nav"),a),a&&z.Sc(b,"toggle",function(){z.Li("/notifeature?feature\x3d4",null,"GET");return!0}));(0,window.$)(".zm-side-pinned-topics").on("click",
".unpin",function(){var a=(0,window.$)(this).parent();window.$.post("/pin-topic/remove",{tid:(0,window.$)(this).attr("data-tid")}).done(function(b){b.r||a.fadeOut()})});(new uD).init();GD(this);FD();iD();AD()};z.v(ID,z.ii);z.ca(ID);z.e=ID.prototype;z.e.Fb=function(){this.v().g(window.document,"click",this.Yr)};
z.e.Yr=function(a){a=a.target;if("IMG"===a.tagName&&z.T.has(a,this.iU)){var b=a.getAttribute("data-original");if(b)if(z.Ei)window.open(b);else if(!z.Af(a,"editable")){this.ha('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e\u67e5\u770b\u539f\u56fe\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.F(!0);z.T.add(this.m(),"zm-light-box-fullscreen-image");var b=z.Fe(),c=z.M("zm-light-box-x1"),d=z.M("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.X.ya({type:"ga_click_enlarge_image",target:a})}}};z.e.ba=z.m;z.e.focus=z.m;z.e.KN=function(){this.F(!1);z.T.remove(window.document.body,this.PC)};
z.e.ri=function(){ID.o.ri.call(this);z.T.add(window.document.body,this.PC);this.v().Ba(window.document,"click",this.KN)};z.e.B=function(){ID.o.B.call(this);z.T.add(this.m(),"zm-light-box")};z.e.Ty=function(){this.Nc=this.M().B("div",this.Pc+"-bg zm-light-box-background");z.R(this.Nc,!1)};ID.U();z.v(JD,Vw);JD.prototype.Hd=function(){return this.dispatchEvent("action")};z.Cj("goog-option",function(){return new JD(null)});z.v(z.KD,Ww);z.ca(z.KD);z.KD.prototype.B=function(a){return a.M().B("DIV",this.Be(a).join(" ")+" goog-inline-block","\u00a0")};z.KD.prototype.w=function(a,b){b=z.KD.o.w.call(this,a,b);z.Jg(b,"goog-inline-block");return b};z.KD.prototype.R=function(){return"goog-toolbar-separator"};z.v(z.LD,z.rn);z.ca(z.LD);z.LD.prototype.Tn=function(a){return"HR"==a.tagName?new z.Xw(z.KD.U()):z.LD.o.Tn.call(this,a)};z.LD.prototype.R=function(){return"goog-toolbar"};z.LD.prototype.hx=function(){return z.vt};z.v(MD,dx);z.ca(MD);MD.prototype.R=function(){return"goog-toolbar-button"};z.v(z.ND,z.Lj);z.Cj("goog-toolbar-button",function(){return new z.ND(null)});z.v(OD,fx);z.ca(OD);OD.prototype.createCaption=function(a,b){return OD.o.createCaption.call(this,PD(a,b),b)};OD.prototype.Ea=function(a,b){a&&QD(this.Z(a),b)};OD.prototype.Ge=function(a){var b=a.m();this.Ea(b,a.W());z.Jg(b,"goog-color-menu-button");OD.o.Ge.call(this,a)};z.v(RD,z.Qn);RD.prototype.next=function(){do RD.o.next.call(this);while(-1==this.Yb);return this.node};z.v(z.SD,z.vj);z.ca(z.SD);var WD=0;z.e=z.SD.prototype;z.e.B=function(a){var b=this.Be(a);a=a.M().B("DIV",b?b.join(" "):null,TD(this,a.fb(),a.di(),a.M()));z.Ag(a,"grid");return a};z.e.$v=function(a,b){var c=b.B("TABLE",this.R()+"-table",b.B("TBODY",this.R()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.bc=function(){return!1};z.e.w=function(){return null};
z.e.ha=function(a,b){if(a){var c=z.Ae("TBODY",this.R()+"-body",a)[0];if(c){var d=0;z.y.forEach(c.rows,function(a){z.y.forEach(a.cells,function(a){z.Te(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.L(a),h=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(UD(this,l,g));f.length==h&&(l=VD(this,f,g),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(UD(this,"",g));l=VD(this,f,g);c.appendChild(l)}}}z.yh(a,!0,z.B)}};z.e.R=function(){return"goog-palette"};z.v(YD,z.H);z.e=YD.prototype;z.e.jh=null;z.e.xf=null;z.e.ul=function(){return this.Fd.length};z.e.ai=function(a){return this.Fd[a]||null};z.e.Ga=function(a){this.Oi(a,this.ul())};z.e.Oi=function(a,b){a&&(this.xm(a,!1),z.y.vo(this.Fd,a,b))};z.e.removeItem=function(a){a&&z.y.remove(this.Fd,a)&&a==this.jh&&(this.jh=null,this.dispatchEvent("select"))};z.e.kf=function(){return this.jh};z.e.Eb=function(){return z.y.clone(this.Fd)};
z.e.yf=function(a){a!=this.jh&&(this.xm(this.jh,!1),this.jh=a,this.xm(a,!0));this.dispatchEvent("select")};z.e.mj=function(){var a=this.jh;return a?z.y.indexOf(this.Fd,a):-1};z.e.Bp=function(a){this.yf(this.ai(a))};z.e.clear=function(){z.y.clear(this.Fd);this.jh=null};z.e.C=function(){YD.o.C.call(this);delete this.Fd;this.jh=null};z.e.xm=function(a,b){a&&("function"==typeof this.xf?this.xf(a,b):"function"==typeof a.Bm&&a.Bm(b))};z.v(z.$D,z.Ej);z.e=z.$D.prototype;z.e.Ac=null;z.e.Ra=-1;z.e.la=null;z.e.C=function(){z.$D.o.C.call(this);this.la&&(this.la.H(),this.la=null);this.Ac=null;this.Dn.H()};z.e.zm=function(a){z.$D.o.zm.call(this,a);cE(this);this.la?(this.la.clear(),ZD(this.la,a)):(this.la=new YD(a),a=(0,z.r)(this.xm,this),this.la.xf=a,this.v().g(this.la,"select",this.vj));this.Ra=-1};z.e.Hg=function(){return""};z.e.ym=function(){};
z.e.kd=function(a){z.$D.o.kd.call(this,a);var b=XD(this.N,this,a.target);b&&a.relatedTarget&&z.ff(b,a.relatedTarget)||b!=dE(this)&&eE(this,b)};z.e.de=function(a){z.$D.o.de.call(this,a);this.Ub()&&(a=XD(this.N,this,a.target),a!=dE(this)&&eE(this,a))};z.e.Hd=function(a){var b=dE(this);return b?(this.yf(b),z.$D.o.Hd.call(this,a)):!1};
z.e.ec=function(a){var b=this.fb(),b=b?b.length:0,c=this.Ac.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.Hd(a);if(36==a.keyCode)return this.Hb(0),!0;if(35==a.keyCode)return this.Hb(b-1),!0;var d=0>this.Ra?this.mj():this.Ra;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Hb(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Hb(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Hb(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Hb(d+c),a.preventDefault(),!0}return!1};z.e.vj=function(){};z.e.di=function(){return this.Ac};z.e.Hb=function(a){a!=this.Ra&&(fE(this,this.Ra,!1),this.Fy=this.Ra,this.Ra=a,fE(this,a,!0),this.dispatchEvent("j"))};z.e.mj=function(){return this.la?this.la.mj():-1};z.e.kf=function(){return this.la?this.la.kf():null};z.e.Bp=function(a){this.la&&this.la.Bp(a)};z.e.yf=function(a){this.la&&this.la.yf(a)};
z.e.zc=function(a){a&&-1==this.Ra?this.Hb(-1<this.Fy?this.Fy:0):a||this.Hb(-1);z.$D.o.zc.call(this,a)};z.e.xm=function(a,b){if(this.m()&&a){var c=a.parentNode;z.Ng(c,this.N.R()+"-cell-selected",b);z.Bg(c,"selected",b)}};z.v(aE,z.Ej);z.v(gE,z.$D);gE.prototype.nt=null;gE.prototype.Os=null;gE.prototype.rx=function(){var a=this.kf();return a?(a=vw(a,"background-color"),iE(a)):null};gE.prototype.Ap=function(a){a=iE(a);this.nt||(this.nt=z.y.map(this.cr,function(a){return iE(a)}));this.Bp(a?z.y.indexOf(this.nt,a):-1)};z.v(jE,hx);var lE={uV:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),OV:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),KV:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=jE.prototype;z.e.rx=function(){return this.W()};z.e.Ap=function(a){this.Ea(a)};z.e.Ea=function(a){for(var b=0,c;c=this.ai(b);b++)"function"==typeof c.Ap&&c.Ap(a);jE.o.Ea.call(this,a)};z.e.bo=function(a){"function"==typeof a.target.rx?this.Ea(a.target.rx()):"none"==a.target.W()&&this.Ea(null);jE.o.bo.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Ab=function(a,b){a&&0==this.ul()&&(this.mh(kE(this.M())),this.Ea(this.W()));jE.o.Ab.call(this,a,b)};
z.Cj("goog-color-menu-button",function(){return new jE(null)});z.v(mE,fx);z.ca(mE);mE.prototype.R=function(){return"goog-toolbar-menu-button"};z.v(nE,mE);z.ca(nE);nE.prototype.createCaption=function(a,b){return gx(PD(a,b),this.R(),b)};nE.prototype.Ea=function(a,b){a&&QD(this.Z(a),b)};nE.prototype.Ge=function(a){this.Ea(a.m(),a.W());z.Jg(a.m(),"goog-toolbar-color-menu-button");nE.o.Ge.call(this,a)};z.v(oE,jE);z.Cj("goog-toolbar-color-menu-button",function(){return new oE(null)});z.v(pE,hx);z.Cj("goog-toolbar-menu-button",function(){return new pE(null)});z.v(qE,hx);z.e=qE.prototype;z.e.la=null;z.e.D=function(){qE.o.D.call(this);sE(this);vE(this)};z.e.ga=function(a){qE.o.ga.call(this,a);(a=this.Hg())?rE(this,a):this.kf()||this.Bp(0)};z.e.C=function(){qE.o.C.call(this);this.la&&(this.la.H(),this.la=null);this.lw=null};z.e.bo=function(a){this.yf(a.target);qE.o.bo.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.vj=function(){var a=this.kf();qE.o.Ea.call(this,a&&a.W());sE(this)};
z.e.mh=function(a){var b=qE.o.mh.call(this,a);a!=b&&(this.la&&this.la.clear(),a&&(this.la?z.$h(a,function(a){uE(a);this.la.Ga(a)},this):tE(this,a)));return b};z.e.Ga=function(a){uE(a);qE.o.Ga.call(this,a);this.la?this.la.Ga(a):tE(this,this.$a());wE(this)};z.e.Oi=function(a,b){uE(a);qE.o.Oi.call(this,a,b);this.la?this.la.Oi(a,b):tE(this,this.$a())};z.e.removeItem=function(a){qE.o.removeItem.call(this,a);this.la&&this.la.removeItem(a)};
z.e.yf=function(a){if(this.la){var b=this.kf();this.la.yf(a);a!=b&&this.dispatchEvent("change")}};z.e.Bp=function(a){this.la&&this.yf(this.la.ai(a))};z.e.Ea=function(a){if(null!=a&&this.la)for(var b=0,c;c=this.la.ai(b);b++)if(c&&"function"==typeof c.W&&c.W()==a){this.yf(c);return}this.yf(null)};z.e.W=function(){var a=this.kf();return a?a.W():null};z.e.kf=function(){return this.la?this.la.kf():null};z.e.mj=function(){return this.la?this.la.mj():-1};
z.e.Ab=function(a,b){qE.o.Ab.call(this,a,b);this.ub()?this.$a().Hb(this.mj()):wE(this)};z.Cj("goog-select",function(){return new qE(null)});z.v(yE,qE);z.Cj("goog-toolbar-select",function(){return new yE(null)});var DE=[10,10,13,16,18,24,32,48];var RI=z.u("Link");z.u("Edit Link");z.u("Text to display:");z.SI=z.u("Link to:");z.u("Web address");z.u("Link to a page or file somewhere else on the web");z.u("Test this link");
z.u("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.u("To what URL should this link go?");z.u("Email address");z.u("Link to an email address");
z.u("Invalid email address");z.u("To what email address should this link?");z.u("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.u("Open this link in a new window");z.u("Image");var TI,UI,NE,ME,VI,WI,XI,YI,CE,ZI,$I,aJ,bJ,FE,cJ,dJ,eJ,fJ,gJ,hJ,iJ,jJ,kJ,lJ,mJ,nJ,oJ,pJ,qJ,rJ,sJ,tJ,uJ,vJ,wJ,xJ,yJ,zJ,AJ,BJ,CJ,DJ,EJ,FJ,HJ,IJ,JJ;
for(TI=z.u("Normal"),UI=z.u("Normal / serif"),NE=[{caption:TI,value:"arial,sans-serif"},{caption:UI,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],ME={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",
value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},VI=z.u("Small"),WI=z.u("Normal"),XI=
z.u("Large"),YI=z.u("Huge"),CE=[{caption:VI,value:1},{caption:WI,value:2},{caption:XI,value:4},{caption:YI,value:6}],ZI=z.u("Heading"),$I=z.u("Subheading"),aJ=z.u("Minor heading"),bJ=z.u("Normal"),FE=[{caption:ZI,Ca:"H2"},{caption:$I,Ca:"H3"},{caption:aJ,Ca:"H4"},{caption:bJ,Ca:"P"}],cJ=z.u("Format"),dJ=z.u("Format"),eJ=z.u("Undo"),fJ=z.u("Redo"),gJ=z.u("Font"),hJ=z.u("Font size"),iJ=z.u("Text color"),jJ=z.u("Bold"),kJ=z.u("Italic"),lJ=z.u("Underline"),mJ=z.u("Text background color"),nJ=z.u("Add or remove link"),
oJ=z.u("Numbered list"),pJ=z.u("Bullet list"),qJ=z.u("Decrease indent"),rJ=z.u("Increase indent"),sJ=z.u("Align left"),tJ=z.u("Align center"),uJ=z.u("Align right"),vJ=z.u("Justify"),wJ=z.u("Remove formatting"),xJ=z.u("Insert image"),yJ=z.u("Strikethrough"),zJ=z.u("Left-to-right"),AJ=z.u("Right-to-left"),BJ=z.u("Quote"),CJ=z.u("Edit HTML source"),DJ=z.u("Subscript"),EJ=z.u("Superscript"),FJ=z.u("Edit HTML"),z.GJ={},HJ=[{Ca:"+undo",V:eJ,Na:"tr-icon tr-undo",factory:OE,jb:!0},{Ca:"+redo",V:fJ,Na:"tr-icon tr-redo",
factory:OE,jb:!0},{Ca:"+fontName",V:gJ,Na:"tr-fontName",factory:function(a,b,c,d,f,g){var h=JE(a,b,c,d,f,g);LE(h);rE(h,TI);z.Jg(h.$a().Z(),"goog-menu-noaccel");h.Gi=function(a){var b=null;a&&0<a.length&&(b=z.Xh(h.$a(),zE(a)));b!=h.kf()&&h.yf(b)};return h},jb:!0},{Ca:"+fontSize",V:hJ,Na:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=JE(a,b,c,d,f,g);BE(h);rE(h,WI);z.Jg(h.$a().Z(),"goog-menu-noaccel");h.Gi=function(a){var b;if(b=z.q(a))b=a.match(CI),b="px"==(b&&b[0]||null);b&&(a=z.y.lastIndexOf(DE,
(0,window.parseInt)(a,10)));a=0<a?a:null;a!=h.W()&&h.Ea(a)};return h},jb:!0},{Ca:"+bold",V:jJ,Na:"tr-icon tr-bold",jb:!0},{Ca:"+italic",V:kJ,Na:"tr-icon tr-italic",jb:!0},{Ca:"+underline",V:lJ,Na:"tr-icon tr-underline",jb:!0},{Ca:"+foreColor",V:iJ,Na:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=KE(a,b,c,d,f,g);a.Ap("#000");a.Gi=z.pa(PE,a);return a},jb:!0},{Ca:"+backColor",V:mJ,Na:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=KE(a,b,c,d,f,g);a.Ap("#FFF");a.Gi=z.pa(PE,a);return a},
jb:!0},{Ca:"+link",V:nJ,caption:RI,Na:"tr-link",jb:!0},{Ca:"+insertOrderedList",V:oJ,Na:"tr-icon tr-insertOrderedList",jb:!0},{Ca:"+insertUnorderedList",V:pJ,Na:"tr-icon tr-insertUnorderedList",jb:!0},{Ca:"+outdent",V:qJ,Na:"tr-icon tr-outdent",factory:z.GE},{Ca:"+indent",V:rJ,Na:"tr-icon tr-indent",factory:z.GE},{Ca:"+justifyLeft",V:sJ,Na:"tr-icon tr-justifyLeft",jb:!0},{Ca:"+justifyCenter",V:tJ,Na:"tr-icon tr-justifyCenter",jb:!0},{Ca:"+justifyRight",V:uJ,Na:"tr-icon tr-justifyRight",jb:!0},{Ca:"+justifyFull",
V:vJ,Na:"tr-icon tr-justifyFull",jb:!0},{Ca:"+removeFormat",V:wJ,Na:"tr-icon tr-removeFormat",factory:z.GE},{Ca:"image",V:xJ,Na:"tr-icon tr-image",factory:z.GE},{Ca:"+strikeThrough",V:yJ,Na:"tr-icon tr-strikeThrough",jb:!0},{Ca:"+subscript",V:DJ,Na:"tr-icon tr-subscript",jb:!0},{Ca:"+superscript",V:EJ,Na:"tr-icon tr-superscript",jb:!0},{Ca:"ltr",V:zJ,Na:"tr-icon tr-ltr",jb:!0},{Ca:"rtl",V:AJ,Na:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.IE(a,b,c,d,f,g);h.Gi=function(a){a=!!a;z.Ng(h.getParent().m(),
"tr-rtl-mode",a);h.Jd(a)};return h},jb:!0},{Ca:"+BLOCKQUOTE",V:BJ,Na:"tr-icon tr-BLOCKQUOTE",jb:!0},{Ca:"+formatBlock",V:cJ,caption:dJ,Na:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=JE(a,b,c,d,f,g);EE(h);rE(h,bJ);z.Jg(h.$a().Z(),"goog-menu-noaccel");h.Gi=function(a){a=a&&0<a.length?a:null;a!=h.W()&&h.Ea(a)};return h},jb:!0},{Ca:"editHtml",V:CJ,caption:FJ,Na:"tr-editHtml",factory:z.GE}],IJ=0,JJ;JJ=HJ[IJ];IJ++)z.GJ[JJ.Ca]=JJ;HJ=null;var KJ={};KJ.track=z.en;z.v(z.QE,z.Tx);z.qa(z.QE.prototype,KJ);z.QE.prototype.defaults={uk:null,title:"Distraction Free Mode",VK:"back",fT:"publish",bx:"zu-editing-distraction-free",VT:"sticky-goog-scrollfloater",qU:"zm-editable-toolbar-container"};z.QE.prototype.jd=z.jb("FullScreenPlugin");z.GJ.toggleFullScreen={Ca:"toggleFullScreen",V:"\u5199\u4f5c\u6a21\u5f0f",Na:"tr-icon tr-max",factory:z.GE};z.e=z.QE.prototype;z.e.Ke=z.pa(z.A.xg,{SV:"toggleFullScreen",nV:"enterFullScreen",oV:"exitFullScreen"});
z.e.C=function(){this.ca.H();z.Q(this.h);this.J=this.Sp=this.wc=this.Cb=this.h=null;z.QE.o.C.call(this)};
z.e.Gv=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.VK+'" name\x3d"return"\x3e\u8fd4\u56de\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.fT+'" name\x3d"save"\x3e\u53d1\u5e03\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ca.g(z.N("back",b),"click",function(a){a.preventDefault();VE(this)});this.ca.g(z.N("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&VE(this)});this.h=b;this.wc=z.N("content",b);this.Sp=z.P("div",{className:"toolbar-info"});this.J.uk||(this.J.uk=this.G.Aa)};z.e.gf=function(a){this.h||this.Gv();switch(a){case "enterFullScreen":SE(this);break;case "exitFullScreen":VE(this);break;case "toggleFullScreen":this.sy()?VE(this):SE(this)}};
z.e.sy=function(){return z.T.has(window.document.body,this.J.bx)};z.e.eH=function(){this.sy()?VE(this):"writing"===window.location.hash.slice(1)&&SE(this)};z.e.Xo=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&VE(this)};z.e.wI=function(a){z.T[a?"add":"remove"](this.Cb,this.J.VT)};z.v(WE,Vw);z.Cj("goog-checkbox-menuitem",function(){return new WE(null)});z.v(XE,z.kk);
XE.prototype.init=function(){this.om=z.M("zh-question-redirect-info");this.om.innerHTML&&(this.Co=!0);this.v().g(this.om,"click",function(a){"cancel"===a.target.name&&ZE(this)});var a=z.M("zh-question-side-header-wrap");if(z.Zr.Ob&&!z.Zr.aG&&a){var b=z.M("zh-question-filter-wrap");b?z.Ue(a,b):a.style[z.Js]="none"}(this.bg=z.M("zh-question-operation-menu"))&&this.Bj();this.v().g(z.sj,"anon_change",function(a){var b=z.M("zh-question-side-invitation-anon");b&&z.R(b,a.ob);(b=z.M("zh-question-side-invitation-notanon"))&&z.R(b,
!a.ob);this.em&&this.em.Ya(jw(this.data.bh)||!a.ob)})};
XE.prototype.Bj=function(){this.ib=new $w;var a=this.data.bn,b=this.bg.getAttribute("data-auth"),b=b?b.split(","):[];if(null==a||0===a)this.ib.Ga(this.st=YE("\u4f7f\u7528\u533f\u540d\u8eab\u4efd",!0)),this.st.Jd(this.data.ob),z.Gs&&z.y.contains(z.Gs,"question_op_redirect")||"close"===z.As.status||(this.ib.Ga(this.em=YE(this.Co?"\u64a4\u6d88\u91cd\u5b9a\u5411":"\u95ee\u9898\u91cd\u5b9a\u5411")),this.em.Ya(jw(this.data.bh)||!this.data.ob)),z.y.contains(b,"auth-f-manage")&&this.ib.Ga(this.KR=YE("\u66f4\u65b0\u8bdd\u9898\u9875\u663e\u793a",
!1)),this.v().g(this.ib,"action",this.uj),this.st&&this.v().g(z.sj,"anon_change",function(a){this.st.Jd(!!a.ob)}),this.Ib&&z.y.contains(b,"auth-pu-mark")&&(this.ib.Ga(this.zz=YE("\u4f18\u8d28\u56de\u7b54",!0)),this.zz.Jd(this.Ib.uP)),a=new hx("Settings",this.ib),a.hk=!0,jx(a),a.w(this.bg)};
XE.prototype.uj=function(a){var b=this.st;if(a.target===b)dv(b.of()?1:0,function(a){a||b.Jd(!b.of())});else if(a.target===this.em){if(!1===tC({mm:!0})())return!1;this.ep||(this.ep=new yB(this.oa),this.v().g(this.ep,"change",this.aQ));this.ib.F(!1);this.Co?ZE(this):this.ep.show()}else a.target===this.FR?z.Li("/question/"+this.data.gb+(this.FR.of()?"/unlock_summary":"/lock_summary"),function(){window.top!==window?window.top.location.href="/question/"+z.As.gb:window.location.reload()},"POST"):a.target===
this.KR?window.$.post("/refresh_topic_feeds",{q:z.As.gb}).done(function(a){a.r||z.U("\u64cd\u4f5c\u6210\u529f\uff01")}):a.target===this.zz&&window.$.post("/answer/"+this.Ib.gb+(this.zz.of()?"/good_mark":"/good_unmark")).done(function(a){a.r||z.U("\u64cd\u4f5c\u6210\u529f\uff01")})};
XE.prototype.aQ=function(){this.om.innerHTML='\x3cdiv class\x3d"zg-wrap"\x3e\x3cdiv class\x3d"zu-global-nitify-inner"\x3e\x3cspan class\x3d"zu-global-notify-icon"\x3e\x3c/span\x3e\u6b64\u95ee\u9898\u5c06\u8df3\u8f6c\u81f3 \x3ca href\x3d"/question/'+this.ep.St+'"\x3e'+this.ep.MH+'\x3c/a\x3e\uff08\x3ca href\x3d"javascript:;" name\x3d"cancel"\x3e\u64a4\u6d88\u91cd\u5b9a\u5411\x3c/a\x3e\uff09\x3c/div\x3e\x3c/div\x3e';z.R(this.om,!0);this.Co=!0;this.em.ym("\u64a4\u6d88\u91cd\u5b9a\u5411")};z.v($E,z.tp);$E.prototype.Qh=function(){$E.o.Qh.call(this);this.Uk.innerHTML="\u66f4\u65b0"};$E.prototype.ga=function(a){$E.o.ga.call(this,a);a=this.M();var b=a.B("strong",null,hw(this.kB));a.wo(b,this.$b)};z.v(aF,z.kk);var cF=null;aF.prototype.ea=function(a){this.h=z.P("div","zu-bio-editor-wrap",[this.cP=z.P("div","zu-bio-editor-inner-wrap"),this.vc=z.P("div","zm-command",[this.Uk=z.P("a",{name:"save",href:"javascript:;",className:"zg-r3px zg-btn-blue"},"\u5b8c\u6210")])]);z.y.forEach(this.$k,function(a){a=new $E(a);a.ea(this.cP);this.items.push(a)},this);this.$O&&z.R(this.vc,!1);a.appendChild(this.h);this.v().g(this.vc,"click",this.Ma)};
aF.prototype.dx=function(){var a=this.items.length,b;if(!a&&this.$k.length)for(b=0;b<this.$k.length;b++)if(this.$k[b][1])return this.$k[b][1];var c=null;for(b=0;b<a;b++)if(c=this.items[b].fb())return c};aF.prototype.Ma=function(a){(a=this.Gg(a.target))&&"save"===a.name&&(this.xa&&this.xa.F(!1),this.dispatchEvent("change"))};z.v(fF,z.S);z.e=fF.prototype;z.e.C=function(){jF(this);this.$c.H();fF.o.C.call(this)};
z.e.w=function(a){this.h=a;this.xs=z.N("draft-saved-info",a);z.R(this.xs,!1);this.GF=z.N("draft-saved-time",a);this.BL=z.N("draft-clear-button",a);a=this.v().g(this.$c,z.Qk,this.Tt).g(this.BL,"click",this.CL).g(this.Lr,"keydown",this.HP);"oninput"in this.Lr&&!z.C?a.g(this.Lr,"input",this.eP):a.g(this.Lr,"keydown",this.fP);var b=z.ys.Od&&1E3*z.ys.Od[1];b&&(kF(this,b),this.eB=(0,window.setInterval)((0,z.r)(function(){kF(this,b)},this),22E3))};
z.e.HP=function(a){(a.metaKey||a.ctrlKey)&&"s"===z.Fm[a.keyCode]&&(this.YP(),this.isContentEditable||a.preventDefault())};z.e.yw=function(){(0,window.$)(window).on("beforeunload.DraftSaver",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u6210\u529f\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.ur=function(){(0,window.$)(window).off("beforeunload.DraftSaver")};z.e.eP=function(){iF(this);gF(this)};
z.e.fP=function(a){z.Pg(a.keyCode)&&(iF(this),gF(this))};z.e.ha=function(a){this.wb.ha(a);this.wb.vp()};z.e.fb=function(){return this.wb.jf()};z.e.kI=function(){if(!this.Td){var a=this.fb();if(a){hF(this,"\u4fdd\u5b58\u4e2d\u2026");var a=(new z.Yk).add("qid",this.oa).add("content",a).add("timestamp",(0,z.w)()),b=new z.V;b.ajax("/answer/draft/save",a.toString(),"POST");this.v().g(b,"success",(0,z.r)(this.Wg,this));this.jG=b}}};z.e.TU=150;z.e.Tt=z.nn(fF.prototype.TU,fF.prototype.kI);z.e.ZP=350;
z.e.YP=z.nn(fF.prototype.ZP,fF.prototype.kI);z.e.gP=3E3;z.e.dP=z.nn(fF.prototype.gP,function(){this.Td||(this.fb()?this.Tt():lF(this))});z.e.Wg=function(a){a=z.fe(a.target);var b="",c=!1;0===a.r?b="\u5df2\u4fdd\u5b58":(b=a.msg||"\u4fdd\u5b58\u5931\u8d25\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002",c=!0);jF(this);z.R(this.xs,!0);hF(this,b,c);this.ur();"\u4fdd\u5b58\u6210\u529f"===a.msg&&this.dispatchEvent("saveContent");this.$c.start()};
z.e.CL=function(a){a.preventDefault();z.Gi("\u6e05\u9664\u8349\u7a3f",this.SF?"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5e76\u53d6\u6d88\u7f16\u8f91\u5417\uff1f":"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5417\uff1f",function(a){a&&(this.SF?(lF(this),this.wb.dispatchEvent("cancel_edit"),this.wb.Ci()):(this.ha(""),lF(this),Tu(this.wb)))},this)};var pF=z.zi(function(){var a=nF();(0,window.$)("body").append(a);return a});z.v(qF,z.S);
qF.prototype.B=function(){qF.o.B.call(this);var a=(0,window.$)('\x3cdiv class\x3d"carousel"\x3e\x3cdiv class\x3d"carousel-navigation-btn"\x3e\x3cdiv class\x3d"carousel-left-btn copyright-ico-prev"\x3e \x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-content"\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-navigation-btn"\x3e\x3cdiv class\x3d"carousel-right-btn copyright-ico-next"\x3e \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');this.OP=(0,window.$)(".carousel-left-btn",a);this.cT=(0,window.$)(".carousel-right-btn",a);
this.WC=(0,window.$)(".carousel-content",a);this.XC=(0,window.$)("\x3cdiv\x3e\x3c/div\x3e").addClass("carousel-navigation-dot-group");z.y.forEach(this.contents,function(a,c){this.WC.append(a);this.XC.append(this.yr[c])},this);this.WC.append(this.XC);rF(this,0);this.ga(a[0]);this.K=(0,window.$)(this.h).addClass(this.className)};qF.prototype.D=function(){qF.o.D.call(this);this.OP.click(window.$.proxy(this.prev,this));this.cT.click(window.$.proxy(this.next,this))};
qF.prototype.next=function(){rF(this,this.Ag+1)&&this.dispatchEvent({type:"rightShow",offset:this.Ag})};qF.prototype.prev=function(){rF(this,this.Ag-1)&&this.dispatchEvent({type:"leftShow",offset:this.Ag})};z.v(uF,z.wp);z.e=uF.prototype;z.e.KE=function(){var a=z.Ae("h2","zm-editable-content",z.M("zh-question-title"))[0];return{title:a&&(/answer\/\d+$/.test(window.location.pathname)?z.sf(a):a.firstChild.nodeValue)||"",uk:this.bj}};z.e.dx=function(){return this.kn};z.e.Zt=function(a){this.ob=a};z.e.Ya=function(a,b){this.enabled=a;this.Es?(this.Ci(),this.Sb=b,this.$b.innerHTML=this.Sb):b&&(this.Sb=b)};z.e.ga=function(a){uF.o.ga.call(this,a);this.Es=!0;z.T.add(this.$b,"zu-answer-form-disabled-wrap")};
z.e.C=function(){this.As&&(z.Q(this.As),this.uJ=this.As=null);uF.o.C.call(this)};z.e.rj=function(a){this.Zt(a.ob);this.Aq&&(this.Aq.checked=a.ob)};z.e.D=function(){uF.o.D.call(this);this.v().g(z.sj,"anon_change",this.rj)};
z.e.zg=function(){uF.o.zg.call(this);var a=this.M(),b=z.Y.wa();this.As=a.B("div","zh-answer-form clearfix",[b?iw(this.tJ):"",this.uJ=a.B("div",null,[a.B("div","zu-answer-form-title",[b?gw(this.tJ):"\u6211\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898",this.bL=a.B("span")])])]);vF(this,this.kn);a.wo(this.As,this.bj);this.v().g(this.uJ,"click",this.Ma);z.Y.wa()?z.Y.active||wF(this,'\x3cdiv class\x3d"activate-mask-tip-answer"\x3e\u4e3a\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\u3001\u6fc0\u6d3b\u5e10\u53f7\u3002\x3c/div\x3e',
'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):wF(this,'\x3cdiv class\x3d"signin-mask-tip-answer"\x3e\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u56de\u7b54\x3c/a\x3e\x3c/div\x3e')};
z.e.Wr=function(a){switch(a){case "edit_bio":a=bF();if(!this.xv){var b=z.As.gb;a.Ky=!0;a.WH=b;this.v().g(a,"change",this.mz)}this.xv=!0;eF(a);break;case "cancel_delete":this.dispatchEvent("cancel_delete_answer");break;case "answer_my_question":xF(this)}return!0};z.e.ve=function(){"editing"===this.status?this.Lb&&z.R(this.Lb,!0):this.Lb&&z.R(this.Lb,!1);z.R(this.fd,!1);this.$b&&z.R(this.$b,!this.enabled)};
z.e.IL='\x3cdiv class\x3d"zm-command clearfix"\x3e\x3clabel class\x3d"zg-left anno-box"\x3e\x3cinput name\x3d"anno-checkbox" type\x3d"checkbox"\x3e \u533f\u540d \x3cspan\x3e\x26nbsp;\x3c/span\x3e\x3c/label\x3e \x3clabel class\x3d"zg-left copyright-box"\x3e\x3cinput name\x3d"copyright-checkbox" type\x3d"checkbox"\x3e\u672a\u7ecf\u8bb8\u53ef\uff0c\u7981\u6b62\u8f6c\u8f7d'+(z.Zr.Ob?"":'\x3ca href\x3d"/terms#sec-licence-6" target\x3d"_blank"\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark" style\x3d"margin-left: 5px;" id\x3d"copyright_question_mark" data-copyright-demo\x3d"true"\x3e\x3c/i\x3e\x3c/a\x3e')+
'\x3c/label\x3e \x3c% if (questionStatus !\x3d\x3d "normal") { %\x3e\x3cspan class\x3d"zg-gray-normal" style\x3d"margin-right:5px;"\x3e\u88ab\x3c%\x3d statusText %\x3e\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\x3c/span\x3e\x3ca class\x3d"zg-right" data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e\x3c% } %\x3e\x3cspan class\x3d"\x3c%\x3d (questionStatus !\x3d\x3d "normal" ? "hidden" : "") %\x3e zg-right"\x3e\x3ca class\x3d"submit-button zg-btn-blue" name\x3d"save" href\x3d"javascript:;"\x3e\u53d1\u5e03\u56de\u7b54\x3c/a\x3e\x3c/span\x3e\x3cdiv class\x3d"draft-controls zg-right '+
(z.Zr.Ob?"draft-controls-mobile":"")+'"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
z.e.Qh=function(){var a=(0,z.Fp)(this.IL);this.vc=z.Ne(a({questionStatus:z.As.status,statusText:{suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"}[z.As.status]}));this.Uk=(0,window.$)(".submit-button",this.vc)[0];yF(this);this.vD=(0,window.$)("input[name\x3dcopyright-checkbox]",this.vc)[0];this.vD.checked=!this.hr;this.Lb.appendChild(this.vc);this.ready(function(){if(this.La&&this.La.on)this.La.on("load",this.gy,!1,this)});z.Zr.Ob||tF()};
z.e.gy=function(){var a=new fF(this);z.gc(this,a);this.v().g(a,"saveContent",function(){var a=!this.Zd&&this.La.bi("FullScreenPlugin");a&&RE(a)},!1,this);var b=Uu(this);this.v().g(b,"focus",function(){a.$c.start()}).g(b,"blur",function(){iF(a);a.Tt()}).g(this,"saveSuccess",function(){iF(a);lF(a)});a.w(this.vc);this.ZD=a};z.e.mz=function(){var a=bF().dx();a&&vF(this,a)};z.v(zF,z.S);zF.prototype.B=function(){zF.o.B.call(this);this.h=z.Ne(LJ)};zF.prototype.D=function(){zF.o.D.call(this);this.Ki=(0,window.$)(this.m());this.nk=lw("answer",this.yC);var a="/qrcode?"+window.$.param({url:window.location.protocol+"//"+window.location.hostname+"/question/"+this.vS+"/answer/"+this.yC+"#showWechatShareTip"});(0,window.$)(".js-qrcode-image",this.Ki).attr("src",a);this.Fb()};
zF.prototype.Fb=function(){var a=this;(0,window.$)("button.weibo",this.Ki).click(function(){a.nk.done(function(a){a.r||(wz(a.msg.sina),z.en("share","answer_weibo"))})})};var LJ='\x3cdiv class\x3d"answer-share-tip"\x3e\u5206\u4eab\u6211\u7684\u56de\u7b54\u5230\x3cbutton class\x3d"wechat hidden-phone"\x3e\x3cdiv class\x3d"qr-code"\x3e\u626b\u63cf\u4e8c\u7ef4\u7801\x3cimg class\x3d"js-qrcode-image" alt\x3d"\u5fae\u4fe1\u5206\u4eab\u4e8c\u7ef4\u7801"\x3e\x3c/div\x3e\x3cspan class\x3d"ico z-ico-wechat"\x3e\x3c/span\x3e\u5fae\u4fe1\x3c/button\x3e\x3cbutton class\x3d"weibo"\x3e\x3cspan class\x3d"ico z-ico-weibo"\x3e\x3c/span\x3e\u5fae\u535a\x3c/button\x3e\x3c/div\x3e';z.v(AF,z.wp);var DF=[{value:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0",label:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0"},{value:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f",label:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f"},{value:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f",label:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f"},{value:"other",label:"\u5176\u4ed6"}];z.e=AF.prototype;z.e.w=function(a){AF.o.w.call(this,a);this.v().g(z.sj,"anon_change",this.rj)};
z.e.rj=function(a){this.Ks||z.T.enable(this.h,"zm-editable-disabled",a.ob)};
z.e.Qh=function(){AF.o.Qh.call(this);this.Wz=z.P("div",{"class":"zm-editable-require-reason-wrap",style:"padding:10px 0 0 0"},[z.P("a",{"class":"zg-right zg-link-litblue",href:"/question/19550238/answer/12202028",target:"_blank"},"\u4e3a\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u88ab\u516c\u5171\u7f16\u8f91\uff1f"),CF(),this.IG=z.P("span"),this.yS=z.P("div",{"class":"zg-form-text-input",style:"height:22px;margin:10px 0 0 0;display:none"},this.xS=z.P("textarea",{style:"width:100%;height:22px !important;min-height:22px !important;"}))]);
z.Ue(this.Wz,this.vc);this.kp&&EF(this," * \u5fc5\u9009","zg-gray-normal");var a=z.Ae("select",null,this.Wz)[0];this.v().g(a,"change",function(){z.R(this.yS,"other"===a.value);EF(this," * \u5fc5\u9009","zg-gray-normal")})};
z.e.Wg=function(a){var b=z.Ae("select",null,this.Wz)[0],c=b.value;if(this.kp){if("none"===c){EF(this,"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531");return}if("other"===b.value&&(c=z.Qm(this.xS.value),!c)){EF(this,"\u8bf7\u586b\u5199\u4fee\u6539\u7406\u7531");return}}"title"===this.qr&&-1===a.indexOf("?")&&-1===a.indexOf("\uff1f")?EF(this,"\u8fd8\u6ca1\u6709\u8f93\u5165\u95ee\u53f7"):("none"===c&&(c=""),this.params=["id\x3d"+this.oa+"\x26reason\x3d"+(0,window.encodeURIComponent)(c)+"\x26question_id\x3d"+
this.oa],this.dispatchEvent("change"),AF.o.Wg.call(this,a),EF(this,"* \u5fc5\u9009","zg-gray-normal"),this.kp=!0)};z.e.jf=function(){return this.Zd&&this.SR?(0,z.kn)(z.Aa(this.La.value)):AF.o.jf.call(this)};z.e.ff=function(){(0,window.$)(window).on("beforeunload.EditorWithReason",(0,z.r)(function(){return"\u4f60\u5bf9\u95ee\u9898\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Mf=function(){(0,window.$)(window).off("beforeunload.EditorWithReason")};
z.e.Ci=function(){AF.o.Ci.call(this);this.Mf()};z.e.zf=function(){AF.o.zf.call(this);this.ff()};z.v(FF,z.Gq);FF.prototype.ba=function(a,b,c,d){var f=Sv(z.ye(a)),g=this.Ph.x+f.x,f=this.Ph.y+f.y,h=z.xl(a),g=g-h.x,f=f-h.y;z.zl(new z.te(g,f),a,b,c,null,null,d)};z.v(GF,FF);GF.prototype.Fo=0;GF.prototype.Am=function(a){this.Fo=a};GF.prototype.ba=function(a,b,c,d){var f=z.fh(a),f=z.ih(f),g;g=z.L(a);g=z.He(g.Ja);g=new z.te(this.Ph.x+g.scrollLeft,this.Ph.y+g.scrollTop);var h=b,l=z.zl(g,a,h,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)h^=2;if(l&64||l&128)h^=1;l=z.zl(g,a,h,c,f,10,d);0!=(l&496)&&z.zl(g,a,b,c,f,this.Fo,d)}};z.v(HF,$w);z.e=HF.prototype;z.e.nU=!1;z.e.fG=0;z.e.Lf=null;z.e.ga=function(a){HF.o.ga.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.M().m(a),1)};z.e.D=function(){HF.o.D.call(this);this.Af.forEach(this.BC,this);var a=this.v();a.g(this,"action",this.vQ);a.g(this.M().sa(),"mousedown",this.aH,!0);z.D&&a.g(this.M().sa(),"contextmenu",this.aH,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.Af.Qd(z.ka(a))||(a?(b={h:a,OI:b,gQ:c,Fw:d?"contextmenu":"mousedown",Uy:f},this.Af.set(z.ka(a),b)):b=null,this.ua&&this.BC(b),a=z.pa(this.bR,a),this.m()&&this.v().g(this.m(),"keydown",a))};z.e.bR=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.Zh(this,this.Ra).m(),d=new z.vc(b.xb,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.Bc(c)?z.Zc(c,"keydown",!1,d):z.Wc(c,"keydown",!1,d);32==b.keyCode&&this.hide()}};
z.e.BC=function(a){this.v().g(a.h,a.Fw,this.pH);"contextmenu"!=a.Fw&&this.v().g(a.h,"keydown",this.zR)};z.e.detach=function(a){if(!a||!this.Af.Qd(z.ka(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ka(a);if(this.ua){var b=this.Af.get(a);this.v().na(b.h,b.Fw,this.pH)}this.Af.remove(a)};z.e.CI=function(a,b,c){b=z.ba(a.OI)?new ax(a.h,a.OI,!0):new GF(b,c);b.Am&&b.Am(5);IF(this,b,a.gQ,a.Uy,a.h)};
z.e.hide=function(){this.T()&&(this.F(!1),this.T()||(this.fG=(0,z.w)(),this.Lf=null))};z.e.wy=function(){return this.T()||150>(0,z.w)()-this.fG};z.e.vQ=function(){this.hide()};z.e.pH=function(a){JF(this,a)};z.e.zR=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||JF(this,a);40==a.keyCode&&z.Iu(this)};z.e.aH=function(a){this.T()&&!this.If(a.target)&&this.hide()};z.e.Uc=function(a){HF.o.Uc.call(this,a);this.hide()};z.e.C=function(){HF.o.C.call(this);this.Af&&(this.Af.clear(),delete this.Af)};z.v(KF,z.S);KF.prototype.L=function(a,b){KF.o.L.call(this,a,b);this.v().g(a,"beforeexpand",this.rO)};KF.prototype.rO=function(a){var b=a.target;z.$h(this,function(a){b!==a&&a.Hc()&&a.Sa(!1)})};KF.prototype.H=function(){this.v().H();KF.o.H.call(this)};z.v(LF,z.Ai);LF.prototype.D=function(){LF.o.D.call(this);z.Di(this,490);(0,window.$)(this.m()).addClass("user-guiding-dialog")};z.v(PF,z.S);z.e=PF.prototype;z.e.B=function(){this.h=z.P("div",{style:"display:none",className:"question-invite-panel"})};
z.e.D=function(){PF.o.D.call(this);var a=this.h,b=this.v();if(!this.Yg){b.g(z.sj,"anon_change",this.reload);var c=z.N("cancel-anon",a);c&&b.g(c,"click",this.kN);if(!z.N("error-message")){var c=z.N("search-input",a),d=z.N("invite-title",a);this.py=z.N("invite-status",a);b.g(this.py,"click",this.lN);var f=z.N("suggest-persons",a);f&&(b.g(f,"click",this.Hx),this.MI=f);(0,window.$)(".invite-status",a).on("mouseenter mouseleave",".invited-shortlist",function(a){(0,window.$)(".invited-hovercard",this).toggleClass("in",
"mouseenter"===a.type)});this.dy(c,d);this.NI=(0,window.$)(this.MI).children().map(this.AH).get();this.Pl=(0,window.$)(".invited-fulllist",this.py).children().map(this.AH).get();QF(this);z.R(this.h,this.Wd)}}};z.e.nb=function(){PF.o.nb.call(this);this.v().H()};z.e.Wi=function(){return'\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cdiv class\x3d"spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.reload=function(){this.Hc()?this.gk():this.Yg=!0};z.e.gk=function(){var a=this,b=this.WP;this.nb();z.T.add(this.h,b);this.h.innerHTML=this.Wi();return window.$.get("/node/QuestionInvitePanelV2",{params:{question_id:this.uS}}).done(function(c){a.Yg=!1;z.T.remove(a.h,b);c=z.Ne((0,z.Ya)(c));var d=a.Hc();z.R(c,d);z.Xe(c,a.h);a.h=c;a.D()})};z.e.C=function(){PF.o.C.call(this);this.da.H()};z.e.Hc=function(){return this.Wd};z.e.expand=function(){this.Sa(!0)};z.e.collapse=function(){this.Sa(!1)};
z.e.Sa=function(a){if(a!==this.Wd){this.dispatchEvent(a?"beforeexpand":"beforecollapse");var b=(0,z.r)(function(){this.dispatchEvent(a?"expand":"collapse")},this);a&&this.Yg?this.gk().done(b):b();this.Wd=a;z.R(this.h,a)}};z.e.Cf=function(){this.Sa(!this.Wd)};
z.e.dy=function(a){var b=this,c=(0,z.Fp)('\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3cspan class\x3d"zu-autocomplete-row-name" title\x3d"\x3c%-fullname%\x3e"\x3e\x3c%-fullname%\x3e\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c%\x3dheadline%\x3e\x3c/span\x3e');this.da=new z.Ql(a,{Gd:8,source:"/people/autocomplete?type\x3dinvite",eh:a.offsetParent,placeholder:"\u641c\u7d22\u4f60\u60f3\u9080\u8bf7\u7684\u4eba",od:function(a,
b,g){g.innerHTML=c(a.data)},filter:function(a){return z.y.filter(a,function(a){return!RF(b,a.id)})},select:function(a){TF(b,"ask_to_answer_search");nw(b.Dt,a.id,"search").done(function(c){if(c.r)return z.U(c.msg);WF(b,a);UF(b,a.id,!0)});return""}})};z.e.kN=function(){dv(0)};
z.e.Hx=function(a){var b=a.target;if("BUTTON"===b.tagName||z.T.has(b,this.mP)){this.xo&&"pending"===this.xo.state()&&this.xo.abort();a="related"===b.getAttribute("data-type")?"recommended_relative_questions":"recommended_top_answerers";TF(this,a);var c=b.getAttribute("data-uid"),d=this.PF,f=(0,z.r)(function(a){a?(SF(this,b,!0),WF(this,VF(this,c)),this.sL()):(SF(this,b,!1),YF(this,c))},this);z.T.has(b,d)?(this.xo=mw(this.Dt,c),f(!1)):(this.xo=nw(this.Dt,c,a).done(function(a){a.r&&(z.U(a.msg),f(!1))}),
f(!0))}};z.e.lN=function(a){a=a.target;"BUTTON"===a.tagName&&(a=a.getAttribute("data-uid"),mw(this.Dt,a),UF(this,a,!1),YF(this,a))};z.e.AH=function(){var a=(0,window.$)(this),b=(0,window.$)(".zm-item-link-avatar",a);return{id:String((0,window.$)("button",a).data("uid")),avatar:(0,window.$)("img",b).attr("src"),fullname:b.attr("title"),url_token:b.attr("href").split("/").slice(-1)[0]}};z.e.BT='\u4f60\u5df2\u9080\u8bf7 \x3cspan class\x3d"invited-shortlist"\x3e\x3c% helper.each(persons.slice(0, 2), function(person, i, sliced) { %\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3c%\x3d i !\x3d\x3d sliced.length - 1 ? "\u3001" : ""%\x3e\x3c% }); %\x3e\x3c%\x3dhelper.fullList()%\x3e\x3c/span\x3e\x3c% if (persons.length \x3e 2) { %\x3e \u7b49 \x3c%\x3dpersons.length%\x3e \u4eba \x3c% } %\x3e';
z.e.TM='\x3cdiv class\x3d"invited-hovercard"\x3e\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cul class\x3d"invited-fulllist"\x3e\x3c% helper.each(persons, function(person, i) { %\x3e\x3cli\x3e\x3ca title\x3d"\x3c%-person.fullname%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3dperson.url_token%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3dperson.avatar%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray" title\x3d"\x3c%-person.fullname%\x3e"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3cbutton class\x3d"cancel-button zg-link-btn zg-link-gray" data-uid\x3d"\x3c%\x3dperson.id%\x3e"\x3e\u6536\u56de\u9080\u8bf7\x3c/button\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3c/div\x3e';
z.e.sL=z.zi(function(){z.Y.bh&&window.$.post("/question/popup",{action:"invite",question_token:z.As.gb},function(a){a&&OF(new LF,a)})});z.v(ZF,z.S);z.e=ZF.prototype;z.e.D=function(){ZF.o.D.call(this);this.v().g(this.h,"click",this.$o);$F(this);this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("label","question")})};z.e.Cj=function(){var a=(0,window.$)("a[name\x3dreport-question]",this.m());a.length&&rx(new px("question",this.data.oa),a[0])};
z.e.Dj=function(){var a=(0,window.$)('a[name\x3d"share"]',this.m()).get(0);a&&xz(a,"question",this.data.gb,window.location.protocol+"//"+window.location.host+"/question/"+this.data.gb)};z.e.$o=function(a){var b=(a=z.bn(this.h,a.target))&&a.name;if(b)switch(b){case "addcomment":"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(a).text())?z.mm(this.Ur,{wa:"question_add_comment_start"}).call(this,a):this.Ur(a);break;case "remove":bG(this);break;case "admin":aG(this,a);break;case "invite":this.Hx()}};
z.e.Ur=function(a){this.qa.Cf();this.qa.Hc()&&this.qa.Ei("view_comments",(0,window.parseInt)(z.sf(a),10)||0)};z.e.Hx=function(){this.OF.Cf();var a=this.OF.Hc();this.dispatchEvent(new zy("click!invitation",{category:"invitation",action:(a?"show":"hide")+"_ask_to_answer_card",label:"?",value:this.data.se}))};z.e.OL=function(a){this.iC.W(a.msg.action);this.iC.ym(a.msg.caption)};z.v(gA,z.S);z.e=gA.prototype;z.e.Ta=function(){return this.Um.data("votecount")};z.e.Ic=function(){this.dispatchEvent("change")};z.e.gk=function(){this.lm&&"pending"===this.lm.state()||(this.lm=this.ug.QE(this.Mb).done((0,z.r)(this.hp,this)))};z.e.hp=function(a){if(a=(0,z.Ya)(a))a=(0,window.$)(a),this.Um.replaceWith(a),this.Um=a,this.ic(),this.Ic()};
z.e.ic=function(){function a(a,d){var f=z.P("div","zm-voters");a.appendChild(f);var g=z.P("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.Mb+"/voters_profile",l=new Nw({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.Um.data("votecount",c.total),b.Ic()),h=c.next);return{results:a.payload,next:!!h}})}});l.w(g);l.Ad().setAttribute("hidden","true");z.gc(d,l);l.v().Ba(l,"next",function(){l.Eb().length?(l.Ad().removeAttribute("hidden"),
l.use("autoload",{DC:!1,viewport:f})):(l.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e\u8fd8\u6ca1\u6709\u4eba\u8d5e\u540c\x3c/div\x3e')});return l.Ul()}var b=this;(0,window.$)("a.more",this.Um).click(function(){var c=tw({oi:!0,title:b.Ta()+" \u4eba\u8d5e\u540c",className:"zm-voters-dialog",Xv:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.Z(),c).then(function(){b.resolve(null)})})}).promise()});c.v().g(b,"change",function(){c.kb(b.Ta()+" \u4eba\u8d5e\u540c")})})};
z.e.D=function(){this.Um=(0,window.$)(this.h);this.ic()};cG.prototype.Fb=function(){var a=[this.K.get(0)].concat(this.K.parents().get()),b=window.$.map(a,function(a){return(0,window.$)(a).data("navigable")})[0];this.qQ=b&&window.$.grep(b.items(),function(b){return~window.$.inArray(b,a)})[0]};cG.prototype.getItem=function(){return this.qQ};z.v(dG,z.wp);z.e=dG.prototype;z.e.D=function(){dG.o.D.call(this);this.ready(function(){if(this.La&&this.La.on)this.La.on("load",this.gy,!1,this)})};
z.e.gy=function(){var a=new fF(this,!0);z.gc(this,a);this.v().g(a,"saveContent",function(){var a=!this.Zd&&this.La.bi("FullScreenPlugin");a&&RE(a);(0,window.$)(this.Wq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09")}).g(a,"clearContent",function(){(0,window.$)(this.Wq).text("\u53d6\u6d88");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539")});
var b=Uu(this);this.v().g(b,"focus",function(){a.$c.start()}).g(b,"blur",function(){iF(a);this.SL!==this.jf()&&a.Tt()}).g(this,"saveSuccess",function(){delete z.ys.Od;iF(a);lF(a)}).g(this,"save_unchanged",function(){delete z.ys.Od;iF(a);lF(a)});a.w(this.vc);z.ys.Od&&z.ys.Od[0]&&(0,window.$)(this.Wq).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00")};
z.e.Qh=function(){this.vc=z.P("div","zm-command",[(0,window.$)('\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u53d6\u6d88\u7f16\u8f91\u5e76\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e')[0],this.Wq=
z.P("a",{"class":"zm-command-cancel",name:"cancel",href:"#"},"\u53d6\u6d88"),this.Uk=z.P("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"#"},"\u53d1\u5e03")]);this.Lb.appendChild(this.vc)};z.e.Pw=function(){var a=this;window.$.get("/draft/get",{qid:this.mp},function(b){b.r||(a.bu(b.msg),a.SL=b.msg)})};
z.e.IE=function(){var a=[];if(!this.disabled){var b="\u4fee\u6539";z.ys.Od&&z.ys.Od[0]&&(b="\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09");a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+b+"\x3c/span\x3e\x3c/a\x3e")}return a.join("")};z.v(eG,Qw);z.ca(eG);eG.prototype.B=function(a){var b=eG.o.B.call(this,a);z.Jg(b,"goog-submenu");fG(this,a,b);return b};eG.prototype.w=function(a,b){b=eG.o.w.call(this,a,b);z.Jg(b,"goog-submenu");fG(this,a,b);var c=z.Ae("DIV","goog-menu",b);if(c.length){var d=new $w(a.M()),c=c[0];z.R(c,!1);a.M().sa().body.appendChild(c);d.w(c);a.mh(d,!0)}return b};eG.prototype.ha=function(a,b){var c=this.Z(a),d=c&&c.lastChild;eG.o.ha.call(this,a,b);d&&c.lastChild!=d&&z.Ig(d,"goog-submenu-arrow")&&c.appendChild(d)};
eG.prototype.Ge=function(a){eG.o.Ge.call(this,a);var b=a.Z(),c=a.M(),c=z.Be(c.Ja,"SPAN","goog-submenu-arrow",b)[0];gG(a,c);c!=b.lastChild&&b.appendChild(c);z.Bg(a.m(),"haspopup","true")};z.v(hG,Vw);var AG=218;z.e=hG.prototype;z.e.Sd=null;z.e.HA=null;z.e.Yy=!1;z.e.rc=null;z.e.Jr=!1;z.e.yq=!0;z.e.wP=!1;z.e.D=function(){hG.o.D.call(this);this.v().g(this.getParent(),"hide",this.kH);this.rc&&lG(this,this.rc,!0)};z.e.nb=function(){this.v().na(this.getParent(),"hide",this.kH);this.rc&&(lG(this,this.rc,!1),this.Jr||(this.rc.nb(),z.Q(this.rc.m())));hG.o.nb.call(this)};z.e.C=function(){this.rc&&!this.Jr&&this.rc.H();this.rc=null;hG.o.C.call(this)};
z.e.zc=function(a,b){hG.o.zc.call(this,a);b&&(this.$a().tf=!0);a||(this.Sd&&z.cd(this.Sd),this.Sd=z.bd(this.Bg,AG,this))};z.e.gu=function(){var a=this.getParent();a&&z.Ju(a)==this&&(kG(this,!0),jG(this))};z.e.Bg=function(){var a=this.rc;a&&a.getParent()==this&&(kG(this,!1),z.$h(a,function(a){"function"==typeof a.Bg&&a.Bg()}))};z.e.F=function(a,b){var c=hG.o.F.call(this,a,b);c&&!this.T()&&this.Bg();return c};
z.e.ec=function(a){var b=a.keyCode,c=this.Ed()?37:39,d=this.Ed()?39:37;if(!this.Yy){if(!this.isEnabled()||b!=c&&b!=this.az)return!1;this.gu();z.Iu(this.$a());iG(this)}else if(!this.$a().ec(a))if(b==d)this.Bg();else return!1;a.preventDefault();return!0};z.e.IQ=function(){this.rc.getParent()==this&&(iG(this),this.yl().zc(this),jG(this))};z.e.kH=function(a){a.target==this.yl()&&(this.Bg(),iG(this))};z.e.kd=function(a){this.isEnabled()&&(iG(this),this.HA=z.bd(this.gu,AG,this));hG.o.kd.call(this,a)};
z.e.Hd=function(a){iG(this);if(z.yj(this,8)||z.yj(this,16))return hG.o.Hd.call(this,a);this.gu();return!0};z.e.Ga=function(a){this.$a().L(a,!0)};z.e.Oi=function(a,b){this.$a().Ek(a,b,!0)};z.e.removeItem=function(a){(a=this.$a().removeChild(a,!0))&&a.H()};z.e.ai=function(a){return z.Zh(this.$a(),a)};z.e.ul=function(){return z.Yh(this.$a())};z.e.Eb=function(){return this.$a().Eb()};
z.e.$a=function(){this.rc?this.Jr&&this.rc.getParent()!=this&&z.Wh(this.rc,this):this.mh(new $w(this.M()),!0);this.rc.m()||this.rc.B();return this.rc};z.e.mh=function(a,b){var c=this.rc;a!=c&&(c&&(this.Bg(),this.ua&&lG(this,c,!1)),this.rc=a,this.Jr=!b,a&&(z.Wh(a,this),a.F(!1,!0),a.an=!1,a.Re(!1),this.ua&&lG(this,a,!0)))};z.e.If=function(a){return this.$a().If(a)};z.Cj("goog-submenu",function(){return new hG(null)});z.v(mG,hG);mG.prototype.ec=function(a){var b=mG.o.ec.call(this,a);a=(0,window.parseInt)(z.Fm[a.keyCode],10);(0,window.isNaN)(a)||this.$a().Hb(a-1);return b};z.v(eA,z.S);z.e=eA.prototype;z.e.defaults={RI:"textarea.content",TC:".toggle-expand",$T:".summary",Wv:"zm-editable-content",Nr:!1};
z.e.D=function(){eA.o.D.call(this);var a=this.h,b=this.J;b.Nr?(this.Ve=(0,window.$)("."+b.Wv,a),this.content=this.Ve.val(),this.Bc=(0,window.$)(b.TC,a)):(this.oq=(0,window.$)(b.RI,a),this.content=this.oq.is(":input")?this.oq.val():this.oq.html(),this.Ve=(0,window.$)(b.$T,a),this.Bc=(0,window.$)(b.TC,this.Ve));if(this.Ve.length){if(this.Bc.length)this.Bc.click(!1).on("click",window.$.proxy(this.expand,this));this.Ve.on("click",window.$.proxy(this.kO,this))}else this.valid=!1,this.expand=this.collapse=
z.m,this.dispatchEvent("invalid")};z.e.Ad=function(){return this.Bc.get(0)};z.e.fb=function(){return this.content};z.e.Sa=function(a,b){a?this.expand(b):this.collapse(b)};z.e.kO=function(a){var b=z.Mo();b&&b.mc()||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),this.expand()))};
z.e.expand=function(a){this.yd||!1===this.dispatchEvent("beforeexpand")||(this.yd=!0,this.J.Nr?(this.Ve.removeClass("fixed-summary"),this.Bc.remove()):(this.Ue?this.Ue.show():this.Ve.length&&(this.Ue=(0,window.$)("\x3cdiv\x3e",{html:this.content,"class":this.J.Wv}).insertBefore(this.oq)),this.Ve.hide()),!0!==a&&this.dispatchEvent("expand"))};z.e.collapse=function(a){this.yd&&(this.yd=!1,this.Ue&&this.Ue.hide(),this.J.Nr?this.Ve.addClass("fixed-summary"):this.Ve.show(),!0!==a&&this.dispatchEvent("collapse"))};z.v(nG,z.S);var HG={all_can_comment:"\u5141\u8bb8\u4efb\u4f55\u4eba\u8bc4\u8bba",followee_can_comment:"\u5141\u8bb8\u6211\u5173\u6ce8\u7684\u4eba\u8bc4\u8bba",nobody_can_comment:"\u5173\u95ed\u8bc4\u8bba"};z.e=nG.prototype;z.e.Sn=function(){return"#answer-"+this.pa};z.e.Cj=function(){var a=(0,window.$)("a[name\x3dreport]",this.Vb);if(a.length){var b=new px("answer",this.pa);rx(b,a[0]);z.gc(b,this)}};
z.e.Dj=function(){var a=(0,window.$)("a[name\x3dshare]",this.Vb).get(0),b=(0,window.$)(".answer-date-link",this.Vb).get(0)||(0,window.$)(this.Vb).closest(".feed-item, .zm-item").find(".question_link").get(0);a&&b&&(b=b.href,/\/answer\//.test(b)||(b=b.replace(/#answer-\d+/,"")+"/answer/"+this.gb),xz(a,"answer",this.gb,b))};z.e.Vy=function(){Pz("answer",this.gb,"read")};z.e.Pj=function(){Pz("answer",this.gb,/^\/question\//.test(window.location.pathname)?"read":"touch")};
z.e.D=function(){nG.o.D.call(this);pG(this);this.Ff=z.N("zm-item-answer-author-info",this.h);var a=!1;!z.Y.wa()&&0<(0,window.$)(this.h).parents('div[data-fixed-summary\x3d"1"]').length&&(a=!0);qG(this,a);this.Vb=this.Vb||z.N("zm-item-meta",this.h);(this.mi=z.N("zm-meta-panel",this.Vb))&&this.v().g(this.mi,"click",this.$o);if(this.Oe)EG(this),this.Ff&&(this.uH=(this.ob=z.Ra(this.Ff.innerHTML,"\u533f\u540d\u7528\u6237"))?null:this.Ff.innerHTML.replace(/src=".+?"/g,'src\x3d"'+z.Y[2]+'"'),this.v().g(this.Ff,
"click",function(a){"cancel-anon"===a.target.name&&dv(!1)}));else if(this.ky(),!this.hr){var a=(0,window.$)(".copyright",this.Vb).data("author-avatar"),b=(0,window.$)(".zm-item-rich-text",this.h);a&&b.length&&oF(b,a)}sG(this);this.Ej();(0,window.$)(this.h).on("contentchange",window.$.proxy(this.Ej,this));this.ey();this.ic();DG(this);this.Cj();this.Dj();z.Ei&&!z.Fi&&tG(this)};z.e.zA=function(a){var b=this.Ej();b&&z.Uo(b,a)};
z.e.ky=function(){var a=z.N("zm-votebar",this.h)||z.N("zm-votebar",this.mi);if(a){var b=new Uz(this.pa);b.w(a);this.sb=b;this.v().g(b,"change",this.FS).g(b,"action",function(a){a.data.state===Wz.oe?z.X.ya({type:"ga_click_vote_up",target:this}):a.data.state===Wz.pg&&z.X.ya({type:"ga_click_vote_down",target:this})});(a=z.N("votenum-mobile",this.mi))&&(new aA(b)).w(a)}};
z.e.Ej=function(){if(this.zh)return this.zh;var a=z.N("zm-editable-content",this.h),b=this.sb&&this.sb.m();!this.Oe&&!z.Ei&&b&&(0,window.$)(b).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.zh=new z.Zo(null,a),this.L(a),a.tag="votebar",a.Gz=50,a.w(b))};z.e.FS=function(){this.vk&&this.vk.gk()};
z.e.ic=function(){this.Ff&&this.v().g(this.Ff,"click",this.Ma);this.Oe&&(this.QK=z.Y);this.v().g(z.sj,"anon_change",function(a){this.Oe?this.Zt(a.ob):this.sb.be()===Wz.oe&&this.vk.gk()});uG(this);(0,window.$)(this.h).on("focusin focusout",function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)})};z.e.Gg=function(a){return z.bn(this.h,a)};
z.e.Ma=function(a){if(a=(a=this.Gg(a.target))&&a.name)if("edit"===a){a=bF();if(!this.xv){var b=z.As.gb;a.Ky=!0;a.WH=b;this.v().g(a,"change",this.mz)}this.xv=!0;eF(a)}else"complex"===a&&(a=z.N("zm-item-answer-summary",this.h),b=z.N("zm-item-rich-text",this.h),z.R(a,!1),z.R(b,!0))};z.e.mz=function(){var a=bF().dx()||z.Y[4]||"";if(a){var b=z.N("zu-question-my-bio",this.Ff);b.title=a;b.innerHTML=a}};z.e.ey=function(){var a=z.N("zm-item-answer-author-wrap",this.h),a=z.N("zm-list-avatar",a);z.qt.add(a)};
z.e.Zt=function(a){a?this.Ff.innerHTML='\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e\u533f\u540d\u7528\u6237\x3ca class\x3d"zg-link-gray cancel-anon" href\x3d"javascript:void(0);" name\x3d"cancel-anon"\x3e\u53d6\u6d88\u533f\u540d\x3c/a\x3e\x3c/h3\x3e':this.Oe&&(this.uH?this.Ff.innerHTML=this.uH.replace("\x3c/h3\x3e","").replace("\x3c/H3\x3e","")+'\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e\x3c/h3\x3e':
(a=[],a.push('\x3ch3 class\x3d"zm-item-answer-author-wrap"\x3e'),a.push(ew()),a.push(fw(z.Y,"zm-item-answer-creator")),a.push("\x3c/h3\x3e"),this.Ff.innerHTML=a.join("")))};z.e.nH=function(){var a=(0,window.$)(this.h);a.hide("fast",function(){a.remove()});this.H()};
z.e.$o=function(a){var b=this.Gg(a.target),c=b&&b.name;if(c)switch(c){case "addcomment":this.Ax();this.qa&&this.qa.Hc()&&this.qa.Ei("view_comments",(0,window.parseInt)(z.sf(b),10)||0);break;case "remove":this.Xr();break;case "thanks":z.X.ya({type:"ga_click_thank_answer",target:b});this.fs();break;case "comment_opt":this.Uv||GG(this);break;case "admin":wG(this);break;case "nohelp":this.aF(a);break;case "favo":z.X.ya({type:"ga_click_collect_answer_box",target:b}),this.sj()}};
z.e.fO=function(){(new px("answer",this.pa)).BI()};z.e.aF=oG(function(a){a=a.target;var b=!!a.m;z.X.ya({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.ow&&"pending"===this.ow.state()&&this.ow.abort();var c,d;d=b?a.Hg():a.innerHTML;d=(c=-1<d.indexOf("\u64a4\u9500"))?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9";b?a.ym(d):a.innerHTML=d;c=c?"/answer/helpful":"/answer/not_helpful";b||z.Vm(a);this.ow=window.$.post(c,{aid:this.pa})},{wa:"question_answer_not_helpful",ed:!0});
z.e.iO=oG(function(){zz(this.gb)},{wa:"question_answer_share"});z.e.sj=oG(function(){var a=kA.U();nA(a,this.pa);a.show()},{wa:"question_answer_collect",ed:!0});z.e.LL=function(){this.qa||vG(this);this.qa.Cf();(0,window.$)(this.mi).toggleClass("focusin",this.qa.Hc())};z.e.Ax=oG(nG.prototype.LL,function(){return{wa:"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(z.N("toggle-comment",this.h)).text())?"question_answer_add_comment_start":!1}});
z.e.Ur=oG(function(a){this.qa&&this.qa.Hc()?this.qa.Aa.focus():this.Ax();a.preventDefault()},{wa:"question_answer_add_comment_start"});
z.e.fs=oG(function(){var a=(0,window.$)("a[name\x3dthanks]",this.mi)[0];a&&!z.T.has(a,"disabled")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Nm(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.pa})):(z.Nm(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.pa})),z.Vm(a))},{wa:"question_answer_thank"});
z.e.sA=function(a){Zz.sA(this.pa,a);(0,window.$)(".copyright",this.Vb).text(a?"\u4f5c\u8005\u4fdd\u7559\u6743\u5229":"\u7981\u6b62\u8f6c\u8f7d").attr("href",a?"/terms#sec-licence-1":"/terms#sec-licence-6")};z.e.oN=function(a){var b=a.target;a=b.W();"\u7981\u6b62\u8f6c\u8f7d"===a?this.sA(!b.of()):"\u5220\u9664"===a?this.Xr():a in HG&&window.$.post("/answer/comment_permission",{answer_id:this.pa,permission:a}).done((0,z.r)(function(a){a&&!a.r&&z.y.forEach(this.Vv,function(a){a.Jd(a===b)})},this))};
z.e.Xr=function(){z.Gi("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u81ea\u5df1\u7684\u7b54\u6848\u5417\uff1f","\u7b54\u6848\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4f60\u8fd8\u53ef\u4ee5\u64a4\u6d88\u672c\u6b21\u5220\u9664\u64cd\u4f5c\u3002",function(a){a&&(this.ii=!0,this.status=-1,IG(this))},this)};z.e.m=function(){return this.h};z.v(KG,nG);KG.prototype.w=function(a){KG.o.w.call(this,a);this.Oe&&this.Zt(this.cM.ob)};KG.prototype.T=function(){return(0,window.$)(this.h).is(":visible")};z.v(LG,z.S);var cH=z.zi(CD);z.e=LG.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};z.e.D=function(){LG.o.D.call(this);var a=z.M("zh-question-meta-wrap");a&&(this.OH=new ZF(this.data),this.L(this.OH),this.OH.w(a));this.so();NG(this);this.Qo=new PC;this.v().g(this.Qo,"change",this.Jz);this.Qo.init();this.yI();MG(this);(a=z.kj.topic_errors_info)&&z.ok(a)};
z.e.yI=function(){this.data.gb=z.As.gb;VG(this,!0);z.Y.wa()&&(TG(this),UG(this));ZG(this);(this.Sv=z.M("zg-question-suggested-topics"))&&this.v().g(this.Sv,"click",this.yQ);this.ro();this.v().g(window,"hashchange",function(a){a=a.xb;a.oldURL&&"writing"===a.oldURL.split("#")[1]||RG(this)});XG(this);OG(this);z.zs&&(0,window.setTimeout)(function(){window.location.href=z.zs},5E3)};
z.e.so=function(){Pz("question",this.data.gb,"read");this.v().g(this,["click!","show!"],function(a){"comment"===a.namespace&&a.Lc.fill("category","question_answer").fill("label","question_answer");"invitation"===a.namespace&&a.Lc.fill("label","question_page")})};z.e.Jz=function(){this.BO=!0;this.sk=(0,window.$)(this.Qo.rQ)[0];z.Ve(this.sk,z.M("zh-question-redirect-info"));z.R(this.sk,!0);z.Zr.Ob||(this.ij=new z.So,this.ij.w(this.sk),Wu(this.ij));this.v().g(this.sk,"click",this.WE);RG(this)};
z.e.TO=function(a){"close"!==z.As.status&&(a=a.target.m(),this.Jb=new AF(this.data.oa,"/question/detail","content",!0,null),BF(this.Jb,jw(this.data.bh)),this.Jb.gW=z.dn,z.N("zm-editable-content",a).innerHTML&&(this.Jb.kp=!0),this.Jb.w(a),this.v().g(this.Jb,"click_edit",function(){z.X.ya("ga_question_supplement_edit_start")}),this.v().g(this.Jb,"cancel_edit",function(){z.X.ya("ga_question_supplement_edit_cancel")}),this.v().g(this.Jb,"save_changed",function(){z.X.ya("ga_question_supplement_edit_save_changed")}),
this.v().g(this.Jb,"save_unchanged",function(){z.X.ya("ga_question_supplement_edit_save_unchanged")}),this.Jb.addEventListener("beforeedit",tC({mm:!0})))};
z.e.WO=function(a){a=a.target.m();var b=z.M("zh-question-answer-summary-link"),c;!a||!z.Zr.QF&&this.data.ZT||(c=new z.wp(!0,"/question/summary","content"),Vu(c,["id\x3d"+this.data.oa]),c.Vq=!1,c.w(a));if(b){var d=z.M("zh-question-answer-summary-wrap");this.v().g(b,"click",function(){c&&(z.R(d,!0),c.zf())}).g(d,"click",function(a){"cancel"===a.target.name&&(a=!c.jf(),z.R(d,!a))})}this.YT=c;this.YT.addEventListener("beforeedit",tC({mm:!0}))};
z.e.WE=function(a){if("close"===a.target.name){if(this.ij&&(z.Vo(this.ij),z.Uo(this.ij,!1),window.history.replaceState)){a=new z.Sk(window.location.href);var b=a.Bd();b.remove("q");b.remove("psq");window.history.replaceState({},"",a.uf+"?"+b.toString())}z.R(this.sk,!1);z.R(this.Ft,!1)}else if("A"===a.target.tagName&&"zh-question-suggest-reask"===a.target.id&&(z.R(this.Ft,!1),z.Cp.U().show()),b="a"===(0,window.$)(a.target).prop("tagName").toLowerCase()?a.target:this.Gg(a.target,"A"))a.preventDefault(),
a.stopPropagation(),a=b.getAttribute("data-source")||b.href,b=a.indexOf("#"),RG(this,z.Nd(0>b?null:a.substr(b+1)))};z.e.XN=function(){var a=this.tg,b=a.m(),c=a.re.fb()[0];z.R(b,!1);c=z.Ne((0,z.Ya)(c));z.Ue(c,b);this.Pi[a.pa]=null;this.Bq=z.y.filter(this.Bq,function(b){return b!==a.pa},this);var d=999;this.sv=z.y.filter(this.sv,function(b){b.aid===a.pa&&(d=b.vote);return b.aid!==a.pa},this);z.Q(b);a.H();YG(this,c,d,!1)};
z.e.lz=function(a){a=a.target;if(a instanceof KG){var b=a.m();switch(a.$u){case "collap":this.un.appendChild(b);z.T.add(b,"zm-item-collapsed");this.data.se--;SG(this);break;case "cancel_collap":this.Dq.appendChild(b);z.T.remove(b,"zm-item-collapsed");bH(this,b);this.data.se++;SG(this);break;case "set_delete":QG(this);this.data.se--;SG(this);break;case "cancel_delete":bH(this,this.Pi[this.pi].m()),QG(this),this.data.se++,SG(this)}}};z.e.DE=function(a){return this.Pi[a]};
z.e.aU=function(a){(a=z.bn(this.Nh,a.target))&&a.name&&("expand"===a.name?(this.HL||aH(this),$G(this,!0)):$G(this,!1))};z.e.HQ=function(){var a=this.Pi[this.pi],b;a?(JG(a),bH(this,a.m())):(b=this.Tj,a=new z.V(!0),this.v().Ba(a,"success",function(){window.location.href="/question/"+z.As.gb+"/answer/"+b.url_token}),a.ajax("/answer/unremove","aid\x3d"+b.id))};
z.e.zQ=function(){var a=this.wb,b=a.Aq.checked,c=Number(!a.vD.checked),a={oi:!0,title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5728\u8be5\u95ee\u9898\u4e0b\u7684\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"},d=(0,z.r)(function(){if(!this.xhr||!this.xhr.Ub()){var a=this.wb.jf();if(a){var d=new z.V(!0),h=new z.Yk,l=b?1:0;h.add("id",this.oa).add("content",a).add("anon",l).add("copyable",c);d.on("success",function(){z.As.ob!==l&&
z.sj.dispatchEvent(new Ou(l));var a=z.fe(this.xhr);a&&!a.r?(a=z.Ne((0,z.Ya)(a.msg[0])),this.Dq.appendChild(a),YG(this,a,this.Bq.length,!0),z.Vm(a),QG(this),iF(this.wb.ZD),lF(this.wb.ZD),this.wb.H(),z.As.ob||(new zF(this.data.gb,this.Pi[this.pi].gb)).ea((0,window.$)(".zu-main-content-inner").get(0)),this.data.se++,SG(this)):z.Ki("\u63d0\u793a\u4fe1\u606f",a.msg)},!1,this);d.ajax("/answer/add",h.toString());this.xhr=d}}},this);z.As.ob&&!b?z.Gi(a,function(a){a&&d()}):d()};z.e.Gg=function(){};
z.e.yQ=function(a){if((a=this.Gg(a.target))&&a.name){var b=a.name;"close"===b?z.R(this.Sv,!1):"addtag"===b&&(this.Qa.Ye(a.id.split("-")[1],a.innerHTML),z.R(a,!1))}};z.e.ro=function(){this.JA=new XE(this.oa);this.JA.init()};z.v(dH,LG);z.e=dH.prototype;z.e.yI=function(){(this.vr=z.M("zh-single-answer-disable-wrap"))&&this.v().g(this.vr,"click",this.aT);this.Ol();this.ro();gH();VG(this,!1);var a=(0,window.$)("#zh-question-answer-collections \x3e .zh-general-list").get(0);if(a){var b=new Nw({use:["autoload","nodeSource"]});this.L(b);b.w(a)}eH(this)};z.e.so=function(){this.v().g(this,["click!","show!"],function(a){"invitation"===a.namespace&&a.Lc.fill("label","answer_page")});dH.o.so.call(this)};
z.e.aT=function(a){a.target&&a.target.name&&JG(this.Ib)};z.e.Ol=function(){var a=z.N("zm-item-answer",z.M("zh-question-answer-wrap"));if(a){this.Ib=new KG(this.oa);this.L(this.Ib);this.Ib.w(a);a=this.v();a.g(this.Ib,"change",this.lz);if(this.Ib.Oe){a.g(z.sj,"anon_change",function(a){fH(this,a.ob)});var b=this.Ib.re;b&&a.g(b,"change",function(){var a=(0,z.Ya)(b.fb()[0]),a=z.Ne(a);z.Xe(a,this.Ib.h);this.Ib.H();this.Ol(a)})}hH(this);vG(this.Ib,{autofocus:!1,qG:!0});CD(this.Ib)}};
z.e.DE=function(a){if(this.Ib.pa===a)return this.Ib};z.e.RK='\x3ch3\x3e\u5173\u4e8e\u4f5c\u8005\x3c/h3\x3e\x3c% if (author) { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"/people/\x3c%\x3d author.url_token %\x3e" tabindex\x3d"-1"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"\x3c%\x3d author.avatar_path.replace("_s.","_m.") %\x3e"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\x3ca href\x3d"/people/\x3c%\x3d author.url_token %\x3e"\x3e\x3c%\x3d author.fullname %\x3e\x3c/a\x3e\x3c/h2\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\x3c%\x3d author.headline || "" %\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"javascript:;"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"http://img.zhihu.dev:4080/66/6b/666b0abfc_m.jpg"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\u533f\u540d\u7528\u6237\x3c/h2\x3e\x3c/div\x3e\x3c% } %\x3e';
z.e.ro=function(){this.JA=new XE(this.oa,this.Ib);this.JA.init();var a=z.M("js-sidebar-author-info");a&&(new qC(a)).init()};z.e.lz=function(a){a=a.target;if(a instanceof KG)switch(a.$u){case "collap":z.T.add(a.m(),"zm-item-collapsed");break;case "cancel_collap":z.T.remove(a.m(),"zm-item-collapsed");break;case "set_delete":case "cancel_delete":hH(this),window.location.reload()}};z.v(iH,z.S);z.e=iH.prototype;z.e.init=function(){var a=z.N("js-topic-feed-page");this.w(a)};
z.e.D=function(){iH.o.D.call(this);var a=this;this.IB=(0,window.$)(".js-topic-feed-container",this.h);this.IB.find(".js-topic-item").each(function(){var b=new lH;a.L(b);b.w(this);a.v().g(b,"unfollow",function(){mH(a)})});this.yt=new qH;this.yt.w((0,window.$)(".js-pinned-topics",this.element)[0]);(this.fc=z.M("js-load-more"))&&this.v().g(this.fc,"click",this.vz);this.v().g(this.yt,"change",function(a){(0,window.$)("#tf-"+a.YI).find(".js-pin").replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')});
this.Ou=(0,window.$)(".follow-topics-count");nH(this);this.so()};z.e.vz=function(){jH(this.fc,!0);this.xhr=new z.V(!0);this.v().Ba(this.xhr,"complete",(0,z.r)(this.Vg,this));var a=new z.cn;a.add("page",++this.page);this.xhr.ajax(window.location.pathname,a.Bd())};z.e.Vg=function(){var a=z.fe(this.xhr);a&&!a.r&&(0<a.msg.length?(kH(this,a.msg),jH(this.fc,!1)):(0,window.$)(this.fc).hide())};
z.e.so=function(){var a=(0,window.$)(this.m());window.$.each({".zu-main-sidebar .topics-plaza a":["visit_topic_square","topic_feed_sidebar"],".hidden-topics-plaza a":["visit_topic_square","topic_feed_recommend"],".js-pager.topics-pager":["click_change_recommend_topic","topic_feed_recommend"],".js-nomore-recommend":["click_nomore_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-follow":["click_follow_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-unfollow":["click_unfollow_recommend_topic",
"topic_feed_recommend"],'.topic-recommend .topic-feed-item a[href^\x3d"/question/"]':["visit_question","topic_feed_recommend"]},function(b,c){a.on("click",b,function(){z.W.apply(null,["topic"].concat(c))})})};z.v(lH,z.S);lH.prototype.D=function(){lH.o.D.call(this);this.v().g(this.h,"click",(0,z.r)(this.jz,this))};
lH.prototype.jz=function(a){var b=a.target;a=(0,window.$)(b).attr("data-action");var c=(0,window.$)(this.h).find(".topic-avatar img"),d=c.clone(),f,g=(0,window.$)(this.h).data("id");if("pin-topic"===a)f=this.getParent().yt,tH(f,g).done(function(a){if(!a.r&&a.msg){(0,window.$)(".zu-main-sidebar .side-title").show();z.Vm(b);(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"unpin-topic" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e');
a=c.offset();var g=(0,window.$)(f.h).offset();1E3<a.top-g.top?(g=(0,window.$)(".top-nav-topic-selector.current a").offset(),g={top:g.top+20,left:g.left+15,width:"25px",height:"25px",opacity:.1},d.css({position:"absolute","z-index":"999"}).css("top",a.top).css("left",a.left).appendTo("body").animate(g,300,function(){d.remove()})):d.css({position:"absolute","z-index":"999"}).appendTo("body").css("top",a.top).css("left",a.left).animate({top:g.top-63+(0,window.$)(f.h).height(),left:g.left,width:"-\x3d50px",
height:"-\x3d50px",opacity:.5},300,function(){d.remove()});(0,window.$)(".no-pin-topics").hide()}});else if("unpin-topic"===a)uH(this.getParent().yt,g,function(){var a=(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"zg-gray pin topic-hover-content" style\x3d""\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')[0];z.Vm(a)});else if("unfollow"===a){var h=this,l=(0,window.$)(h.h);(a=(0,window.$)(".topic-recommend .zg-btn-unfollow[data-id\x3d"+
b.id.match(/-(.*)/)[1]+"]").get(0))?(0,z.cu)(a,"topic",null,["zg-btn-follow","zg-btn-unfollow"]):(0,z.cu)(b,"topic",null,["follow","unfollow"]);l.fadeOut(function(){l.remove();h.dispatchEvent("unfollow")})}};z.v(qH,z.S);qH.prototype.RS=(0,z.Fp)('\x3cdiv class\x3d"side-topic-item js-pin-item  cursor-move" data-topicid\x3d"\x3c%\x3dtopic.id%\x3e" \x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"pin-topic-avatar-link"\x3e\x3cimg src\x3d"\x3c%\x3dtopic.avatar_path%\x3e" alt\x3d"" title\x3d"\u62d6\u52a8\u4ee5\u6392\u5e8f" class\x3d"side-topic-avatar js-topic-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-content ellipsis"\x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"topic-link side-topic-title"\x3e\x3c%\x3dtopic.name%\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-meta"\x3e\x3c% if (topic.children_num \x3e 0) { %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.children_num%\x3e \u4e2a\u5b50\u8bdd\u9898\x3c/span\x3e\x3cspan class\x3d"bull"\x3e\x26bull;\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.followers_num%\x3e \u4eba\u5173\u6ce8\x3c/span\x3e\x3c/div\x3e\x3c% if (topic.feed_num \x3e 0) { %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\x3c%\x3dtopic.feed_num %\x3e \u6761\u52a8\u6001\x26nbsp;\x26raquo;\x3c/a\x3e\x3c% }else{ %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\u8fdb\u5165\u8bdd\u9898 \x26raquo;\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e\x3ca href\x3d"javascript:;" data-action\x3d"up" class\x3d"up" data-tip\x3d"s$b$\u7f6e\u9876"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" data-action\x3d"remove" class\x3d"delete"\x3e\x3c/a\x3e\x3c/div\x3e');
qH.prototype.D=function(){qH.o.D.call(this);this.v().g(this.h,"click",(0,z.r)(this.jz,this));rH(this)};
qH.prototype.jz=function(a){var b=this,c=a.target,d=(0,window.$)(c).attr("data-action");if(d){var f=(0,window.$)(c).parents(".js-pin-item");if("up"===d){a=f.position();var g=f.clone();f.before(g).css({position:"absolute","z-index":"999"}).css("top",a.top).animate({top:(0,window.$)(b.h).position().top},200,function(){g.remove();f.css({position:"relative",top:0}).prependTo(b.h);b.mu()});g.css("opacity",0)}else"remove"===d&&f.fadeOut(function(){f.remove();b.mu();b.dispatchEvent({type:"change",YI:f.attr("data-topicid")});
0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})}else a.stopPropagation()};qH.prototype.mu=function(){var a=[];(0,window.$)(this.h).find("div.js-pin-item").each(function(){a.push((0,window.$)(this).attr("data-topicid"))});return window.$.post("/pin-topic",{topic_ids:a.join(",")},function(){})};z.v(vH,z.S);z.e=vH.prototype;z.e.init=function(){z.Ur.L(this);this.w(window.document.body)};
z.e.D=function(){vH.o.D.call(this);this.Nu=(0,window.$)("ul.zm-topic-cat-main").children();var a=this.ud=(0,window.$)("div.zh-general-list"),b=new Nw({use:["autoload","nodeSource"]});this.L(b);b.w(a.get(0));this.v().g(b,"next",this.xq);this.lG=b;a.on("click","a.follow",function(){(0,z.cu)(this,"topic",z.pa(z.Vm,this),null,{follow_text:"\u5173\u6ce8"})});z.G(window,"hashchange",this.fH,!1,this);this.fH()||(a.show(),this.xq())};
z.e.xq=function(){var a=this.ud.show().children();if(!a.length)return this.ud.html('\x3cp class\x3d"zg-gray-normal" style\x3d"text-align:center;line-height:4;"\x3e\u6ca1\u6709\u5b50\u8bdd\u9898\u3002\x3c/p\x3e');a.removeClass("no-border "+this.kE);a.filter(":odd").addClass(this.kE);a=a.last();a.index()%2?a.add(a.prev()).addClass("no-border"):a.addClass("no-border");a=this.Rr();a=xH(this,a.params&&a.params.topic_id);a.length&&a.addClass(this.Cn).siblings().removeClass(this.Cn)};z.e.Rr=function(){return this.ud.data("init")};
z.e.fH=function(){var a;a:{if(a=(0,window.decodeURIComponent)(window.location.hash.slice(1))){var b=wH(this,a);if(b.length&&this.Nu.filter("."+this.Cn).text()!==a){b.addClass(this.Cn).siblings().removeClass(this.Cn);a={params:{topic_id:b.data("id")}};b=this.Rr();window.$.extend(!0,b,a);this.ud.attr("data-init",JSON.stringify(b));this.ud.empty();this.lG.Vi();this.lG.Ul();a=!0;break a}}a=void 0}return a};z.v(yH,z.S);
var DH={We:"/settings/account/",US:function(){return window.$.get(DH.We+"request_unlock")},VS:function(){return window.$.Deferred().resolve((0,window.$)("#tmpl-unlock-form").html())},xU:function(a){return window.$.post(DH.We+"unlock_with_digits",a)},yU:function(a){return window.$.post(DH.We+"unlock_with_password",a)},tT:function(a){return window.$.post(DH.We+"send_unlock_digits",{type:a})},MU:function(a){return window.$.post(DH.We+"validate_email",a)},NU:function(a){return window.$.post(DH.We+"validate_phone",
a)},qT:function(a){return window.$.post(DH.We+"send_new_email_digits",{email:a})},rT:function(a){return window.$.post(DH.We+"send_new_phone_digits",{phone_no:a})},EU:function(a){return window.$.post(DH.We+"update_password",a)},DU:function(a){return window.$.post(DH.We+"update_email",a)},FU:function(a){return window.$.post(DH.We+"update_phone",a)},vU:function(a){return window.$.Deferred(function(b){window.$.post("/oauth/unbind/"+a,function(a){a.r?b.reject(a.msg):b.resolve()})}).promise()}};
yH.prototype.D=function(){yH.o.D.call(this);FH(this);var a=(0,window.$)(".phone-form",this.h);a.length&&EH(a,{wD:60,qA:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u624b\u673a",pA:DH.rT,submit:DH.FU,rt:z.pa(zH,"\u624b\u673a\u7ed1\u5b9a\u6210\u529f")});a=(0,window.$)(".password-form",this.h);a.length&&EH(a,{submit:DH.EU,rt:z.pa(zH,"\u5bc6\u7801\u8bbe\u7f6e\u6210\u529f")});GH(this);if(a=z.hn.get("SettingsAccountPage:pageAlert"))z.Qr(a),z.hn.remove("SettingsAccountPage:pageAlert")};
z.ta("ZH.entrySettingsAccount",function(){var a=new yH;a.w((0,window.$)(".settings-acount-main")[0]);return a});z.v(HH,z.S);
HH.prototype.init=function(){(0,window.$)(".report-table .report-appeal").click(function(a){a.preventDefault();var b=(0,window.$)(this).closest("tr"),c=new z.Ai;z.pi(c,!0);c.xe=!0;z.ui(c,z.ji());c.kb("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");c.ha('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');c.F(!0);c.ba();c.v().g(c,z.Xl,function(){window.$.post("/report/appeal",{report_id:b.data("id"),
reason:(0,window.$)('[name\x3d"reason"]',c.h).val()},function(){z.Gi({title:"\u7533\u8bc9\u63d0\u4ea4",oi:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",ba:!0,buttons:["\u77e5\u9053\u5566"]})})})});(0,window.$)(".report-table .report-show-deleted").click(function(a){a.preventDefault();
(0,window.$)(this).next(".report-deleted").toggleClass("hidden")})};z.v(IH,z.S);IH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};IH.prototype.D=function(){IH.o.D.call(this);JH(this,"zh-global-logs-wrap");JH(this,"zh-global-logs-questions-wrap");JH(this,"zh-question-log-list-wrap")};z.v(KH,z.S);KH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};KH.prototype.D=function(){KH.o.D.call(this);this.po("zh-question-followers-list-wrap")};KH.prototype.po=function(a){if(a=z.M(a)){var b=new Nw;this.L(b);b.use("locationSource");b.w(a)}};z.v(MH,Nw);MH.prototype.Sq=function(){return z.Ne('\x3cbutton class\x3d"feeds-loading"\x3e\x3cspan\x3e\u66f4\u591a\x3c/span\x3e\x3c/button\x3e')};MH.prototype.GA=function(a){this.Pd&&(z.lf(this.Pd.firstChild,a?"\u52aa\u529b\u52a0\u8f7d\u4e2d...":"\u66f4\u591a"),z.T.enable(this.Pd,"loading",a))};z.v(NH,z.S);NH.prototype.Ck=function(){Cz.call(this,"answer");this.Kw="entry-expaneded";this.et="item-footer";this.fq="votebar"};z.v(NH.prototype.Ck,Cz);z.e=NH.prototype.Ck.prototype;
z.e.hn=function(){NH.prototype.Ck.o.hn.call(this,{".js-expand":this.Sa,".js-thank":this.fs});this.ky();var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new $w;b.w((0,window.$)(".menu",a)[0]);b=new hx("operation",b);b.hk=!0;jx(b);ix(b);b.bc=z.as;b.w((0,window.$)(".menubutton",a)[0])}OH(this);this.Ej();b=(0,window.$)(".js-copyright-enable",this.h);b.length&&(a=(0,window.$)(".entry-content",this.h),b=b.data("author-avatar"),oF(a,b));this.Dj()};
z.e.Dj=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=(0,window.$)(this.m()).closest(".item").find(".question-link, .item-title .link").get(0);a&&b&&xz(a,"answer",this.Fg,b.href+"/answer/"+this.Fg)};
z.e.Ej=function(){var a=(0,z.r)(function(){if(!this.zh){var a=z.N("entry-content",this.h),c=this.sb&&this.sb.m();!z.Ei&&c&&(0,window.$)(c).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.zh=new z.Zo(null,a),this.L(a),a.tag="votebar",a.w(c))}},this);this.v().g(this,["expand","collapse"],function(b){(b="expand"===b.type)&&a();this.zh&&z.Uo(this.zh,b)})};
z.e.ky=function(){var a,b,c=(0,window.$)("."+this.fq,this.m())[0];c&&(a=this.sb=new Uz(this.Mb,this.entryType),this.L(a),z.gc(this,a),a.w(c),(c=(0,window.$)(".js-mobi-vote",this.m())[0])&&(new aA(a)).w(c));if(c=(0,window.$)(".zm-item-vote-info",this.m())[0])b=new gA(this.Mb,this.entryType),this.L(b),z.gc(this,b),b.w(c);a&&b&&this.v().g(a,"change",function(){b.gk()}).g(b,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(b.Ta())})};
z.e.fs=Dz(function(a){(a=a.target)&&!z.T.has(a,"thanked")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Nm(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.Mb})):(z.Nm(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.Mb})))},{wa:"question_answer_thank"});z.e.sj=Dz(function(){var a=kA.U();nA(a,this.Mb);a.show()},{wa:"question_answer_collect",ed:!0});
z.e.pe=function(){NH.prototype.Ck.o.pe.call(this);z.Mm(this.Ld.register("v",function(){this.sb&&this.sb.uu()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Mm(this.Ld.register("d",function(){this.sb&&this.sb.tu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Mm(z.Mm(z.Mm(z.Mm(this.Ld.register("o",this.Cf,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.Rp,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("s c",this.sj,this),
{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("shift+c",this.Fx,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};NH.prototype.dC=function(){Cz.call(this,"question");this.et="item-footer"};z.v(NH.prototype.dC,Cz);NH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body);this.to();this.Bs();PH();var a=(0,window.$)(".rt-comment-box")[0];if(a){var b=new Wy(this.pp.id,"roundtable");this.L(b);b.w(a)}};
NH.prototype.to=function(){this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("label","roundtable").fill("category",this.Xg)})};NH.prototype.Bs=function(){function a(a){a=a.getAttribute("data-type");return(a={answer:NH.prototype.Ck,question:NH.prototype.dC}[a])?new a:new z.S}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new MH;c.use("childConstructor",{factory:a});null!==this.getAttribute("data-navigable")&&c.use("shortcut",{items:"\x3e.item"});b.L(c);c.w(this)})};z.v(QH,z.S);QH.prototype.init=function(){z.Ur.L(this);this.w(window.document.body);this.Bs();SH(this);TH(this);RH();LH("[data-highlight]",this.lA)};
QH.prototype.Bs=function(){function a(a){var b=new z.S;(0,window.$)("li.answer-item",a).each(function(){var a=new NH.prototype.Ck;a.et="actions";a.fq="zm-votebar";b.L(a);a.w(this)});return b}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new Nw({use:["autoload","dataPagingSource"]});c.use("childConstructor",{factory:a});var d=(0,window.$)(this).data("navigable");d&&c.use("shortcut",d);b.L(c);c.w(this);Jw(c,function(a){LH((0,window.$)("[data-highlight]",a),b.lA)})})};z.v(UH,z.H);
z.qa(UH.prototype,{defaults:{source:"/topic/autocomplete",cc:null,hM:"",Lv:!1,HU:"/topic/%s",template:'\x3cli data-id\x3d"\x3c%\x3did%\x3e"\x3e\x3ca class\x3d"tag-link" href\x3d"\x3c%\x3durl%\x3e"\x3e\x3c%\x3dname%\x3e\x3c/a\x3e\x3c/li\x3e',parse:function(a){var b=(0,window.$)(a);return{Ot:!0,id:b.data("id"),url:a.href,name:b.text()}},GT:z.as,xM:"canedit",vw:"empty",pn:"button",GS:"remove-button"},bU:function(a){return Lw(this.J.HU,a.url_token)},has:function(a){return!!z.y.find(this.th,function(b){return b.name===
a.name||b.id===a.id})},HM:function(a){return z.y.find(this.th,function(b){return b.name===a})},uW:function(a){return z.y.find(this.th,function(b){return b.id===a})},Ic:function(){var a=!!z.Ze(this.cc).length;z.T.enable(this.cc,this.J.vw,!a);this.dispatchEvent("change")},add:function(a,b){a&&(this.has(a)||this.th.push(a),a.Ot=!1,b||this.J.GT.call(this,a))&&(this.PS(a),a.Ot=!0,this.dispatchEvent("add"),this.Ic())},remove:function(a){this.th=z.y.filter(this.th,function(b){return a!==b.id},this);this.dispatchEvent("remove");
this.Ic()},aN:function(){return z.y.filter(this.th,function(a){return!1!==a.Ot})},$M:function(){return z.y.map(this.aN(),function(a){return a.id})},PS:function(a){a=z.Ne(this.aI(a));this.cc.appendChild(a);this.Me(a)},aI:function(a){return(0,z.Fp)(this.J.template,a)},ea:function(){this.cc.innerHTML=z.y.map(this.th,this.aI,this).join("")},cS:function(){return z.y.map(this.OE(),this.J.parse)},OE:function(){return z.Ze(this.cc)},sg:function(){var a=this,b=a.J;this.da=VH(this.input,{source:b.source,eh:function(a){return z.zf(a,
function(a){return"static"!==window.$.css(a,"position")})}(a.input),placeholder:this.input.getAttribute("placeholder"),select:function(c){a.add({id:c.id,name:c.id?c.label:a.input.value,url:a.bU(c),avatar:c.avatar,url_token:c.url_token});return b.hM},filter:function(c){return z.y.filter(c,function(c){return b.Lv&&!c.id?!1:!z.y.find(a.th,function(a){return a.Ot&&a.id===c.id})})}});z.y.forEach(this.OE(),this.Me,this);z.G(this.input,"keypress",function(c){var d;13!==c.keyCode||b.Lv||!(d=(0,z.Ya)(this.value))||
a.da.ub()||a.add(a.HM(d)||{id:null,name:d,url:"/topic/"+d})});this.Ic()},removeTag:function(a){this.remove((0,window.$)(a).remove().data("id"))},eS:function(a,b){var c=z.y.find(this.Hv,function(b){return b.action===a});c&&c.method&&c.method.call(this,b);this.input.focus()},Me:function(a){var b=this.J;z.T.add(a,b.xM);z.y.forEach(this.Hv,function(c){var d=new z.Lj(" ",z.Uj.U());d.Fh([b.pn,c.cw].join(" "));d.ea(a);d.Ya(!0);d.qc(c.V);d.addEventListener("action",function(){this.eS(c.action,a)},!1,this)},
this)}});WH.prototype.init=function(){XH(this);$H(this)};z.v(bI,z.S);bI.prototype.tF=function(){var a=window.location.hash.slice(1);a&&(a=(0,window.$)('[data-section\x3d"'+a+'"]'),a.length&&z.Vm(a[0]))};bI.prototype.init=function(){(0,window.$)("a.js-obfuscate-email").each(function(){var a=(0,window.$)(this),b=a.data("email").split("").reverse().join("");a.attr("href","mailto:"+b).text(b)});this.tF();this.v().g(window,"hashchange",this.tF)};z.v(cI,z.S);cI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};cI.prototype.D=function(){cI.o.D.call(this);var a=(0,window.$)("#zh-following-question-item-list").children(".zh-general-list");if(a.length){var b=new Nw;this.L(b);b.use("nodeSource");b.w(a.get(0))}};z.v(dI,z.S);dI.prototype.D=function(){this.v().g(this.h,"click",this.To)};dI.prototype.To=function(a){var b=a.target;b&&"rmdraft"===b.name&&z.Gi("\u5220\u9664\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8349\u7a3f\u5417\uff1f",function(a){a&&(z.Li("/draft/delete",null,"POST","qid\x3d"+b.id.split("-")[1]),z.Q(this.h))},this)};z.v(eI,z.S);eI.prototype.init=function(){var a=z.M("zh-draft-page-wrap");a&&this.w(a)};
eI.prototype.D=function(){z.G(z.M("zh-clear-all-draft"),"click",function(){z.Gi("\u5220\u9664\u6240\u6709\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u8349\u7a3f\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",function(a){a&&z.Li("/draft/clear",function(){window.location.href="/draft"},"POST")});return!1});this.po()};eI.prototype.po=function(){var a=z.M("zh-draft-item-list");if(a){var b=new Nw;b.use("locationSource",{wt:!0}).use("childConstructor",{Wk:dI});b.w(a)}};z.v(fI,z.S);fI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};fI.prototype.D=function(){fI.o.D.call(this);gI(this);this.iy();iI(this);this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Lc.fill("category",this.Xg).fill("label",this.GM)})};fI.prototype.iy=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=NC(a).done(function(a){b.html(a)}))})};z.v(hI,Nw);
hI.prototype.D=function(){hI.o.D.call(this);this.use("childConstructor",{Wk:Qz})};z.v(kI,z.S);kI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body)};kI.prototype.D=function(){kI.o.D.call(this);this.po()};kI.prototype.po=function(){var a=z.M("js-suggest-people");if(a){var b=new Nw({source:lI()});this.L(b);b.w(a)}};mI.$inject=["$scope"];mI.prototype.removeTag=function(a,b){a.splice((0,z.y.indexOf)(a,b),1)};mI.prototype.moveupTag=function(a,b){var c=(0,z.y.indexOf)(a,b);0<c&&(a.splice(c,1),a.splice(c-1,0,b))};mI.prototype.onActvityUrlChange=function(){var a=this.Vt,b=a.activityUrl,c=a.roundtable.activityUrls;b&&-1===(0,z.y.indexOf)(c,b)&&(c.push(b),a.activityUrl="")};
mI.prototype.submit=function(a,b){var c="create"===b,d={roundtable:JSON.stringify(a)};if(c&&3>a.activityUrls.length)return z.U("\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e09\u6761\u52a8\u6001");window.$.post(window.location.pathname+window.location.search,d).then(function(c){c.success?"create"===b?(z.U(c.message||"\u6d3b\u52a8\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"),(0,window.setTimeout)(function(){window.location.href="/roundtable"},3E3)):(z.U(c.message||"\u6d3b\u52a8\u4fee\u6539\u6210\u529f"),
(0,window.setTimeout)(function(){window.location.href="/roundtable/"+a.slug},3E3)):z.U(c.message||"\u63d0\u4ea4\u5931\u8d25")})};z.v(oI,z.Ql);pI.$inject=["$parse","$timeout"];rI.$inject=["$interpolate"];tI.$inject=["$interpolateProvider"];z.v(uI,NH);uI.prototype.init=function(){z.Ur.L(this);this.w(window.document.body);this.Fe();vI(this);wI(this);PH();this.Bs()};
uI.prototype.Fe=function(){var a=(0,window.$)(".add-pending-activities-form");if(a.length){var b=(0,window.$)(".url",a),c=(0,window.$)(".time",a);c.datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"}).datetimepicker("update",new Date);var d=this.pp;a.submit(function(a){function g(a){a.success?(z.U("\u6dfb\u52a0\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},3E3)):z.U(a.message||"\u63d0\u4ea4\u5931\u8d25")}
a.preventDefault();if(!b.val())return z.U("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u5fc5\u987b\u586b\u5199");if(!c.val())return z.U("\u53d1\u5e03\u65f6\u95f4\u5fc5\u987b\u586b\u5199");a=(a=b.val().match(/\/question\/\d+\/answer\/(\d+)/))&&a[1];var h=b.val().match(/\/question\/(\d+)/),h=h&&h[1];a?window.$.post("/roundtable/"+d.slug,{action:"add_pending_activity",publish_time:c.val(),type:"answer",url_token:a},g):h?window.$.post("/roundtable/"+d.slug,{action:"add_pending_activity",publish_time:c.val(),
type:"question",url_token:h},g):z.U("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u4e0d\u6b63\u786e")})}};z.v(xI,z.S);xI.prototype.init=function(){var a=window.location.hash.slice(1);a&&(z.Vm((0,window.$)("."+a).get(0)),(0,window.$)(".zh-friendliness-sidenav").find('[data-section\x3d"'+a+'"]').addClass("active"));(0,window.$)(".zh-friendliness-sidenav a").click(function(b){a=(0,window.$)(b.target).data("section");z.Vm((0,window.$)("."+a).get(0));(0,window.$)(".zh-friendliness-sidenav a").removeClass("active");(0,window.$)(b.target).addClass("active")})};z.v(yI,z.S);
yI.prototype.init=function(){this.K=(0,window.$)(".friendly-quiz-container");this.AB=(0,window.$)(".view",this.K);(0,window.$)(".welcome-view",this.K);this.MK=(0,window.$)(".answering-view",this.K);this.Jp=(0,window.$)(".success-view",this.K);this.hl=(0,window.$)(".failed-view",this.K);this.Gp=(0,window.parseFloat)(this.K.data("star"));this.Uz=3;this.SJ=(0,window.$)(".item",this.K);this.BE=5;(0,window.$)(".start-btn",this.K).click(window.$.proxy(this.HI,this));(0,window.$)(".continue-btn",this.K).click(window.$.proxy(this.HI,
this));(0,window.$)(".choose-btn",this.K).click(window.$.proxy(this.tL,this))};yI.prototype.HI=function(){this.AB.hide();this.MK.show();this.nr=0;this.QB=(0,window.$)(this.SJ.splice(0,this.Uz));this.fD=[];zI(this)};
yI.prototype.tL=function(a){a=(0,window.$)(a.target).data("isfriendly");var b=this.Pu.data("id");this.fD.push({id:b,isFriendly:a});this.nr<this.Uz?zI(this):window.$.post("/community/friendly/quiz",{params:JSON.stringify(this.fD)},window.$.proxy(function(a){a.r||(a=a.msg,a.contain_errors?a.can_answer?BI(this,a.wrong_question_ids,!0):BI(this,a.wrong_question_ids,!1):(this.Gp+=.5,a.can_answer&&this.Gp!==this.BE?AI(this,!0):AI(this,!1)))},this))};z.ta("ZH.entryCommunity",function(){(new HH).init()});z.ta("ZH.entryQuestionLog",function(){(new IH).init()});z.ta("ZH.entryQuestionFollowersPage",function(){(new KH).init()});z.ta("ZH.entrySQ",function(){(new LG).init()});z.ta("ZH.entrySA",function(){(new dH).init()});z.ta("ZH.entryL",function(){(new QC).init()});z.ta("ZH.entryT",function(){(new vC).init()});z.ta("ZH.entryTS",function(){(new vH).init()});z.ta("ZH.entryP",function(){(new HB).init()});z.ta("ZH.entrySearch",function(){(new QH).init()});
z.ta("ZH.entryPM",function(){(new ux).init()});z.ta("ZH.entryPMDetail",function(){(new wx).init()});z.ta("ZH.entrySettings",function(){(new hC).init()});z.ta("ZH.entryTopicFeed",function(){(new iH).init()});z.ta("ZH.entryRQ3",function(){(new WH).init()});z.ta("ZH.entryTerms",function(){(new bI).init()});z.ta("ZH.entryHome",function(){(new DD).init()});z.ta("ZH.entryQuestionFollowing",function(){(new cI).init()});z.ta("ZH.entryDraft",function(){(new eI).init()});z.ta("ZH.entryExplore",function(){(new fI).init()});
z.ta("ZH.entryLookup",function(){(new kI).init()});z.ta("ZH.entryRb",function(){(new NH).init()});z.ta("ZH.entryRbEdit",function(){var a=window.angular.module("roundtableApp",[]);a.controller("RoundtableFormCtrl",mI);a.directive("uiAvatarEditor",qI);a.directive("uiSuggest",rI);a.directive("uiTimepicker",pI);a.filter("avatarUrl",sI);a.config(tI);window.angular.bootstrap(window.document.body,["roundtableApp"])});z.ta("ZH.entryRbPending",function(){(new uI).init()});z.ta("ZH.entryFriendlinessPage",function(){(new xI).init()});
z.ta("ZH.entryFriendlyQuiz",function(){(new yI).init()});z.rg("app");}).call(this, __z_z__);
//@ sourceURL=module_app.js