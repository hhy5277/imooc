<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0072)http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作</title>
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico">
<meta name="DC.Rights" content="© Copyright IBM Corporation 2012">
<meta name="Keywords" content="HTML5, Web SQL Database, Indexed Database, tttwaca">
<meta name="DC.Date" scheme="iso8601" content="2012-10-22">
<meta name="Source" content="v17 delivery:developerWorks">
<meta name="Security" content="Public">
<meta name="Abstract" content="Web SQL Database 和 Indexed Database 都是在客户端存储大量结构化数据的解决方案。Web SQL Database 实现了传统的基于 SQL 语句的数据库操作，而 Indexed Database 实现了 NoSQL 的存储方式。本文主要对比两者在 CRUD 操作方面的实现方法，按照本文所述读者可以详细了解两者异同。">
<meta name="Description" content="Web SQL Database 和 Indexed Database 都是在客户端存储大量结构化数据的解决方案。Web SQL Database 实现了传统的基于 SQL 语句的数据库操作，而 Indexed Database 实现了 NoSQL 的存储方式。本文主要对比两者在 CRUD 操作方面的实现方法，按照本文所述读者可以详细了解两者异同。">
<meta name="IBM.Effective" scheme="W3CDTF" content="2012-10-22">
<meta name="Owner" content="developerWorks/China/IBM">
<meta name="DC.Language" scheme="rfc1766" content="zh-CN">
<meta name="IBM.SpecialPurpose" content="SP001">
<meta name="IBM.Country" content="CN">
<meta name="Robots" content="index,follow">
<meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT316">
<meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="TTA00">
<meta name="dW.ContentArea" content="5">
<meta name="dW.Topic" content="264,100,41,107,62">

<meta scheme="IBM_WTMCategory" name="IBM.WTMCategory" content="SOFDCDEVCN">

<link rel="canonical" href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作.html">
<!-- HEADER_SCRIPTS_AND_CSS_INCLUDE -->
<link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/www.css" rel="stylesheet" title="www" type="text/css">
<link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/cnzh.css" rel="stylesheet" title="www" type="text/css">
<!-- Masthead/footer -->
<link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-mfN2015-01.css" media="screen,projection" rel="stylesheet" title="www" type="text/css">
<link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-article-6.css" rel="stylesheet" title="www" type="text/css">
<link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-common-features.css" rel="stylesheet" title="www" type="text/css">
<link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-local-site-v17-N2014-05.css" media="screen,projection" rel="stylesheet" title="www" type="text/css">
        <link href="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-bluemix-regbar.css" media="screen,projection" rel="stylesheet" title="www" type="text/css">
<script type="text/javascript" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/www.js">//</script>
<script type="text/javascript" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-www-v2.js">//</script>   
<script type="text/javascript">dojo.addOnLoad(function(){var dw_lang="zh_CN";var dw_source="dwchina";var dw_content=window.location.pathname.split("/")[window.location.pathname.split("/").length-2];if(dw_content=="library"){dw_content=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];dw_content=window.location.pathname.split("/")[window.location.pathname.split("/").length-3]+"-"+dw_content.substring(0,dw_content.indexOf(".html"))}var lnkID="article-rbar-bmix-home-regbar";dojo.attr(dojo.query(".dw-regbar-btn")[0],"id",lnkID);var lnkHref=dojo.attr(dojo.byId(lnkID),"href")+"?lang="+dw_lang+"&ca="+dw_source+"-_-bluemix-_-"+dw_content+"-_-regbar-article";dojo.attr(dojo.byId(lnkID),"href",lnkHref);var rbstate=dojo.cookie("dwspck");if(rbstate==undefined)rbstate=0;rbstate=Number(rbstate);if(rbstate>=2)rbstate=0;if(rbstate==1){dojo.destroy("dw-regbar");return}var dwRegbarShow=dojo.animateProperty({node:"dw-regbar",duration:1000,delay:1000,properties:{opacity:{start:0,end:1},top:0}});var ibmTopSlideDown=dojo.animateProperty({node:"ibm-top",duration:1000,delay:1000,properties:{marginTop:{start:0,end:42}}});dwRegbarShow.play();ibmTopSlideDown.play();dwHideRegbar=function(){var dwRegbarHide=dojo.animateProperty({node:"dw-regbar",duration:1000,delay:0,properties:{opacity:{start:1,end:0},top:-100}});var ibmTopSlideUp=dojo.animateProperty({node:"ibm-top",duration:1000,delay:0,properties:{marginTop:{start:42,end:0}}});dwRegbarHide.play();ibmTopSlideUp.play();setTimeout(function(){dojo.destroy("dw-regbar")},1000);dojo.cookie("dwspck","1",{expires:3650,path:"/",domain:".ibm.com"})}});</script><script type="text/javascript">
//  ibmweb.config.set({ sbs: { enabled: false }});
</script>
<script type="text/javascript">dojo.addOnLoad(function(){var dw_lang="zh_CN";var dw_source="dwchina";var dw_register="注册免费的 Bluemix 试用版";var dw_connect="连接 Bluemix 开发者";var dw_vp="在 IBM Bluemix 云平台上开发并部署您的下一个应用。";var dw_cta="开始您的试用";var dw_tile_alt="在 IBM Bluemix 云平台上开发并部署您的下一个应用。现在就开始免费试用";var dw_campaign="bluemix";var dw_content=window.location.pathname.split("/")[window.location.pathname.split("/").length-2];if(dw_content=="library"){dw_content=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];dw_content=window.location.pathname.split("/")[window.location.pathname.split("/").length-3]+"-"+dw_content.substring(0,dw_content.indexOf(".html"))}var bluDevComURL="https://developer.ibm.com/bluemix/";var bluLink="https://www.bluemix.net/";var lnkID;var lnkIDd;var lnkIDt;var bLinkEnd;var bLinkTemp;var idTrkr=[];var idCnt;var artTop=dojo.query("div.ibm-col-1-1")[0];var artChildren=dojo.query(artTop).children();var edgy=false;if(dojo.hasClass(artChildren[0],"ibm-inset"))edgy=true;if((artChildren[0].nodeName=="H2")&&(dojo.hasClass(artChildren[1],"ibm-inset")))edgy=true;if(dojo.hasClass(artChildren[0],"codesection"))edgy=true;if((artChildren[0].nodeName=="H5")&&(dojo.hasClass(artChildren[1],"codesection")))edgy=true;if((artChildren[0].nodeName=="H5")&&(artChildren[1].width>=701))edgy=true;if(artChildren[1].width>=701)edgy=true;if(dojo.hasClass(artChildren[0],"ibm-data-table"))edgy=true;if((artChildren[0].nodeName=="H5")&&(dojo.hasClass(artChildren[1],"ibm-data-table")))edgy=true;if(!(edgy)){var sBarAB='<div class="dw-article-sidebar dw-bluemix" id="dwc-exp-a">'+'<img src="//dw1.s81c.com/developerworks/i/bluemix-graphic.png" height="64" width="64" alt=""/>'+'<p>'+dw_vp+'</p>'+'<p class="ibm-button-link-alternate dw-button-green">'+'<a id="tutc-sbar-bmix-home-btn-ABa" href="'+bluLink+'" class="dw-button-large">'+dw_cta+'</a></p></div>';dojo.place(sBarAB,artTop,"first")}dojo.forEach(dojo.query("#ibm-content-main a"),function(item,index){var dw_medium="article";var bLink=dojo.attr(item,"href");var linkClass=dojo.attr(item,"class");if((dojo.attr(item,"id")!=null)&&(dojo.attr(item,"id").indexOf("-sbar-")>-1))dw_medium="sidebar";if((dojo.attr(item,"id")!=null)&&(dojo.attr(item,"id").indexOf("-vpromo-")>-1))dw_medium="video-promotion";if(bLink&&(bLink.indexOf("//bluemix.net")>-1))bLink=bLink.replace("//bluemix.net","//www.bluemix.net");if(bLink&&(bLink.indexOf("//ace.ng.bluemix.net")>-1))bLink=bLink.replace("//ace.ng.bluemix.net","//www.bluemix.net");if(bLink&&(bLink.indexOf("//console.ng.bluemix.net")>-1))bLink=bLink.replace("//console.ng.bluemix.net","//www.bluemix.net");if(bLink&&((bLink.indexOf("//www.bluemix.net")>-1)||(bLink.indexOf("//www.ng.bluemix.net")>-1)||(bLink.indexOf("//hub.jazz.net")>-1)||(bLink.indexOf("//developer.ibm.com/open")>-1))){bLinkEnd="";bLink=bLink.split("?");if((bLink[1])&&(bLink[1].indexOf("repository=")!=-1)){var deployBtn=true;bLink[0]=bLink[0]+"?"+bLink[1];bLink[1]=null}if((bLink[1])&&(bLink[1].indexOf("/")!=-1))bLinkEnd=bLink[1].substring(bLink[1].indexOf("/"));bLink=bLink[0];if(bLink.indexOf("//developer.ibm.com/open")==-1){if(bLink.indexOf("//hub.jazz.net")>-1){if(!(deployBtn)&&((bLink.indexOf("//hub.jazz.net/git")>-1)||(bLink.indexOf("//hub.jazz.net/project")>-1))){bLink=bLink+"?utm_source="+dw_source+"&utm_medium="+dw_medium+"&utm_content="+dw_content+"&utm_campaign="+dw_campaign}else{if(deployBtn){bLink=bLink+"&cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium}else{bLink=bLink+"?utm_source="+dw_source+"&utm_campaign="+dw_campaign+"&utm_content="+dw_content+"&utm_medium="+dw_medium}}}else{if(bLink.indexOf("/#/")==-1){if(bLink.substring(bLink.length-7)=="/docs/#"){bLink=bLink.replace("/docs/#","/docs/"+"?cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium)}else if(bLink.substring(bLink.length-5)=="/docs"){bLink=bLink.replace("/docs","/docs/"+"?cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium)}else{bLink=bLink+"?cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium}}else{bLink=bLink.substring(0,bLink.indexOf("#"))+"?cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium+bLink.substring(bLink.indexOf("#")-1)}}if(bLinkEnd)bLink=bLink+bLinkEnd;if(linkClass.indexOf("bluemix-home")==-1){if((bLink.indexOf("#")==-1)&&(bLink.indexOf("/solutions")==-1)&&(bLink.indexOf("/catalog")==-1)&&(bLink.indexOf("//www.bluemix.net/")!=-1)){bLink=bLink.replace("//www.bluemix.net/","//developer.ibm.com/sso/bmregistration");if(bLink.indexOf("http://")==0)bLink=bLink.replace("http://","https://");if(bLink.indexOf("//")==0)bLink=bLink.replace("//","https://");if(bLink.indexOf("?cm_mmc=")!=-1)bLink=bLink.replace("?cm_mmc=","?lang="+dw_lang+"&ca=")}if((bLink.indexOf("#")==-1)&&(bLink.indexOf("/solutions")==-1)&&(bLink.indexOf("//www.bluemix.net?")!=-1)){bLink=bLink.replace("//www.bluemix.net","//developer.ibm.com/sso/bmregistration");if(bLink.indexOf("http://")==0)bLink=bLink.replace("http://","https://");if(bLink.indexOf("//")==0)bLink=bLink.replace("//","https://");if(bLink.indexOf("?cm_mmc=")!=-1)bLink=bLink.replace("?cm_mmc=","?lang="+dw_lang+"&ca=")}}if((bLink.indexOf("#")!=-1)&&(bLink.indexOf("solutions")!=-1)){bLinkTemp=bLink.substring(0,bLink.indexOf("?"));bLink=bLink.substring(bLink.indexOf("/#/")+3,bLink.length);bLink=bLinkTemp+bLink;bLinkTemp=bLink.substring(0,bLink.indexOf("solution="));bLink=bLink.substring(bLink.indexOf("/solution=")+10,bLink.length);bLink=bLinkTemp+bLink;bLink=bLink+"?cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium}if((bLink.indexOf("#")!=-1)&&(bLink.indexOf("store")!=-1)){if(bLink.indexOf("&cloudOEPaneId=store")!=-1){bLinkTemp=bLink.split("&cloudOEPaneId=store");bLink=bLinkTemp[0]}bLinkTemp=bLink.substring(bLink.indexOf("serviceOfferingGuid=")+20,bLink.length);bLink=bLink.substring(0,bLink.indexOf(".net/")+5)+"catalog/"+bLinkTemp+"?cm_mmc="+dw_source+"-_-"+dw_campaign+"-_-"+dw_content+"-_-"+dw_medium}}dojo.attr(item,"href",bLink);}});});</script><!-- LEADSPACE_STYLES -->

</head>
<body id="ibm-com">
<div id="dw-regbar" class="dw-home-band" aria-labelledby="dw-regbar-vp" role="complementary">
    <div class="ibm-columns">
        <div class="ibm-col-6-6">
            <span id="dw-regbar-bluemix">IBM <strong>Bluemix</strong></span>
            <span id="dw-regbar-vp">点击按钮，开始云上的开发！</span>
            <p class="ibm-button-link-alternate dw-button-green">
                <a class="dw-button-large dw-regbar-btn" href="https://developer.ibm.com/sso/bmregistration">开始您的试用</a>
            </p>
        </div>
    </div>
    <span>
        <a onclick="dwHideRegbar();" role="button">
            <span id="dw-close-regbar" aria-label="Close the registration bar" title="Close the registration bar" role="button">
        </span></a>
    </span>
</div>
	<div id="ibm-top" class="ibm-landing-page">

<!-- MASTHEAD_BEGIN -->		
<div id="ibm-masthead">

    <!-- TOP ROW -->    
	<div id="dw-masthead-top-row">
		<ul id="ibm-mast-options-dw" role="toolbar" aria-label="Masthead navigation">
			<li id="dw-mast-top-4" role="presentation">
				<a href="http://www.ibm.com/developerworks/cn/" tabindex="0"><img src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dwn-dw-badge.png" width="43" height="22" alt="dW" aria-label="dW"></a>
			</li>
			<li id="dw-mast-top-0" role="presentation">
				<div id="dw-mast-signin">
					<a id="dw-mf-signin-link" class="dw-mf-noscript" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" title="登录需要启用 JavaScript" tabindex="2">登录</a>
					<span class="dw-mf-signin-spacer">|</span>
					<a id="dw-mf-reg-link" class="dw-mf-noscript" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" title="注册需要启用 JavaScript" tabindex="3">注册</a>
				</div>
				<div id="dw-mast-auth-link" class="dw-mf-hide">
					<a class="authenticated ibm-active" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" role="button" tabindex="2"></a>
					<ul id="dw-mast-auth-menu" class="dw-mf-hide">
						<li class="dw-mast-auth-menu-title" aria-hidden="true">developerWorks 社区</li>
						<li>
							<span class="dw-mast-auth-menu-arrow" aria-hidden="true">›</span><a href="http://www.ibm.com/developerworks/community/profiles/html/myProfileView.do?lang=zh" tabindex="3">我的概要信息</a>
						</li>
						<li>
							<span class="dw-mast-auth-menu-arrow" aria-hidden="true">›</span><a href="http://www.ibm.com/developerworks/community/groups/service/html/mycommunities?lang=zh" tabindex="4">我的社区</a>
						</li>
						<li>
							<span class="dw-mast-auth-menu-arrow" aria-hidden="true">›</span><a href="http://www.ibm.com/developerworks/community/news/?lang=zh" tabindex="5">设置</a>
						</li>
						<li class="dw-mast-auth-menu-divider"><hr></li>
						<li>
							<span class="dw-mast-auth-menu-arrow" aria-hidden="true">›</span><a id="dw-mast-signout-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" tabindex="6">退出</a>
						</li>
					</ul>				
				</div>
			</li>
			<li id="dw-mast-top-1">
				<div></div>
			</li>
			<li id="dw-mast-top-3" role="presentation">
				<a href="http://www.ibm.com/cn/zh/" tabindex="1">IBM</a>
			</li>
		</ul>
	</div>

    <!-- BOTTOM ROW -->
	<div id="ibm-universal-nav-dw" aria-label="Site map">
		<ul id="ibm-unav-links-dw">
			<li id="ibm-unav-home-dwlogo">
				<a href="http://www.ibm.com/developerworks/cn/"><img src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dwn-dw-wordmark.png" width="225" height="28" alt="developerWorks®"></a>
			</li>
		</ul>
		<ul id="ibm-menu-links-dw" class="ibm-menu-links-dw-cn" role="toolbar" aria-label="Site map">
			<li id="dw-mast-nav-0" role="presentation"><a href="http://www.ibm.com/developerworks/cn/topics/" tabindex="0">技术主题</a></li>
			<li id="dw-mast-nav-1" role="presentation"><a href="http://www.ibm.com/developerworks/cn/downloads/" tabindex="0">软件下载</a></li>
			<li id="dw-mast-nav-2" role="presentation"><a href="http://www.ibm.com/developerworks/community/?lang=zh" tabindex="0">社区</a></li>
			<li id="dw-mast-nav-3" role="presentation"><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&lang=zh" tabindex="0">技术讲座</a></li>
		</ul>
		<form id="ibm-search-form" action="http://www.ibm.com/search/csass/search/" method="get" name="form1" aria-label="搜索 developerWorks" role="search">
			<p>
				<label for="q"><span class="ibm-access">搜索 developerWorks</span></label>
				<input id="q" type="text" name="q" value="搜索 developerWorks" maxlength="100">
				<input type="hidden" name="sn" value="dw">
				<input type="hidden" name="lang" value="zh">
				<input type="hidden" name="cc" value="CN">
				<input type="hidden" name="en" value="utf">
				<input type="hidden" name="hpp" value="20">
				<input type="hidden" name="dws" value="cndw">
				<input type="hidden" name="lo" value="zh">
				<input id="ibm-search" class="ibm-btn-search" type="submit" value="提交">
			</p>
		</form>
	</div>    
	
</div>
<div id="fdiv" class="ibm-access"></div><!-- MASTHEAD_END -->
	    
<!-- LAYOUT -->
<!-- LEADSPACE_BEGIN --> 
<div id="ibm-leadspace-head">
	<!-- LEADSPACE_BODY_BEGIN --> 
	<div id="ibm-leadspace-body">
		<!-- Navigation_Trail_BEGIN -->
      <ul id="ibm-navigation-trail"><li><a href="http://www.ibm.com/developerworks/cn/">developerWorks 中国</a></li><li><a href="http://www.ibm.com/developerworks/cn/topics/">技术主题</a></li><li><a href="http://www.ibm.com/developerworks/cn/web/">Web development</a></li><li><a href="http://www.ibm.com/developerworks/cn/views/web/libraryview.jsp">文档库</a></li></ul>
		<!-- END_Navigation_Trail -->
			<!-- Title_Subtitle -->
			<h1>HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作</h1>
	</div>
	<!-- LEADSPACE_BODY_END --> 
	<!-- SUMMARY_BEGIN -->
	<div id="dw-summary-area" class="dw-summary-columns">
		<div class="ibm-col-6-4">
		<p>Web SQL Database 和 Indexed Database 都是在客户端存储大量结构化数据的解决方案。Web SQL Database 实现了传统的基于 SQL 语句的数据库操作，而 Indexed Database 实现了 NoSQL 的存储方式。本文主要对比两者在 CRUD 操作方面的实现方法，按照本文所述读者可以详细了解两者异同。</p>
		<p class="ibm-no-print ibm-ind-link">

			
			<span id="nCmts"></span>
		</p>
		</div>
		<div class="ibm-col-6-2 dw-toc-margin">
			<p class="dw-summary-author"><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#authorN10026" class="ibm-popup-link" onclick="ibmweb.overlay.show(&#39;authorN10026&#39;,this);return false;">姜 俊杰</a>, 软件工程师,  IBM</p>
<div id="authorN10026" class="ibm-common-overlay"><div class="ibm-head"><p><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#close" class="ibm-common-overlay-close">关闭 [x]</a></p></div><div class="ibm-body"><div class="ibm-main"><div class="ibm-title"><!--this is where the h2 usually goes--></div><div class="ibm-container ibm-alternate"><div class="ibm-container-body">
<p><!--.-->
<img class="dw-summary-bio-image-x64" alt="/developerworks/cn/web/1210_jiangjj_html5db/myphoto.jpg" name="/developerworks/cn/web/1210_jiangjj_html5db/myphoto.jpg" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/myphoto.jpg" width="64">姜俊杰，IBM 中国软件开发中心的一名软件工程师，在 ECM 部门主要从事 IBM Case Manager 相关解决方案的开发。</p><br><br></div></div></div></div><div class="ibm-footer"><!----></div></div>
			<p class="dw-summary-date">2012 年 10 月 22 日</p>
			


			<div aria-hidden="true" class="ibm-container" id="dw-toc"><div class="ibm-container-body"><ul class="ibm-twisty"><li><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#toggle" class="ibm-twisty-trigger"><img src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/c.gif" alt="-"></a><span class="ibm-twisty-head">内容</span><div class="ibm-twisty-body"><ul style="font-size:0.8em" class="ibm-link-list">
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#major1">HTML5 简介</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#major2">Web SQL Database 和 Indexed Database 简介</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#major3">浏览器对 Web SQL Database 和 Indexed Database 支持情况</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#major4">Web SQL Database 和 Indexed Database 的 CRUD 操作</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#major5">结束语</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#download">下载</a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#resources">参考资料 </a></li>
<li><a class="ibm-anchor-down-em-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#icomments">评论</a></li></ul></div></li></ul></div></div>
		</div>
	</div>
	<!-- SUMMARY_END -->
</div>
<!-- LEADSPACE_END -->

<div id="ibm-pcon">

<!-- BEGIN_IBM-CONTENT -->
<div id="ibm-content">

<!-- BEGIN_IBM-CONTENT-BODY -->
<div id="ibm-content-body">

<!-- BEGIN_IBM-CONTENT-MAIN -->
<div id="ibm-content-main">

<!-- 1_1_COLUMN_BEGIN -->
<div class="ibm-columns">
<div class="ibm-col-1-1">

<h2 id="major1">HTML5 简介</h2><p>HTML 标准自 1999 年 12 月发布的 HTML 4.01 后，后继的 HTML 5 和其它标准被束之高阁，为了推动 web 标准化运动的发展，一些公司联合起来，成立了一个叫做 Web Hypertext Application Technology Working Group （Web 超文本应用技术工作组 - WHATWG） 的组织，HTML5 草案的前身名为 Web Applications 1.0，於 2004 年被 WHATWG 提出，於 2007 年被 W3C 接纳，并成立了新的 HTML 工作团队。HTML 5 的第一份正式草案已于 2008 年 1 月 22 日公布。HTML 5 有两大特点：首先，强化了 Web 网页的表现性能。其次，追加了 <strong>本地数据库</strong>等 Web 应用的功能。HTML5 规范可以参考 W3C <a href="http://dev.w3.org/html5/spec/Overview.html">官方网站</a></p><h2 id="major2">Web SQL Database 和 Indexed Database 简介</h2><p><strong>Web SQL Database 介绍</strong></p><p>Web SQL Database API 实际上未包含在 HTML 5 规范之中，它是一个独立的规范，它引入了一套使用 SQL 操作客户端数据库的 API，这些 API 有同步的，也有异步的，
			同步版本的 API 只在工作线程（Worker Threads）上有用，由于并不是所有的浏览器都支持工作线程，一般情况下，都会使用异步 API。它的核心方法有三个：openDatabase，transaction 和 executeSql。
			这些 API 已经被广泛的实现在了不同的浏览器里，尤其是手机端浏览器。虽然 W3C 官方在 2011 年 11 月声明已经不再维护 Web SQL Database 规范，但由于其广泛的实现程度，了解这些 API 对 Web 开发还是非常有必要的。
			详细的 Web SQL Database 规范可以参考 <a href="http://www.w3.org/TR/webdatabase/">官方网站</a>。
			</p><p><strong>Indexed Database 介绍</strong></p><p>
				 Indexed Database，也可简称为 IndexedDB（以前被称作 WebSimpleDB），同样是一个 Web 客户端存储结构化数据的规范，在 2009 年由 Oracle 提出。如果说 Web SQL Databae 在客户端实现了
				传统的 SQL 数据库操作，那么 Indexed Database 更类似于 <a href="http://nosql-database.org/">NoSQL</a> 的形式来操作数据库 , 
				其中最重要的是 Indexed Database 不使用 SQL 作为查询语言。其数据存储可以不需要固定的表格模式，也经常会避免使用 SQL 的 JOIN 操作，并且一般具有水平可扩展性。目前 W3C 官方也把焦点
				投到对 Indexed Database 规范的制定当中来，而 Microsoft 和 Mozilla 是对这个规范重要的两个推动者，Firefox 4 以上已经部分实现了 Indexed DB API，并且 IE 10 中也将实现 Indexed DB API。由于在手机等移动设备的浏览器中都没有实现 Indexed DB API，所以其还有一定的局限性，但这并
				不妨碍它作为未来的 HTML5 的焦点而存在。详细的 Indexed Database 规范可以参考 <a href="http://www.w3.org/TR/IndexedDB/">官方网站</a>。
			</p><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="major3">浏览器对 Web SQL Database 和 Indexed Database 支持情况</h2><h5 id="N1007D">表 1. Web SQL Databse</h5><table border="0" cellpadding="0" cellspacing="0" class="ibm-data-table" summary="浏览器对 Web SQL Database 支持情况" width="100%"><thead xmlns:dw="http://www.ibm.com/developerWorks/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tr><th scope="col">IE</th><th scope="col">Firefox</th><th scope="col">Chrome</th><th scope="col">Safari</th><th scope="col">Opera</th><th scope="col">iOS Safari</th><th scope="col">Android Browser</th></tr></thead><tbody xmlns:dw="http://www.ibm.com/developerWorks/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tr><th class="tb-row" scope="row">6.0( × )</th><td>4.0~7.0( × )</td><td>10.0~13.0( √ )</td><td>3.1~3.2( √ )</td><td>10.5~11.0( √ )</td><td>3.2( √ )</td><td>2.1( √ )</td></tr><tr><th class="tb-row" scope="row">7.0( × )</th><td>8.0( × )</td><td>14.0( √ )</td><td>4.0( √ )</td><td>11.1( √ )</td><td>4.0~4.1( √ )</td><td>2.2( √ )</td></tr><tr><th class="tb-row" scope="row">8.0( × )</th><td>9.0( × )</td><td>15.0( √ )</td><td>5.0( √ )</td><td>11.5( √ )</td><td>4.2~4.3( √ )</td><td>2.3,3.0( √ )</td></tr><tr><th class="tb-row" scope="row">9.0( × )</th><td>10.0( × )</td><td>16.0( √ )</td><td>5.1( √ )</td><td>11.6( √ )</td><td>5.0( √ )</td><td>4.0( √ )</td></tr><tr><th class="tb-row" scope="row">10.0( × )</th><td>11.0( × )</td><td>17.0( √ )</td><td>6.0( √ )</td><td>12.0( √ )</td><td></td><td></td></tr><tr><th class="tb-row" scope="row"></th><td>12.0( × )</td><td>18.0( √ )</td><td></td><td></td><td></td><td></td></tr></tbody></table><h5 id="N10100">表 2. Indexed Databse</h5><table border="0" cellpadding="0" cellspacing="0" class="ibm-data-table" summary="浏览器对 Indexed Database 支持情况" width="100%"><thead xmlns:dw="http://www.ibm.com/developerWorks/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tr><th scope="col">IE</th><th scope="col">Firefox</th><th scope="col">Chrome</th><th scope="col">Safari</th><th scope="col">Opera</th><th scope="col">iOS Safari</th><th scope="col">Android Browser</th></tr></thead><tbody xmlns:dw="http://www.ibm.com/developerWorks/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tr><th class="tb-row" scope="row">6.0( × )</th><td>4.0~7.0( √ )</td><td>11.0~13.0( √ )</td><td>3.1~3.2( × )</td><td>10.5~11.0( × )</td><td>3.2( × )</td><td>2.1( × )</td></tr><tr><th class="tb-row" scope="row">7.0( × )</th><td>8.0( √ )</td><td>14.0( √ )</td><td>4.0( × )</td><td>11.1( × )</td><td>4.0~4.1( × )</td><td>2.2( × )</td></tr><tr><th class="tb-row" scope="row">8.0( × )</th><td>9.0( √ )</td><td>15.0( √ )</td><td>5.0( × )</td><td>11.5( × )</td><td>4.2~4.3( × )</td><td>2.3,3.0( × )</td></tr><tr><th class="tb-row" scope="row">9.0( × )</th><td>10.0( √ )</td><td>16.0( √ )</td><td>5.1( × )</td><td>11.6( × )</td><td>5.0( × )</td><td>4.0( × )</td></tr><tr><th class="tb-row" scope="row">10.0( √ )</th><td>11.0( √ )</td><td>17.0( √ )</td><td></td><td></td><td></td><td></td></tr><tr><th class="tb-row" scope="row"></th><td>12.0( √ )</td><td>18.0( √ )</td><td></td><td></td><td></td><td></td></tr></tbody></table><p>浏览器对 Web SQL Database 和 Indexed Database 支持的更详细信息可以参考网站 <a href="http://caniuse.com/">When can I use...</a></p><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="major4">Web SQL Database 和 Indexed Database 的 CRUD 操作</h2><p>
本文以网上购物中的购物车为例，在场景中，用户可以添加多个商品到购物车，并且可以在购物车中进行删除修改等操作。而购物车的数据用户希望关闭浏览器后仍然存在，以便下
次用户再次打开此网站，仍可以看到这些购物车中的商品。这个场景比较适合用客户端数据库存储购物车中的商品，因为这些商品是结构化的数据，并且购物车中可能会存在大量商品。
以下示例 code 在 Chrome 16.0 中通过测试。
     </p><p>1. 创建数据库以及相应的表</p><p>在 Web SQL Database 中，由于内嵌的是 SQLite 数据库，所以仍需用 SQL 语句创建表 , 而列的数据类型可以参考 SQLite 数据库支持的数据类型。
		应用 Web SQL Database API 提供的 OpenDatabase 方法创建 ShoppingCartDB 数据库，并且应用传统的 CREATE TABLE SQL 句法创建 ShoppingCart 表。
	 </p><h5 id="listing1">清单 1. Web SQL Database 创建操作</h5><div class="codesection"><pre class="displaycode"> var dbInfo={ 
	 dbName:"ShoppingCartDB",  // 名称
    dbVersion:"0.1", // 版本
    dbDisplayName:"Shopping Cart Database", // 显示名称
    dbEstimatedSize:10*11024*1024  // 大小 (byte) 
 }; 
		
 var db; 
 function createDB(){ 
	 db = window.openDatabase(dbInfo.dbName , dbInfo.dbVersion , 
		 dbInfo.dbDisplayName , dbInfo.dbEstimatedSize); 
 } 

 function dbError(tx, error){ 
	 console.error(error); 
 } 

 function createShoppingCartTable(){ 
	 db.transaction(function(tx){ 
     tx.executeSql( 
		"CREATE TABLE IF NOT EXISTS ShoppingCart " + 
        "(Id TEXT PRIMARY KEY, Name TEXT, Price REAL,Count INTEGER,Desc TEXT)", [],
         function(){ console.log('ShoppingCart database created successfully!' ); }, 
		 dbError 
		 ); 
	 }); 
 }</pre></div><p>在 Indexed Database 中，ObjectStore 代替了传统的表概念。每个 ObjectStore 相当于一个 key 和 value 的集合，key 相当于传统数据库表中的主键，
	  每个数据库可以有多个 ObjectStore。创建数据库时需要使用 Indexed Database API 的 open 方法，创建 ShoppingCartDB，并且调用 createObjectStore 方法创建 ShoppingCart ObjectStore。
	 </p><h5 id="listing2">清单 2. Indexed Database 创建操作
	  </h5><div class="codesection"><pre class="displaycode"> var dbInfo={ 
	 dbName:"ShoppingCartDB",  // 名称
    dbVersion:"0.1"// 版本
 }; 
		
 var db; 
 var indexedDB = window.indexedDB || window.webkitIndexedDB; 

 if ('webkitIndexedDB' in window) { 
	 window.IDBTransaction = window.webkitIDBTransaction; 
	 window.IDBKeyRange = window.webkitIDBKeyRange; 
 } 

 function createDBAndShoppingCartTable(){ 
	 var request = indexedDB.open(dbInfo.dbName); 
	 request.onsuccess = function(evt) { 
		 db = evt.target.result; 
		 // 只能在 setVersion 事务中创建 Object Stores; 
		 if (dbInfo.dbVersion!= db.version) { 
			 var setVReq = db.setVersion(dbInfo.dbVersion); 
			 // onsuccess 方法是唯一创建 Object Stores 的地方
			 setVReq.onerror = dbError; 
			 setVReq.onsuccess = function() { 
				 if(db.objectStoreNames.contains("ShoppingCart")) { 
          db.deleteObjectStore("ShoppingCart"); 
				 } 
				 <strong>db.createObjectStore("ShoppingCart",{keyPath: "id"});</strong>
				 refreshShoppingCart(); 
			 }; 
		 } 
		 else{ 
			 refreshShoppingCart(); 
		 } 
	 }; 
	 request.onerror = dbError; 
 } 

 function dbError(error){ 
	 console.error(error); 
 }</pre></div><p>2. 添加商品数据</p><h5 id="fig1">图 1. 添加商品界面</h5><img alt="添加商品界面" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/figure1.jpg" width="520"><p>在 Web SQL Database 中仍需使用传统的 SQL INSERT 操作，向表中添加数据。Web SQL Database API 提供的方法可以使用参数形式向表中插入数据。</p><h5 id="listing3">清单 3. Web SQL Database 添加数据操作</h5><div class="codesection"><pre class="displaycode"> function insertDataToShoppingCart(data){ 
	 db.transaction(function(tx){ 
		 tx.executeSql("INSERT INTO ShoppingCart " + 
			"(Id, Name,Price,Count,Desc) VALUES (?,?,?,?,?)" , 
			 [data.id, data.name,data.price,data.count,data.desc], 
			 function(tx, result){ 
				 refreshShoppingCart(); 
			 }, 
			 dbError 
		 ); 
	 }); 
 }</pre></div><p>在 Indexed Database 中需要使用 ObjectStore 的 put 方法，把 key 和 value 添加到 ObjectStore 中。</p><h5 id="listing4">清单 4. Indexed Database 添加数据操作</h5><div class="codesection"><pre class="displaycode"> //data 是个 JavaScript 对象结构是 {id:String,item:Object} 
 //data 中的 item 属性是个对象，包括商品的信息，例如名称，价格等
 function insertOrUpdateDataToShoppingCart(data){ 
	 console.log("insertOrUpdateDataToShoppingCart",data); 
	 var trans = db.transaction(["ShoppingCart"], IDBTransaction.READ_WRITE); 
	 var store = trans.objectStore("ShoppingCart"); 
	 var request = store.put(data); 
	 request.onsuccess = function(e) { 
		 refreshShoppingCart(); 
	 }; 
	 request.onerror = dbError; 
 }</pre></div><p>3. 读取商品数据</p><h5 id="fig2">图 2. 购物车列表界面</h5><img alt="购物车列表界面" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/figure2.jpg" width="520"><p>在 Web SQL Database 可以使用 SQL 的 SELECT 语句查询出所有的记录，然后遍历行数据，获取所有商品信息。</p><h5 id="listing5">清单 5. Web SQL Database 读取数据操作</h5><div class="codesection"><pre class="displaycode"> function refreshShoppingCart(){ 
	 dojo.byId("shoppingCartTableData").innerHTML=""; 
	 db.transaction(function(tx){ 
		 tx.executeSql("SELECT * FROM ShoppingCart" ,[], 
			 function(tx, result){ 
				 for(var i=0;i&lt;result.rows.length;i++){  
          var item=result.rows.item(i); 
          var shoppingCart = dojo.byId("shoppingCartTableData"); 
          var tableRow = dojo.create("tr",{},shoppingCart); 
          dojo.create("td",{"innerHTML":item.Name},tableRow); 
          dojo.create("td",{"innerHTML":item.Price},tableRow); 
          dojo.create("td",{"innerHTML":item.Count},tableRow); 
          dojo.create("td",{"innerHTML":item.Desc},tableRow); 
          dojo.create("td",{"innerHTML":item.Price*item.Count},tableRow); 
          var actions = dojo.create("td",{},tableRow); 
          var btnDelete = new dijit.form.Button({ 
						"label":"删除", 
						"onClick":(function(id){ 
		          return function(){deleteDataFromShoppingCart(id)}} 
	          )(item.Id) 
          }); 
          var btnUpdate = new dijit.form.Button({ 
                         "label":"更新", 
                         "onClick":(function(item){return function(){ 
		          showUpdateDataDialog( 
			          {id:item.Id,name:item.Name,price:item.Price, 
			          count:item.Count,desc:item.Desc}); 
	          }})(item) 
          }); 
          actions.appendChild(btnDelete.domNode); 
          actions.appendChild(btnUpdate.domNode); 
				 } 
			 }, 
			 dbError 
		 ); 
	 }); 
 }</pre></div><p>在 Indexed Database 中需要根据其提供的查询 API 进行数据的查询。这里使用 IDBKeyRange 这个对象确定需要查询数据的上下限，在调用 ObjectStore 提供的 openCursor 
	   方法，传进 IDBKeyRange 对象作为参数。然后像使用数据库游标一样，在 onsuccess 回调方法中，获取数据对象，每次获取下一行数据时需要调用 result 对象的 continue 方法。
	  </p><h5 id="listing6">清单 6. Indexed Database 读取数据操作</h5><div class="codesection"><pre class="displaycode"> function refreshShoppingCart(){ 
	 dojo.byId("shoppingCartTableData").innerHTML=""; 
	 var trans = db.transaction(["ShoppingCart"], IDBTransaction.READ_ONLY); 
	 var store = trans.objectStore("ShoppingCart"); 
	 var keyRange = IDBKeyRange.lowerBound(0);// 查询所有数据
	 var cursorReq = store.openCursor(keyRange); 
	 cursorReq.onsuccess = function(evt) { 
		 var result = evt.target.result; 
		 if(!result)return;// 没有数据返回
		 var item = result.value.item 
		 var shoppingCart = dojo.byId("shoppingCartTableData"); 
		 var tableRow = dojo.create("tr",{},shoppingCart); 
		 dojo.create("td",{"innerHTML":item.name},tableRow); 
		 dojo.create("td",{"innerHTML":item.price},tableRow); 
		 dojo.create("td",{"innerHTML":item.count},tableRow); 
		 dojo.create("td",{"innerHTML":item.desc},tableRow); 
		 dojo.create("td",{"innerHTML":item.price*item.count},tableRow); 
		 var actions = dojo.create("td",{},tableRow); 
		 var btnDelete = new dijit.form.Button({ 
			"label":"删除", 
			"onClick":(function(id){ 
				 return function(){deleteDataFromShoppingCart(id)}} 
			 )(result.value.id) 
		 }); 
		 var btnUpdate = new dijit.form.Button({ 
			"label":"更新", 
			"onClick":(function(item){return function(){ 
		  showUpdateDataDialog({id:result.value.id,name:item.name, 
          price:item.price,count:item.count,desc:item.desc}); 
			 }})(item) 
		 }); 
		 actions.appendChild(btnDelete.domNode); 
		 actions.appendChild(btnUpdate.domNode); 
		 result.continue();// 继续读取下一行操作
	 }; 
	 cursorReq.onerror = dbError; 
 }</pre></div><p>3. 更新商品数据</p><h5 id="fig3">图 3. 更新商品信息界面</h5><img alt="更新商品信息界面" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/figure3.jpg" width="520"><p>在 Web SQL Database 中需要使用传统的 SQL UPDATE 操作更新数据库表中的数据。</p><h5 id="listing7">清单 7. Web SQL Database 更新数据操作</h5><div class="codesection"><pre class="displaycode"> function updateDataToShoppingCart(data){ 
	 console.log("updateDataToShoppingCart",data); 
	 db.transaction(function(tx){ 
		 tx.executeSql("UPDATE ShoppingCart SET " + 
			"Name = ?, Price = ? , Count = ?,Desc = ? WHERE Id = ?" , 
			 [data.name,data.price,data.count,data.desc,data.id], 
			 function(tx, result){ 
				 refreshShoppingCart(); 
			 }, 
			 dbError 
		 ); 
	 }); 
 }</pre></div><p>在 Indexed Database 操作中，更新数据和添加数据的方法是一样，如果 data 中的 id 在 ObjectStore 中已经存在了，将进行更新操作，否则将添加新数据</p><h5 id="listing8">清单 8. Indexed Database 更新数据操作</h5><div class="codesection"><pre class="displaycode"> function insertOrUpdateDataToShoppingCart(data){ 
	 console.log("insertOrUpdateDataToShoppingCart",data); 
	 var trans = db.transaction(["ShoppingCart"], IDBTransaction.READ_WRITE); 
	 var store = trans.objectStore("ShoppingCart"); 
	 var request = store.put(data); 
	 request.onsuccess = function(e) { 
		 refreshShoppingCart(); 
	 }; 
	 request.onerror = dbError; 
 } 3</pre></div><p>3. 删除商品数据</p><p>在 Web SQL Database 中需要使用传统的 SQL DELETE 操作删除数据库中表记录。</p><h5 id="listing9">清单 9. Web SQL Database 删除数据操作</h5><div class="codesection"><pre class="displaycode"> function deleteDataFromShoppingCart(id){ 
	 console.log("deleteDataFromShoppingCart",id); 
	 db.transaction(function(tx){ 
		 tx.executeSql("DELETE FROM ShoppingCart WHERE Id = ?" , 
			 [id], 
			 function(tx, result){ 
				 refreshShoppingCart(); 
			 }, 
			 dbError 
		 ); 
	 }); 
 }</pre></div><p>在 Indexed Database 中，需要使用 API 中 ObjectStore 的 delete 方法，传进 key 值作为参数，删除相应的记录。</p><h5 id="listing10">清单 10. Indexed Database 删除数据操作</h5><div class="codesection"><pre class="displaycode"> function deleteDataFromShoppingCart(id){ 
	 console.log("deleteDataFromShoppingCart",id); 
	 var trans = db.transaction(["ShoppingCart"], IDBTransaction.READ_WRITE); 
	 var store = trans.objectStore("ShoppingCart"); 
	 var request = store.delete(id); 
	 request.onsuccess = function(e) { 
		 refreshShoppingCart(); 
	 }; 
	 request.onerror = dbError; 
 }</pre></div><div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="major5">结束语</h2><p>
				本文基于购物车示例详细介绍了 Web SQL Database 和 Indexed Database 的 CRUD 操作，从代码简洁程度来看，Indexed Database 的操作更清晰。但 Web SQL Database 的
				操作方式对传统开发人员来说更友好。由于在不同的平台上浏览器对两种客户端数据库的支持程度的差异，分别掌握两种客户端数据库的操作方法还是非常有必要的。
				随着 HTML5 规范的发展，相信未来在客户端存储数据将会越来越容易。
			</p><!--CMA ID: 841836--><!--Site ID: 10--><!--XSLT stylesheet used to transform this file: dw-document-html-7.0.xsl-->
<div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p><h2 id="download">下载</h2><table class="ibm-data-table dw-download-table" cellpadding="0" cellspacing="0" border="0"><thead><tr><th scope="col">描述</th><th scope="col">名字</th><th scope="col">大小</th></tr></thead><tbody><tr><th scope="row" class="ibm-table-row">示例代码</th><td nowrap="nowrap"><a href="http://www.ibm.com/developerworks/apps/download/index.jsp?contentid=841836&filename=html5-client-database.src.zip&method=http&locale=zh_CN">html5-client-database.src.zip</a></td><td nowrap="nowrap">5KB</td></tr></tbody></table>

</div>
</div>
<!-- 1_1_COLUMN_END -->

<!-- SPLIT_COLUMNS_BEGIN -->
<div class="ibm-columns">

<!-- 6_4_COLUMN_BEGIN -->
<div class="ibm-col-6-4">

<h2 id="resources" class="ibm-rule">参考资料 </h2><h3 class="dw-resources-category-heading">学习</h3><ul class="ibm-bullet-list"><li>关于 Web SQL Database 的规范，请参考 <a href="http://www.w3.org/TR/webdatabase/">Web SQL Database</a>。
			</li><li>关于 Indexed Database 的规范，请参考 <a href="http://www.w3.org/TR/IndexedDB/">Indexed Database</a>。
			</li><li><a href="http://www.ibm.com/developerworks/cn/web/">developerWorks Web development 专区：</a>通过专门关于 Web 技术的文章和教程，扩展您在网站开发方面的技能。
			</li><li><a href="http://www.ibm.com/developerworks/cn/ajax/">developerWorks Ajax 资源中心：</a>这是有关 Ajax 编程模型信息的一站式中心，包括很多文档、教程、论坛、blog、wiki 和新闻。任何 Ajax 的新信息都能在这里找到。
			</li><li><a href="http://www.ibm.com/developerworks/cn/web20/">developerWorks Web 2.0 资源中心</a>，这是有关 Web 2.0 相关信息的一站式中心，包括大量 Web 2.0 技术文章、教程、下载和相关技术资源。
			</li><li>关于 HTML5 的规范，请参考 <a href="http://dev.w3.org/html5/spec/Overview.html">Web SQL Database</a></li><li>查看 <a href="http://www.ibm.com/developerworks/cn/web/lp/html5/">HTML5 专题</a>，了解更多和 HTML5 相关的知识和动向。
			</li><li>查看 <a href="http://nosql-database.org/">NoSQL 介绍</a>，了解更多和 NoSQL 相关的知识和动向。
			</li></ul><h3 class="dw-resources-category-heading">讨论</h3><ul class="ibm-bullet-list"><li>加入 <a href="http://www.ibm.com/developerworks/cn/community/">developerWorks 中文社区</a>。查看开发人员推动的博客、论坛、组和维基，并与其他 developerWorks 用户交流。</li></ul>

<!-- INLINE_COMMENTS_BEGIN -->
<h2 id="icomments" class="ibm-alternate-rule ibm-no-print">条评论</h2>
    
<div class="ibm-no-print" id="dw-icomments-container">	
	<div id="threadShow"></div>
</div>
<!-- Sign in OVERLAY STARTS HERE -->
    
<!-- Sign in OVERLAY STARTS HERE -->
<div class="ibm-common-overlay" id="signin_overlay">
<div class="ibm-head">
<p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" onclick="dwsi.siInst.clearForm();">关闭 [x]</a></p>
</div>
<div class="ibm-body">
<div class="ibm-main">

 <div class="ibm-title">
<h2>developerWorks: 登录</h2>
<div id="ibm-overlay-error-signin" class="no-display"></div>
</div>
<div class="ibm-container ibm-alternate ibm-buttons-last">
<div class="ibm-container-body">
<p class="ibm-overlay-intro">标有星（<span class="ibm-required">*</span>）号的字段是必填字段。</p> 
<form class="ibm-column-form" id="sFormId" action="" method="post" name="sForm" onsubmit="return false;">
<p><label for="ibmid">IBM ID:<span class="ibm-required">*</span></label><span>
    <input name="ibm-id" id="ibmid" size="25" value="" class="required" type="text" onkeypress="dwsi.siInst.handleEP(event,this.form);">
    <br><a onclick="window.location=&#39;/developerworks/dwwi/DWAuthRouter?m=reg&amp;lang=zh_CN&amp;d=&#39;+encodeURIComponent(location.protocol + &#39;//&#39; + location.hostname + location.pathname + &#39;#icomments&#39;); return false;" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" class="ibm-forward-link">需要一个 IBM ID？</a> <br>
    <a class="ibm-forward-link" href="http://www.ibm.com/developerworks/dwwi/jsp/WSHelp.jsp?lang=zh_CN">忘记 IBM ID？</a> 
</span>
</p> 
<p><label for="password">密码：<span class="ibm-required">*</span></label><span>
    <input name="password" id="password" size="25" value="" class="required" type="password" onkeypress="dwsi.siInst.handleEP(event,this.form);">
    <br><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" onclick="(function ()
        {window.location=&#39;https://www.ibm.com/account/profile?page=forgot&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d=&#39;+encodeURIComponent(dwsi.siInst.getAuthUrl())+&#39;%3Fm%3Dloginpage%26lang%3Dzh_CN%26d%3D&#39;+encodeURIComponent(location.href);})();">忘记密码？</a>
    <br><a class="ibm-forward-link" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" onclick="(function () {window.location=&#39;https://www.ibm.com/account/profile?page=chpw&amp;lang=zh_CN&amp;appname=ibm&amp;required=null&amp;d=&#39;+encodeURIComponent(location.href);})();">更改您的密码</a></span></p> 
<p class="dw-perm-box">
	<span><input id="perm" type="checkbox" name="perm_name"><label for="perm"> 保持登录。</label></span>
</p>
<p>单击提交则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/community/terms?lang=zh">查看条款和条件</a>。</p>
<div class="ibm-buttons-row">
   <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="dwsi.siInst.signin();return false;" type="submit"><span class="ibm-sep">&nbsp;</span>
<input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="dwsi.siInst.clearForm();ibmweb.overlay.hide(&#39;signin_overlay&#39;);return false;"></p>
</div>
</form>
 <div class="ibm-overlay-rule"><hr></div> 

<p>在您首次登录 developerWorks 时，会为您创建一份个人概要。<strong>您的个人概要中的信息（您的姓名、国家/地区，以及公司名称）是公开显示的，而且会随着您发布的任何内容一起显示，除非您选择隐藏您的公司名称。</strong>您可以随时更新您的 IBM 帐户。</p>
<div><p class="dw-c-overlay-secure">所有提交的信息确保安全。</p></div>
</div>
</div>
</div>
</div>
<div class="ibm-footer"></div>
</div>
<!-- Display name OVERLAY STARTS HERE -->
<div class="ibm-common-overlay" id="displayname_overlay">
<div class="ibm-head">
<p><a class="ibm-common-overlay-close" href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#" onclick="dwsi.siInst.clearForm();">关闭 [x]</a></p>
</div>
<div class="ibm-body">
<div class="ibm-main">
<div class="ibm-title">
<h2>选择您的昵称</h2><br><br>
<div id="ibm-overlay-error-dname" class="no-display"></div>
</div>
<div class="ibm-container ibm-alternate ibm-buttons-last">
<div class="ibm-container-body">
<p class="ibm-overlay-intro">当您初次登录到 developerWorks 时，将会为您创建一份概要信息，您需要指定一个昵称。您的昵称将和您在 developerWorks 发布的内容显示在一起。</p><p><strong>昵称长度在 3 至 31 个字符之间</strong>。 
    您的昵称在 developerWorks 社区中必须是唯一的，并且出于隐私保护的原因，不能是您的电子邮件地址。</p>
<p class="ibm-overlay-intro">标有星（<span class="ibm-required">*</span>）号的字段是必填字段。</p> 
<form id="dFormId" method="post" action="" name="dForm" onsubmit="return false;" class="ibm-column-form">
<p><label for="displayname">昵称：<span class="ibm-required">*</span></label><span>
    <input name="displayname" id="displayname" size="25" value="" type="text" onkeypress="dwsi.siInst.handleEP(event,this.form);"></span>
    <span class="ibm-form-note">(昵称长度在 3 至 31 个字符之间)</span>
</p>
<p>单击<strong>提交</strong>则表示您同意developerWorks 的条款和条件。 <a href="http://www.ibm.com/developerworks/community/terms?lang=zh">查看条款和条件</a>.</p>
<div class="ibm-buttons-row">
   <p><input class="ibm-btn-arrow-pri" name="ibm-submit" value="提交" onclick="dwsi.siInst.signin();return false;" type="submit"><span class="ibm-sep">&nbsp;</span>
<input value="取消" type="button" name="ibm-cancel" class="ibm-btn-cancel-sec" onclick="dwsi.siInst.clearForm();ibmweb.overlay.hide(&#39;displayname_overlay&#39;);return false;"></p>
</div>
</form>
<div class="ibm-overlay-rule"><hr></div>
<div><p class="dw-c-overlay-secure">所有提交的信息确保安全。</p></div>
</div>
</div>
</div>
</div>
<div class="ibm-footer"></div>
</div>


<!-- INLINE_COMMENTS_END -->

</div>
<!-- 6_4_COLUMN_END -->

<!-- 6_2_COLUMN_BEGIN -->
<div class="ibm-col-6-2">

<!-- Next_Steps -->
<!-- Dig_Deeper -->


<!-- Promotion_Module -->
    
<!-- PROMOTION_MODULE_START -->
<div class="ibm-alternate-rule"><hr></div>
<ul class="ibm-portrait-module-list">
<li><img height="60" width="60" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/sm-f-bluemixrobot60.png" alt="IBM Bluemix 资源中心">
<h3><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/cloud/bluemix/">IBM Bluemix 资源中心</a></h3>
<p>文章、教程、演示，帮助您构建、部署和管理云应用。</p></li>
<li><img height="60" width="60" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/sm-f-comcommunity60.png" alt="developerWorks 中文社区">
<h3><a class="ibm-feature-link" href="http://www.ibm.com/developerworks/cn/community/">developerWorks 中文社区</a></h3>
<p>立即加入来自 IBM 的专业 IT 社交网络。</p></li>
<li><img height="60" width="60" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/sm-f-bluemixathon60.png" alt="Bluemixathon 挑战赛">
<h3><a class="ibm-feature-link" href="http://bluemixathon.devpost.com/">Bluemixathon 挑战赛</a></h3>
<p>为灾难恢复构建应用，赢取现金大奖。</p></li>
</ul>
<!-- PROMOTION_MODULE_END -->
</div>
<!-- 6_2_COLUMN_END -->

</div>
<!-- SPLIT_COLUMNS_END -->

<!-- BOTTOM_BACK_TO_TOP -->
<div class="ibm-columns">
<div class="ibm-col-1-1">
	<div class="ibm-alternate-rule"><hr></div><p class="ibm-ind-link ibm-back-to-top"><a href="http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html#ibm-pcon" class="ibm-anchor-up-link">回页首</a></p>
</div>
</div>

<!-- Rating_Meta_BEGIN -->
<!--Rating_Meta_BEGIN--><div class="metavalue">static.content.url=http://www.ibm.com/developerworks/js/artrating/</div><div class="metavalue">SITE_ID=10</div><div class="metavalue">Zone=Web development</div><div class="metavalue">ArticleID=841836</div><div class="metavalue">ArticleTitle=HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作</div><div class="metavalue">publish-date=10222012</div><script language="javascript" type="text/javascript">document.write('<div class="metavalue">url='+location.href.replace(/</g,  '%3C')+'</div>');</script><div class="metavalue">url=http://www.ibm.com/developerworks/cn/web/1210_jiangjj_html5db/index.html</div><!--Rating_Meta_END-->
<!-- Rating_Meta_END -->

</div>
<!-- END_IBM_CONTENT_MAIN -->

</div>
<!-- END_IBM_CONTENT_BODY -->

</div>
<!-- END_IBM_CONTENT -->

</div>
<!-- END_IBM_PCON -->
<!-- FOOTER_BEGIN -->
<div id="ibm-footer"><!-- IBM footer container; disabled --></div>

<div id="ibm-footer-module-dwwrapper" role="contentinfo" aria-label="developerWorks Footer">

<div id="ibm-footer-module-dw">
	<div class="dw-footer-columns">
		<div class="dw-footer-col-6-1 dw-footer-col-6-1-cn">
			<ul>
				<li><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina" tabindex="0">帮助</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/author/" tabindex="0">联系编辑</a></li>
				<li><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina" tabindex="0">提交内容</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/rss/" tabindex="0">订阅源</a></li>
			</ul>
        </div>
		<div class="dw-footer-col-6-2">
			<ul>
				<li><a href="http://www.ibm.com/vrm/newsletter/10104?S_TACT=105AGX52&S_CMP=dwcntop" tabindex="0">在线浏览每周时事通讯</a></li>
				<li><a class="dwcn-sina-link" href="http://weibo.com/ibmdw/" target="_blank" tabindex="0">新浪微博</a></li>
				<li><a href="https://www.ibm.com/developerworks/community/report?lang=zh" tabindex="0">报告滥用</a></li>
				<li><a href="https://www.ibm.com/developerworks/community/terms?lang=zh" tabindex="0">使用条款</a></li>
				<li><a href="https://www.ibm.com/developerworks/cn/community/terms/thirdparty/" tabindex="0">第三方提示</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-3">
			<ul>
				<li><a href="http://www.ibm.com/privacy/cn/zh/" tabindex="0">隐私条约</a></li>
				<li><a href="http://www.ibm.com/ibm/accessibility/cn/" tabindex="0">浏览辅助</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/academic/" tabindex="0">IBM 教育学院教育培养计划</a></li><li><a href="http://www.ibm.com/developerworks/cn/gep/">IBM 创业企业全球扶持计划</a></li><li><a href="http://www.ibm.com/partnerworld/isv/">ISV 资源 (英语)</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-4"> 
			<ul>
				<li><a href="http://www.ibm.com/developerworks/cn/newsletter/" tabindex="0">dW 中国每周时事通讯</a></li>
			</ul>
			
		</div>
		<div class="dw-footer-col-6-5">
			<ul>
				<li class="dw-footer-lang-head">选择语言：</li>
				<li><a href="http://www.ibm.com/developerworks/" tabindex="0">English</a></li>
				<li><a href="http://www.ibm.com/developerworks/cn/" lang="zh" tabindex="0">中文</a></li>
				<li><a href="http://www.ibm.com/developerworks/jp/" lang="ja" tabindex="0">日本語</a></li>
				<li><a href="http://www.ibm.com/developerworks/ru/" lang="ru" tabindex="0">Русский</a></li>
				<li><a href="http://www.ibm.com/developerworks/br/" lang="pt" tabindex="0">Português (Brasil)</a></li>
				<li><a href="http://www.ibm.com/developerworks/ssa/" lang="es" tabindex="0">Español</a></li>
				<li><a href="http://www.ibm.com/developerworks/vn/" lang="vi" tabindex="0">Việt</a></li>
			</ul>
		</div>
		<div class="dw-footer-col-6-6">
			<img width="223" height="46" alt="IBM®" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dwn-ibm-logo-v17.png">
			<img class="dw-preload" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/ibm_sprite_social_blue_ON.png" alt="" width="1" height="1">
		</div>
	</div>
</div>

</div><!-- FOOTER_END -->

<!-- END_IBM-TOP -->
</div>

<!-- SCRIPTS_INCLUDE_BEGIN -->
<script type="text/javascript" src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/dw-comments.js">//</script>
<script type="text/javascript" language="JavaScript">
	dojo.ready(function(){
		rBHash = typeof rBHash == "undefined" ? {} : rBHash;
		rBHash['viperLang'] = 'zh';
		rBHash['urlLang'] = 'cn';
		rBHash['dwwi2Lang'] = 'zh_CN';
		rBHash['appCode'] = 'dwmav';
		rBHash['signoutUrl'] = (location.host.toLowerCase() === "www.ibm.com" || location.host.toLowerCase() === "developer.ibm.com") ? 'http://www.ibm.com/developerworks/cn/' : ''; 
		dwsi.siInst = new dwweb.dynnav.dwsi();
		dwsi.siInst.initSI();		

		// construct the comment widget
dwc.cmts = '条评论';
dwc.signInPreText = '请';
dwc.signIn = '登录';
dwc.or = '或';
dwc.register = '注册';
dwc.signInPostText = '';
dwc.leaveCmt = '后发表评论。';
dwc.view = '查看';
dwc.totalCmts = '共有评论';
dwc.postYourCmt = '添加您的评论';
dwc.show = '显示：';
dwc.recentCmts = '最新评论';
dwc.allCmts = '所有评论';
dwc.tooLongCmt = '您的评论超过了 1000 字符限制';
dwc.numCharsLeft = '剩余 <span id="charCount">{1}</span> 字符';
dwc.reportAbuse = '报告滥用';
dwc.notifyMsg = '有新评论时提醒我';
dwc.htmlWarning = '注意：评论中不支持 HTML 语法'; 
dwc.cmt = '评论：';
dwc.addCmts = '添加评论';
dwc.addCmt = '添加评论';
dwc.doNotErase = '--在下方添加评论--'; 
dwc.viewOrAddCmts = '查看或添加评论';
dwc.reportInapprCont = '举报不良信息';
dwc.reportInapprContLink = 'http://www.ibm.com/developerworks/forums/forum.jspa?forumID=1834';
dwc.postingCmt = '正在发布评论……';
dwc.noCmt = '快来添加第一条评论';
dwc.netwkErr = '在检索评论时出错，请稍后刷新。';
dwc.addACmt = '添加评论';
dwc.instructCmt = '标有星号（<span class="ibm-required">*</span>）的是必填项目。';
dwc.btnPost = '发布';
dwc.btnPostAnon = '匿名发布';
dwc.btnClrCmt = '清除评论';
dwc.btnCancel = '取消';
dwc.showRecent = '显示最新的 {1} 条评论'; // {1} is the count to be substituted
dwc.showNext = '显示后 {1} 条评论'; // {1} is the count to be substituted
dwc.showAllCmts = '显示所有评论';
dwc.enterCmt = '请输入评论内容。';
dwc.loginErr = '暂时无法验证您的登录状态，请稍后再试。';
dwc.postErr = '暂时无法发布您的评论，请稍后再试。';
dwc.postBy = '由 <strong>{1}</strong>  于 {2} '; // {1} is the author to be substituted; {2} is the date
dwc.siteId = 10;
dwc.lang = 'zh_CN';
dwc.viperLang = 'zh';
//dwc.abuseHref =  null;
dwc.maxChars = 1000;
dwc.cmtTxt =  '评论：';
dwc.cmtsTxt =  '评论：';  
		dwc && new dwc.comments('threadShow','95%',5,'nCmts','icomments');
		});
</script>



<!-- BEGIN: Use this section to set page specific variables for the Unica Page Tag -->
<script language="JavaScript">var NTPT_PGEXTRA="ibmSkillLevel=3&ibmCmaId=841836&ibmContentAreas=web";</script>
<!--END --><!-- SCRIPTS_INCLUDE_END -->

<div id="ibm-metrics">
<script src="./HTML5 Web SQL Database 与 Indexed Database 的 CRUD 操作_files/stats.js" type="text/javascript">//</script>
</div>



</body></html>