//util from midpage
(function(d){d.baiduCproPage={};(function(f){var a=function(b,a){return b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))};f.dom={find:function(b){if(""!==b)return document.getElementById(b)},hasClass:a,getChildElement:function(b){for(var a=[],e=0,f=b.childNodes.length;e<f;e++)1===b.childNodes[e].nodeType&&a.push(b.childNodes[e]);return a},getByClass:function(a){if(document.getElementsByClassName)return document.getElementsByClassName(a);for(var c=[],e=document.getElementsByTagName("*"),f=e.length,
                                                                                                                                                                                                                                d=0;d<f;d++)-1<e[d].className.indexOf(a)&&c.push(e[d]);return c},css:function(a,c){if(a)return(a.currentStyle?a.currentStyle:window.getComputedStyle(a,null))[c]},addClass:function(b,c){a(b,c)||(b.className=b.className?b.className+(" "+c):b.className+c)},removeClass:function(b,c){a(b,c)&&(b.className=b.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)")," "))}}})(d.baiduCproPage);(function(d){d.eventUtil={addEvent:function(a,b,c){b=b.replace(/^on/i,"").toLowerCase();a.addEventListener?a.addEventListener(b,
    c,!1):a.attachEvent("on"+b,function(){c(window.event)})},removeEvent:function(a,b){eventType=eventType.replace(/^on/i,"").toLowerCase();a.removeEventListener?a.removeEventListener(eventType,b,!1):a.detachEvent("on"+eventType,b)},hover:function(a,b,c){this.addEvent(a,"mouseover",function(c){for(c=c.target||c.srcElement;c!=a;)c=c.parentNode;b(c)});this.addEvent(a,"mouseout",function(b){for(b=b.target||b.srcElement;b!=a;)b=b.parentNode;c(b)})},enter:function(a,b){this.addEvent(a,"keydown",function(a){13===
a.keyCode&&(b(a),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)});document.onkeydown=function(a){a=a||window.event;13===a.keyCode&&b(a)}},click:function(a,b){this.addEvent(a,"click",function(a){b(a)})}}})(d.baiduCproPage);(function(d){d.html={em:function(a,b,c){var d=new RegExp(b,"ig");return a=a.replace(d,"<font color="+(c||"red")+">"+b+"</font>")},loadCss:function(a){var b=document,c=b.createElement("style");c.setAttribute("type","text/css");c.styleSheet?c.styleSheet.cssText=a:(a=b.createTextNode(a),
    c.appendChild(a));a=b.getElementsByTagName("head");a.length?a[0].appendChild(c):b.documentElement.appendChild(c)},loadJs:function(a,b){var c=document.createElement("script");c.onload=function(){b()};c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&b()};c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)},getLength:function(a){if(!a)return"";a=String(a);a=a.replace(/([^\x00-\xff])/g,"$1 ");return a.length/2},trim:function(a){return a.replace(/^\s+|\s+$/g,
    "")},ellipsis:function(a,b){return a?a.length<=b?a:a.substring(0,b-2)+"..":""},cutString:function(a,b,c){a=String(a);c=c||"";if(0>b||a.replace(/[^\x00-\xff]/g,"ci").length<=b)return a;a=a.substr(0,b).replace(/([^\x00-\xff])/g,"$1 ").substr(0,b).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1");return a+c}}})(d.baiduCproPage)})(window);

(function(){baiduCproPage.html.loadCss("#closeBtn {z-index: 2147483647; position: absolute; text-align: center; color:#C5C5C7; display:block; background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/closebtn.png') no-repeat left top; cursor:pointer; text-decoration: none;  font-weight: 100;  } #closeBtn:hover {  background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/closebtn_hover.png') no-repeat left top;  color:#F0F0FB;  } #closeWrapper {  position: absolute;  display: inline-block;  zoom:1;  z-index: 2147483648;  }.closeA ,.closeB{ height:20px;  line-height: 20px;  font-size: 14px;  text-align: center;  color:#000;  margin:0px 0px 1px 0px;  display: block;  width:120px;  position:relative;  text-decoration:none;  background-color:#efefef;  border-bottom: 1px solid #7fccff;  zoom:1;  } .closeA:hover, .closeB:hover {  background: #7fccff;  color:#F0F0FB; cursor:pointer;  }.arr-b {position:absolute;width:11px; height:7px;display: block;right:3px;bottom:-7px;_bottom:-16px;background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/arr_hover.png') no-repeat left top;  } .arr-b-hover {  position:absolute;  width:11px;  height:7px;  display: block;  right:3px;  bottom:-7px;  _bottom:-16px;  background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/arr.png') no-repeat left top;  } #tipWrapper {position: absolute;  top:0px;  left:0px;  z-index: 2147483648;  padding:10px 20px 0px;  background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/bg_rb.png') no-repeat right bottom;  background-color: #fafafa;  }#tipWrapper .tit {font-size:20px;font-family:microsoft Yahei; color:#333333;line-height: 20px;padding-left:10px; background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/icon_col.png') left top no-repeat;  } #tipWrapper .goback ,.btn-blue {font-size: 14px;color:#5ea5fc;cursor:pointer;text-decoration: underline;white-space: nowrap;word-wrap: normal;}#tipWrapper .goback {display: inline-block;zoom:1;margin-left:15px; }#tipWrapper .question_tit .goback {display: inline-block;zoom: 1;margin: 0 15px 0 0; } #tipWrapper .baidu_logo {width:59px;height:19px;position:absolute;  right:10px;  bottom:10px;  }#tipWrapper .question_tit{display:block;text-decoration: none;font-size: 12px; line-height: 25px;margin:5px 0;color:#333;  }#tipWrapper .mw1 {max-width: 470px;float:left;}#tipWrapper .question_choice .choice, #tipWrapper .mw1 span {margin-right: 10px;text-decoration: none;width:120px;overflow:hidden;height:25px;line-height: 25px;  display: inline-block;zoom:1; cursor: pointer;  color:#333;  font-size: 12px;  background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/ico_sel_gray.png') no-repeat left center;  padding-left:20px;  zoom:1;  }#tipWrapper .question_choice .choice:hover{ background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/ico_sel_blue.png') no-repeat left center; }#tipWrapper .mw1 span {margin-right: 10px; height:15px; line-height: 15px; display: inline-block; cursor: pointer; color: #666666; font-size: 12px; width: 42%; overflow: hidden; text-overflow: ellipsis; background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/ico_mulsel_gray.png') no-repeat left center; padding-left:20px; zoom: 1;  }#tipWrapper .mw1 .checked{ background: url('http://cpro.baidustatic.com/cpro/exp/closead/img/ico_mulsel_blue.png') no-repeat left center; }#tipWrapper .btn-sub { display: inline-block; zoom:1;width: 80px; height: 25px; line-height: 25px; font-size: 14px; background: none repeat scroll 0% 0% rgb(51, 132, 255); text-align: center; color: rgb(255, 255, 255); float: left; margin-left: 100px; cursor: pointer; }");
    for(var k=[],l=[],e=0;e<bdUserPreferenceReason.length;e++)"0"==bdUserPreferenceReason[e].type?k.push(bdUserPreferenceReason[e]):l.push(bdUserPreferenceReason[e]);e=function(){var b={},c=location.href.split("?")[1];if(c&&c.length){for(var c=c.split("&"),a=0;a<c.length;a++){var f=c[a].split("=");b[f[0]]=f[1]}return b}}();"undefined"==typeof config&&(config=e);if(!(-1>="960*90|300*250|580*90|728*90|120*600|160*600".indexOf(config.rsi0+"*"+config.rsi1))){var d=function(b){var c=
        [],a;for(a in b)c.push(a+"="+b[a]);(new Image).src="http://eclick.baidu.com/close_feedback.jpg?"+c.join("&")+"&_="+(new Date).getTime()};({init:function(){this.getLogo()},hoverTimer:null,elems:{},snippet:{},counter:0,getLogo:function(){var b=this,c=baiduCproPage.dom.find("logo")||baiduCproPage.dom.getByClass("logo")[0]||baiduCproPage.dom.getByClass("bd-logo")[0]||baiduCproPage.dom.getByClass("bd-logo2")[0]||baiduCproPage.dom.getByClass("bd-logo3")[0]||baiduCproPage.dom.getByClass("bd-logo4")[0];!c&&
    3>this.counter++?setTimeout(function(){b.getLogo()},50):b.draw(c)},draw:function(b){if(b){this.coverFlag=!1;baiduCproPage.dom.css(b,"width");var c=baiduCproPage.dom.css(b,"height"),a=baiduCproPage.dom.css(b,"bottom"),f=baiduCproPage.dom.css(b,"right"),h=document.createElement("a"),d=document.createElement("div"),e=document.createElement("div");b.style.right=parseInt(c)+3+"px";b.parentNode.appendChild(h);h.id="closeBtn";h.style.display="block";h.style.lineHeight=h.style.width=h.style.height=c;h.style.right=
        f;h.style.bottom=a;this.coverFlag?(b.parentNode.appendChild(d),d.id="closeWrapper",d.style.right=parseInt(f)+2+"px",d.style.display="none",d.style.bottom=parseInt(a)+parseInt(c)+7+"px",d.innerHTML='<a class="closeB" href="javascript:;">\u4e0d\u60f3\u770b\u6b64\u63a8\u5e7f\u5185\u5bb9</a><a class="closeA" href="javascript:;">\u5173\u95ed\u6b64\u63a8\u5e7f\u4f4d\u663e\u793a<span class="arr-b"></span></a>'):h.title="\u5173\u95ed\u6b64\u63a8\u5e7f\u4f4d\u663e\u793a";e.id="tipWrapper";e.style.display=
        "none";e.style.width=parseInt(config.rsi0)-40+"px";e.style.height=parseInt(config.rsi1)-10+"px";for(var c=[],f=a="",g=0;g<l.length;g++)a+=['<a index="',g,'" href="javascript:;" class="choice" id="',l[g].id,'">',l[g].name,"</a>"].join("");for(g=0;g<k.length;g++)f+=['<a index="',g,'" href="javascript:;" class="choice" id="',k[g].id,'">',k[g].name,"</a>"].join("");a&&(a='<p class="question_tit">\u60a8\u5c4f\u853d\u6b64\u63a8\u5e7f\u5185\u5bb9\u662f\u56e0\u4e3a\uff1f</p><p class="question_choice">'+a+
    "</p>");f&&(f='<p class="question_tit">\u6b64\u63a8\u5e7f\u6709\u4ec0\u4e48\u95ee\u9898\uff1f</p><div class="question_choice">'+f+"</div>");c.push('<div id="closeEnd" style="display:none"><div class="tit">\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01</div><p class="question_tit"><span class="goback toAd">\u8fd4\u56de</span><a class="btn-blue" href="http://yingxiao.baidu.com/zhichi/knowledge/detail.action?channelId=3&classId=10845&knowledgeId=14394" target="_blank">\u4e86\u89e3\u8be6\u60c5</a></p><p class="question_tit">\u6211\u4eec\u5df2\u8bb0\u5f55\u60a8\u5bf9\u6b64\u63a8\u5e7f\u5185\u5bb9\u7684\u53cd\u9988\uff0c\u4ee5\u4fbf\u6539\u5584\u60a8\u4eca\u540e\u7684\u6d4f\u89c8\u4f53\u9a8c\u3002</p></div>');
        c.push(['<div id="closeChoice"><div class="tit">\u5c06\u4e3a\u60a8\u5173\u95ed\u6b64\u6b21\u63a8\u5e7f\u5c55\u793a<span class="goback">\u64a4\u9500</span></div>',f,'</div><a href="http://www.baidu.com" target="_blank" class="baidu_logo"><img src="http://cpro.baidustatic.com/cpro/exp/closead/img/bd_logo.png" width="59" height="19"></a>'].join(""));this.coverFlag&&(c.push('<div id="coverEnd" style="display:none"><div class="tit">\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01</div><p class="question_tit"><span class="goback toAd">\u8fd4\u56de</span><a class="btn-blue" href="http://yingxiao.baidu.com/zhichi/knowledge/detail.action?channelId=3&classId=10845&knowledgeId=14394" target="_blank">\u4e86\u89e3\u8be6\u60c5</a></p><p class="question_tit">\u6211\u4eec\u5df2\u8bb0\u5f55\u60a8\u5bf9\u6b64\u63a8\u5e7f\u5185\u5bb9\u7684\u53cd\u9988\uff0c\u4ee5\u4fbf\u6539\u5584\u60a8\u4eca\u540e\u7684\u6d4f\u89c8\u4f53\u9a8c\u3002</p></div>'),
            c.push(['<div id="coverChoice"><div class="tit">\u5c06\u4e3a\u60a8\u5c4f\u853d\u6b64\u63a8\u5e7f\u5c55\u793a<span class="goback">\u64a4\u9500</span></div>',a,'</div><a href="http://www.baidu.com" target="_blank" class="baidu_logo"><img src="http://cpro.baidustatic.com/cpro/exp/closead/img/bd_logo.png" width="59" height="19"></a>'].join("")));e.innerHTML=c.join("");document.body.appendChild(e);this.elems={logo:b,closeBtn:h,tipWrapper:e,closeChoice:baiduCproPage.dom.find("closeChoice"),closeEnd:baiduCproPage.dom.find("closeEnd")};
        this.coverFlag&&(this.elems.closeWrapper=d,this.elems.coverChoice=baiduCproPage.dom.find("coverChoice"),this.elems.coverEnd=baiduCproPage.dom.find("coverEnd"));this.events()}},events:function(){var b=this,c=baiduCproPage.dom.hasClass;b.coverFlag?(baiduCproPage.eventUtil.hover(b.elems.closeBtn,function(){clearTimeout(b.hoverTimer);b.elems.closeWrapper.style.display="block"},function(){b.hoverTimer=setTimeout(function(){b.elems.closeWrapper.style.display="none"},200)}),baiduCproPage.eventUtil.hover(b.elems.closeWrapper,
        function(){clearTimeout(b.hoverTimer)},function(){b.hoverTimer=setTimeout(function(){b.elems.closeWrapper.style.display="none"},200)}),baiduCproPage.eventUtil.addEvent(b.elems.closeWrapper,"mouseover",function(a){a=a.target||a.srcElement;"closeA"==a.className&&(a.getElementsByTagName("span")[0].style.backgroundImage="url(http://cpro.baidustatic.com/cpro/exp/closead/img/arr.png)");"span"==a.tagName.toLowerCase()&&(a.style.backgroundImage="url(http://cpro.baidustatic.com/cpro/exp/closead/img/arr.png)")}),
        baiduCproPage.eventUtil.addEvent(b.elems.closeWrapper,"mouseout",function(a){a=a.target||a.srcElement;"closeA"==a.className&&(a.getElementsByTagName("span")[0].style.backgroundImage="url(http://cpro.baidustatic.com/cpro/exp/closead/img/arr_hover.png)");"span"==a.tagName.toLowerCase()&&(a.style.backgroundImage="url(http://cpro.baidustatic.com/cpro/exp/closead/img/arr_hover.png)")}),baiduCproPage.eventUtil.addEvent(b.elems.closeWrapper,"click",function(a){for(a=a.target||a.srcElement;"a"!=a.tagName.toLowerCase();)a=
        a.parentNode;"closeA"==a.className?(b.elems.coverChoice.style.display="none",b.elems.closeChoice.style.display="block",d({type:1,action:1,filter:0,adn:1,list:1,s:preferenceInfo})):(b.elems.coverChoice.style.display="block",b.elems.closeChoice.style.display="none",d({type:2,action:2,filter:0,adn:1,list:1,s:preferenceInfo}));b.elems.tipWrapper.style.display="block"})):baiduCproPage.eventUtil.addEvent(b.elems.closeBtn,"click",function(a){b.elems.closeChoice.style.display="block";b.elems.closeEnd.style.display=
        "none";d({type:1,action:1,filter:0,adn:1,list:1,s:preferenceInfo});b.elems.tipWrapper.style.display="block"});baiduCproPage.eventUtil.addEvent(b.elems.closeChoice,"click",function(a){a=a.target||a.srcElement;if(c(a,"goback")||c(a.parentNode,"goback"))b.elems.tipWrapper.style.display="none",d({type:1,action:5,filter:0,adn:1,list:1,s:preferenceInfo});c(a,"choice")&&(a=a.id,b.elems.closeChoice.style.display="none",b.elems.closeEnd.style.display="block",d({type:1,action:3,filter:0,adn:1,list:1,s:preferenceInfo,
        reasonid:a}))});baiduCproPage.eventUtil.addEvent(b.elems.closeEnd,"click",function(a){a=a.target||a.srcElement;if(c(a,"goback")||c(a.parentNode,"goback"))b.elems.closeChoice.style.display="block",b.elems.closeEnd.style.display="none",d({type:1,action:4,filter:0,adn:1,list:1,s:preferenceInfo})});b.coverFlag&&(baiduCproPage.eventUtil.addEvent(b.elems.coverChoice,"click",function(a){a=a.target||a.srcElement;if(c(a,"goback")||c(a.parentNode,"goback"))b.elems.tipWrapper.style.display="none",d({type:2,
        action:5,filter:0,adn:1,list:1,s:preferenceInfo});c(a,"choice")&&(a=a.id,b.elems.coverChoice.style.display="none",b.elems.coverEnd.style.display="block",d({type:2,action:3,filter:1,adn:1,list:1,s:preferenceInfo,reasonid:a}))}),baiduCproPage.eventUtil.addEvent(b.elems.coverEnd,"click",function(a){a=a.target||a.srcElement;if(c(a,"goback")||c(a.parentNode,"goback"))b.elems.coverChoice.style.display="block",b.elems.coverEnd.style.display="none",d({type:2,action:4,filter:2,adn:1,list:1,s:preferenceInfo})}))}}).init()}})();